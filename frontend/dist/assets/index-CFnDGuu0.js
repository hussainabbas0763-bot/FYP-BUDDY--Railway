function X6(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function ao(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c0={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj;function W6(){if(Uj)return pu;Uj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:a,key:c,ref:o!==void 0?o:null,props:l}}return pu.Fragment=t,pu.jsx=r,pu.jsxs=r,pu}var Hj;function Q6(){return Hj||(Hj=1,c0.exports=W6()),c0.exports}var n=Q6(),u0={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function Z6(){if(qj)return vt;qj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function b(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function S(_,$,z){this.props=_,this.context=$,this.refs=N,this.updater=z||j}S.prototype.isReactComponent={},S.prototype.setState=function(_,$){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,$,"setState")},S.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=S.prototype;function A(_,$,z){this.props=_,this.context=$,this.refs=N,this.updater=z||j}var I=A.prototype=new C;I.constructor=A,k(I,S.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function T(){}var B={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function Y(_,$,z){var ue=z.ref;return{$$typeof:e,type:_,key:$,ref:ue!==void 0?ue:null,props:z}}function K(_,$){return Y(_.type,$,_.props)}function le(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function L(_){var $={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(z){return $[z]})}var W=/\/+/g;function Q(_,$){return typeof _=="object"&&_!==null&&_.key!=null?L(""+_.key):$.toString(36)}function Z(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(T,T):(_.status="pending",_.then(function($){_.status==="pending"&&(_.status="fulfilled",_.value=$)},function($){_.status==="pending"&&(_.status="rejected",_.reason=$)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function U(_,$,z,ue,ve){var re=typeof _;(re==="undefined"||re==="boolean")&&(_=null);var ce=!1;if(_===null)ce=!0;else switch(re){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(_.$$typeof){case e:case t:ce=!0;break;case g:return ce=_._init,U(ce(_._payload),$,z,ue,ve)}}if(ce)return ve=ve(_),ce=ue===""?"."+Q(_,0):ue,D(ve)?(z="",ce!=null&&(z=ce.replace(W,"$&/")+"/"),U(ve,$,z,"",function(Ce){return Ce})):ve!=null&&(le(ve)&&(ve=K(ve,z+(ve.key==null||_&&_.key===ve.key?"":(""+ve.key).replace(W,"$&/")+"/")+ce)),$.push(ve)),1;ce=0;var Me=ue===""?".":ue+":";if(D(_))for(var Ne=0;Ne<_.length;Ne++)ue=_[Ne],re=Me+Q(ue,Ne),ce+=U(ue,$,z,re,ve);else if(Ne=b(_),typeof Ne=="function")for(_=Ne.call(_),Ne=0;!(ue=_.next()).done;)ue=ue.value,re=Me+Q(ue,Ne++),ce+=U(ue,$,z,re,ve);else if(re==="object"){if(typeof _.then=="function")return U(Z(_),$,z,ue,ve);throw $=String(_),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ce}function G(_,$,z){if(_==null)return _;var ue=[],ve=0;return U(_,ue,"","",function(re){return $.call(z,re,ve++)}),ue}function F(_){if(_._status===-1){var $=_._result;$=$(),$.then(function(z){(_._status===0||_._status===-1)&&(_._status=1,_._result=z)},function(z){(_._status===0||_._status===-1)&&(_._status=2,_._result=z)}),_._status===-1&&(_._status=0,_._result=$)}if(_._status===1)return _._result.default;throw _._result}var V=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},R={map:G,forEach:function(_,$,z){G(_,function(){$.apply(this,arguments)},z)},count:function(_){var $=0;return G(_,function(){$++}),$},toArray:function(_){return G(_,function($){return $})||[]},only:function(_){if(!le(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return vt.Activity=p,vt.Children=R,vt.Component=S,vt.Fragment=r,vt.Profiler=o,vt.PureComponent=A,vt.StrictMode=a,vt.Suspense=f,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,vt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return B.H.useMemoCache(_)}},vt.cache=function(_){return function(){return _.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(_,$,z){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ue=k({},_.props),ve=_.key;if($!=null)for(re in $.key!==void 0&&(ve=""+$.key),$)!X.call($,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&$.ref===void 0||(ue[re]=$[re]);var re=arguments.length-2;if(re===1)ue.children=z;else if(1<re){for(var ce=Array(re),Me=0;Me<re;Me++)ce[Me]=arguments[Me+2];ue.children=ce}return Y(_.type,ve,ue)},vt.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},vt.createElement=function(_,$,z){var ue,ve={},re=null;if($!=null)for(ue in $.key!==void 0&&(re=""+$.key),$)X.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=$[ue]);var ce=arguments.length-2;if(ce===1)ve.children=z;else if(1<ce){for(var Me=Array(ce),Ne=0;Ne<ce;Ne++)Me[Ne]=arguments[Ne+2];ve.children=Me}if(_&&_.defaultProps)for(ue in ce=_.defaultProps,ce)ve[ue]===void 0&&(ve[ue]=ce[ue]);return Y(_,re,ve)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(_){return{$$typeof:d,render:_}},vt.isValidElement=le,vt.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:F}},vt.memo=function(_,$){return{$$typeof:m,type:_,compare:$===void 0?null:$}},vt.startTransition=function(_){var $=B.T,z={};B.T=z;try{var ue=_(),ve=B.S;ve!==null&&ve(z,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(T,V)}catch(re){V(re)}finally{$!==null&&z.types!==null&&($.types=z.types),B.T=$}},vt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},vt.use=function(_){return B.H.use(_)},vt.useActionState=function(_,$,z){return B.H.useActionState(_,$,z)},vt.useCallback=function(_,$){return B.H.useCallback(_,$)},vt.useContext=function(_){return B.H.useContext(_)},vt.useDebugValue=function(){},vt.useDeferredValue=function(_,$){return B.H.useDeferredValue(_,$)},vt.useEffect=function(_,$){return B.H.useEffect(_,$)},vt.useEffectEvent=function(_){return B.H.useEffectEvent(_)},vt.useId=function(){return B.H.useId()},vt.useImperativeHandle=function(_,$,z){return B.H.useImperativeHandle(_,$,z)},vt.useInsertionEffect=function(_,$){return B.H.useInsertionEffect(_,$)},vt.useLayoutEffect=function(_,$){return B.H.useLayoutEffect(_,$)},vt.useMemo=function(_,$){return B.H.useMemo(_,$)},vt.useOptimistic=function(_,$){return B.H.useOptimistic(_,$)},vt.useReducer=function(_,$,z){return B.H.useReducer(_,$,z)},vt.useRef=function(_){return B.H.useRef(_)},vt.useState=function(_){return B.H.useState(_)},vt.useSyncExternalStore=function(_,$,z){return B.H.useSyncExternalStore(_,$,z)},vt.useTransition=function(){return B.H.useTransition()},vt.version="19.2.0",vt}var Vj;function ad(){return Vj||(Vj=1,u0.exports=Z6()),u0.exports}var x=ad();const pr=ao(x),e2=X6({__proto__:null,default:pr},[x]);var d0={exports:{}},gu={},f0={exports:{}},h0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function J6(){return Gj||(Gj=1,(function(e){function t(U,G){var F=U.length;U.push(G);e:for(;0<F;){var V=F-1>>>1,R=U[V];if(0<o(R,G))U[V]=G,U[F]=R,F=V;else break e}}function r(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var G=U[0],F=U.pop();if(F!==G){U[0]=F;e:for(var V=0,R=U.length,_=R>>>1;V<_;){var $=2*(V+1)-1,z=U[$],ue=$+1,ve=U[ue];if(0>o(z,F))ue<R&&0>o(ve,z)?(U[V]=ve,U[ue]=F,V=ue):(U[V]=z,U[$]=F,V=$);else if(ue<R&&0>o(ve,F))U[V]=ve,U[ue]=F,V=ue;else break e}}return G}function o(U,G){var F=U.sortIndex-G.sortIndex;return F!==0?F:U.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,p=null,v=3,b=!1,j=!1,k=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function I(U){for(var G=r(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=U)a(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=r(m)}}function D(U){if(k=!1,I(U),!j)if(r(f)!==null)j=!0,T||(T=!0,L());else{var G=r(m);G!==null&&Z(D,G.startTime-U)}}var T=!1,B=-1,X=5,Y=-1;function K(){return N?!0:!(e.unstable_now()-Y<X)}function le(){if(N=!1,T){var U=e.unstable_now();Y=U;var G=!0;try{e:{j=!1,k&&(k=!1,C(B),B=-1),b=!0;var F=v;try{t:{for(I(U),p=r(f);p!==null&&!(p.expirationTime>U&&K());){var V=p.callback;if(typeof V=="function"){p.callback=null,v=p.priorityLevel;var R=V(p.expirationTime<=U);if(U=e.unstable_now(),typeof R=="function"){p.callback=R,I(U),G=!0;break t}p===r(f)&&a(f),I(U)}else a(f);p=r(f)}if(p!==null)G=!0;else{var _=r(m);_!==null&&Z(D,_.startTime-U),G=!1}}break e}finally{p=null,v=F,b=!1}G=void 0}}finally{G?L():T=!1}}}var L;if(typeof A=="function")L=function(){A(le)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Q=W.port2;W.port1.onmessage=le,L=function(){Q.postMessage(null)}}else L=function(){S(le,0)};function Z(U,G){B=S(function(){U(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var F=v;v=G;try{return U()}finally{v=F}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=v;v=U;try{return G()}finally{v=F}},e.unstable_scheduleCallback=function(U,G,F){var V=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?V+F:V):F=V,U){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=F+R,U={id:g++,callback:G,priorityLevel:U,startTime:F,expirationTime:R,sortIndex:-1},F>V?(U.sortIndex=F,t(m,U),r(f)===null&&U===r(m)&&(k?(C(B),B=-1):k=!0,Z(D,F-V))):(U.sortIndex=R,t(f,U),j||b||(j=!0,T||(T=!0,L()))),U},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(U){var G=v;return function(){var F=v;v=G;try{return U.apply(this,arguments)}finally{v=F}}}})(h0)),h0}var Yj;function eR(){return Yj||(Yj=1,f0.exports=J6()),f0.exports}var m0={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kj;function tR(){if(Kj)return An;Kj=1;var e=ad();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,m,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:f,containerInfo:m,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,An.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,g)},An.flushSync=function(f){var m=c.T,g=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=g,a.d.f()}},An.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},An.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},An.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,p=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:b}):g==="script"&&a.d.X(f,{crossOrigin:p,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},An.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},An.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,p=d(g,m.crossOrigin);a.d.L(f,g,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},An.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},An.requestFormReset=function(f){a.d.r(f)},An.unstable_batchedUpdates=function(f,m){return f(m)},An.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.2.0",An}var Xj;function t2(){if(Xj)return m0.exports;Xj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m0.exports=tR(),m0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function rR(){if(Wj)return gu;Wj=1;var e=eR(),t=ad(),r=t2();function a(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(a(188))}function m(s){var i=s.alternate;if(!i){if(i=l(s),i===null)throw Error(a(188));return i!==s?null:s}for(var u=s,h=i;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return f(y),s;if(w===h)return f(y),i;w=w.sibling}throw Error(a(188))}if(u.return!==h.return)u=y,h=w;else{for(var E=!1,H=y.child;H;){if(H===u){E=!0,u=y,h=w;break}if(H===h){E=!0,h=y,u=w;break}H=H.sibling}if(!E){for(H=w.child;H;){if(H===u){E=!0,u=w,h=y;break}if(H===h){E=!0,h=w,u=y;break}H=H.sibling}if(!E)throw Error(a(189))}}if(u.alternate!==h)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?s:i}function g(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=g(s),i!==null)return i;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=le&&s[le]||s["@@iterator"],typeof s=="function"?s:null)}var W=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===W?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case A:return s.displayName||"Context";case C:return(s._context.displayName||"Context")+".Consumer";case I:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return i=s.displayName||null,i!==null?i:Q(s.type)||"Memo";case X:i=s._payload,s=s._init;try{return Q(s(i))}catch{}}return null}var Z=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},V=[],R=-1;function _(s){return{current:s}}function $(s){0>R||(s.current=V[R],V[R]=null,R--)}function z(s,i){R++,V[R]=s.current,s.current=i}var ue=_(null),ve=_(null),re=_(null),ce=_(null);function Me(s,i){switch(z(re,i),z(ve,s),z(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?dj(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=dj(i),s=fj(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(ue),z(ue,s)}function Ne(){$(ue),$(ve),$(re)}function Ce(s){s.memoizedState!==null&&z(ce,s);var i=ue.current,u=fj(i,s.type);i!==u&&(z(ve,s),z(ue,u))}function Ee(s){ve.current===s&&($(ue),$(ve)),ce.current===s&&($(ce),du._currentValue=F)}var Re,Be;function $e(s){if(Re===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);Re=i&&i[1]||"",Be=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+s+Be}var bt=!1;function jt(s,i){if(!s||bt)return"";bt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(ke){var be=ke}Reflect.construct(s,[],Oe)}else{try{Oe.call()}catch(ke){be=ke}s.call(Oe.prototype)}}else{try{throw Error()}catch(ke){be=ke}(Oe=s())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(ke){if(ke&&be&&typeof ke.stack=="string")return[ke.stack,be.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),E=w[0],H=w[1];if(E&&H){var ie=E.split(`
`),xe=H.split(`
`);for(y=h=0;h<ie.length&&!ie[h].includes("DetermineComponentFrameRoot");)h++;for(;y<xe.length&&!xe[y].includes("DetermineComponentFrameRoot");)y++;if(h===ie.length||y===xe.length)for(h=ie.length-1,y=xe.length-1;1<=h&&0<=y&&ie[h]!==xe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ie[h]!==xe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ie[h]!==xe[y]){var Ae=`
`+ie[h].replace(" at new "," at ");return s.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",s.displayName)),Ae}while(1<=h&&0<=y);break}}}finally{bt=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?$e(u):""}function mt(s,i){switch(s.tag){case 26:case 27:case 5:return $e(s.type);case 16:return $e("Lazy");case 13:return s.child!==i&&i!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return jt(s.type,!1);case 11:return jt(s.type.render,!1);case 1:return jt(s.type,!0);case 31:return $e("Activity");default:return""}}function kt(s){try{var i="",u=null;do i+=mt(s,u),u=s,s=s.return;while(s);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Lt=Object.prototype.hasOwnProperty,Dr=e.unstable_scheduleCallback,Vt=e.unstable_cancelCallback,Sr=e.unstable_shouldYield,Cr=e.unstable_requestPaint,Yt=e.unstable_now,on=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,dt=e.unstable_LowPriority,ht=e.unstable_IdlePriority,yr=e.log,ir=e.unstable_setDisableYieldValue,hr=null,rr=null;function nr(s){if(typeof yr=="function"&&ir(s),rr&&typeof rr.setStrictMode=="function")try{rr.setStrictMode(hr,s)}catch{}}var pt=Math.clz32?Math.clz32:Ln,Er=Math.log,br=Math.LN2;function Ln(s){return s>>>=0,s===0?32:31-(Er(s)/br|0)|0}var kn=256,us=262144,Vn=4194304;function Qr(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function zn(s,i,u){var h=s.pendingLanes;if(h===0)return 0;var y=0,w=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var H=h&134217727;return H!==0?(h=H&~w,h!==0?y=Qr(h):(E&=H,E!==0?y=Qr(E):u||(u=H&~s,u!==0&&(y=Qr(u))))):(H=h&~w,H!==0?y=Qr(H):E!==0?y=Qr(E):u||(u=h&~s,u!==0&&(y=Qr(u)))),y===0?0:i!==0&&i!==y&&(i&w)===0&&(w=y&-y,u=i&-i,w>=u||w===32&&(u&4194048)!==0)?i:y}function mn(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Gn(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(){var s=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),s}function Tr(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function se(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function me(s,i,u,h,y,w){var E=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var H=s.entanglements,ie=s.expirationTimes,xe=s.hiddenUpdates;for(u=E&~u;0<u;){var Ae=31-pt(u),Oe=1<<Ae;H[Ae]=0,ie[Ae]=-1;var be=xe[Ae];if(be!==null)for(xe[Ae]=null,Ae=0;Ae<be.length;Ae++){var ke=be[Ae];ke!==null&&(ke.lane&=-536870913)}u&=~Oe}h!==0&&pe(s,h,0),w!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=w&~(E&~i))}function pe(s,i,u){s.pendingLanes|=i,s.suspendedLanes&=~i;var h=31-pt(i);s.entangledLanes|=i,s.entanglements[h]=s.entanglements[h]|1073741824|u&261930}function Se(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var h=31-pt(u),y=1<<h;y&i|s[h]&i&&(s[h]|=i),u&=~y}}function Fe(s,i){var u=i&-i;return u=(u&42)!==0?1:Ye(u),(u&(s.suspendedLanes|i))!==0?0:u}function Ye(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ge(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ve(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:Pj(s.type))}function Xe(s,i){var u=G.p;try{return G.p=s,i()}finally{G.p=u}}var Ke=Math.random().toString(36).slice(2),He="__reactFiber$"+Ke,qe="__reactProps$"+Ke,gt="__reactContainer$"+Ke,Dt="__reactEvents$"+Ke,or="__reactListeners$"+Ke,Mr="__reactHandles$"+Ke,er="__reactResources$"+Ke,It="__reactMarker$"+Ke;function Fn(s){delete s[He],delete s[qe],delete s[Dt],delete s[or],delete s[Mr]}function Nn(s){var i=s[He];if(i)return i;for(var u=s.parentNode;u;){if(i=u[gt]||u[He]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=bj(s);s!==null;){if(u=s[He])return u;s=bj(s)}return i}s=u,u=s.parentNode}return null}function Zr(s){if(s=s[He]||s[gt]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Br(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(a(33))}function In(s){var i=s[er];return i||(i=s[er]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qt(s){s[It]=!0}var ln=new Set,Yn={};function cn(s,i){xt(s,i),xt(s+"Capture",i)}function xt(s,i){for(Yn[s]=i,s=0;s<i.length;s++)ln.add(i[s])}var lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},Sn={};function vr(s){return Lt.call(Sn,s)?!0:Lt.call($r,s)?!1:lr.test(s)?Sn[s]=!0:($r[s]=!0,!1)}function la(s,i,u){if(vr(i))if(u===null)s.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+u)}}function qa(s,i,u){if(u===null)s.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+u)}}function un(s,i,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(i,u,""+h)}}function Ur(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fo(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ds(s,i,u){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return y.call(this)},set:function(E){u=""+E,w.call(this,E)}}),Object.defineProperty(s,i,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function pn(s){if(!s._valueTracker){var i=fo(s)?"checked":"value";s._valueTracker=ds(s,i,""+s[i])}}function Va(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),h="";return s&&(h=fo(s)?s.checked?"true":"false":s.value),s=h,s!==u?(i.setValue(s),!0):!1}function mi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ac=/[\n"\\]/g;function Cn(s){return s.replace(Ac,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ho(s,i,u,h,y,w,E,H){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),i!=null?E==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Ur(i)):s.value!==""+Ur(i)&&(s.value=""+Ur(i)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),i!=null?O(s,E,Ur(i)):u!=null?O(s,E,Ur(u)):h!=null&&s.removeAttribute("value"),y==null&&w!=null&&(s.defaultChecked=!!w),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.name=""+Ur(H):s.removeAttribute("name")}function ae(s,i,u,h,y,w,E,H){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),i!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||i!=null)){pn(s);return}u=u!=null?""+Ur(u):"",i=i!=null?""+Ur(i):u,H||i===s.value||(s.value=i),s.defaultValue=i}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=H?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),pn(s)}function O(s,i,u){i==="number"&&mi(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function P(s,i,u,h){if(s=s.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=i.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Ur(u),i=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}i!==null||s[y].disabled||(i=s[y])}i!==null&&(i.selected=!0)}}function M(s,i,u){if(i!=null&&(i=""+Ur(i),i!==s.value&&(s.value=i),u==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=u!=null?""+Ur(u):""}function q(s,i,u,h){if(i==null){if(h!=null){if(u!=null)throw Error(a(92));if(Z(h)){if(1<h.length)throw Error(a(93));h=h[0]}u=h}u==null&&(u=""),i=u}u=Ur(i),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h),pn(s)}function J(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var oe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function te(s,i,u){var h=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":h?s.setProperty(i,u):typeof u!="number"||u===0||oe.has(i)?i==="float"?s.cssFloat=u:s[i]=(""+u).trim():s[i]=u+"px"}function ne(s,i,u){if(i!=null&&typeof i!="object")throw Error(a(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in i)h=i[y],i.hasOwnProperty(y)&&u[y]!==h&&te(s,y,h)}else for(var w in i)i.hasOwnProperty(w)&&te(s,w,i[w])}function de(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ze=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rt(s){return ze.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function yt(){}var nt=null;function lt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bt=null,Gt=null;function En(s){var i=Zr(s);if(i&&(s=i.stateNode)){var u=s[qe]||null;e:switch(s=i.stateNode,i.type){case"input":if(ho(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Cn(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var h=u[i];if(h!==s&&h.form===s.form){var y=h[qe]||null;if(!y)throw Error(a(90));ho(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<u.length;i++)h=u[i],h.form===s.form&&Va(h)}break e;case"textarea":M(s,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&P(s,!!u.multiple,i,!1)}}}var Bn=!1;function $n(s,i,u){if(Bn)return s(i,u);Bn=!0;try{var h=s(i);return h}finally{if(Bn=!1,(Bt!==null||Gt!==null)&&(mf(),Bt&&(i=Bt,s=Gt,Gt=Bt=null,En(i),s)))for(i=0;i<s.length;i++)En(s[i])}}function Sa(s,i){var u=s.stateNode;if(u===null)return null;var h=u[qe]||null;if(h===null)return null;u=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(a(231,i,typeof u));return u}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cp=!1;if(Ga)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){cp=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{cp=!1}var pi=null,up=null,Ed=null;function fv(){if(Ed)return Ed;var s,i=up,u=i.length,h,y="value"in pi?pi.value:pi.textContent,w=y.length;for(s=0;s<u&&i[s]===y[s];s++);var E=u-s;for(h=1;h<=E&&i[u-h]===y[w-h];h++);return Ed=y.slice(s,1<h?1-h:void 0)}function Ad(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Td(){return!0}function hv(){return!1}function Kn(s){function i(u,h,y,w,E){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(u=s[H],this[H]=u?u(w):w[H]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Td:hv,this.isPropagationStopped=hv,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),i}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=Kn(mo),Rc=p({},mo,{view:0,detail:0}),YT=Kn(Rc),dp,fp,_c,_d=p({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_c&&(_c&&s.type==="mousemove"?(dp=s.screenX-_c.screenX,fp=s.screenY-_c.screenY):fp=dp=0,_c=s),dp)},movementY:function(s){return"movementY"in s?s.movementY:fp}}),mv=Kn(_d),KT=p({},_d,{dataTransfer:0}),XT=Kn(KT),WT=p({},Rc,{relatedTarget:0}),hp=Kn(WT),QT=p({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),ZT=Kn(QT),JT=p({},mo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),e3=Kn(JT),t3=p({},mo,{data:0}),pv=Kn(t3),r3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s3(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=a3[s])?!!i[s]:!1}function mp(){return s3}var i3=p({},Rc,{key:function(s){if(s.key){var i=r3[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ad(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?n3[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mp,charCode:function(s){return s.type==="keypress"?Ad(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ad(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),o3=Kn(i3),l3=p({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=Kn(l3),c3=p({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mp}),u3=Kn(c3),d3=p({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),f3=Kn(d3),h3=p({},_d,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=Kn(h3),p3=p({},mo,{newState:0,oldState:0}),g3=Kn(p3),x3=[9,13,27,32],pp=Ga&&"CompositionEvent"in window,Dc=null;Ga&&"documentMode"in document&&(Dc=document.documentMode);var y3=Ga&&"TextEvent"in window&&!Dc,xv=Ga&&(!pp||Dc&&8<Dc&&11>=Dc),yv=" ",bv=!1;function vv(s,i){switch(s){case"keyup":return x3.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var nl=!1;function b3(s,i){switch(s){case"compositionend":return wv(i);case"keypress":return i.which!==32?null:(bv=!0,yv);case"textInput":return s=i.data,s===yv&&bv?null:s;default:return null}}function v3(s,i){if(nl)return s==="compositionend"||!pp&&vv(s,i)?(s=fv(),Ed=up=pi=null,nl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xv&&i.locale!=="ko"?null:i.data;default:return null}}var w3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!w3[s.type]:i==="textarea"}function kv(s,i,u,h){Bt?Gt?Gt.push(h):Gt=[h]:Bt=h,i=wf(i,"onChange"),0<i.length&&(u=new Rd("onChange","change",null,u,h),s.push({event:u,listeners:i}))}var Mc=null,Oc=null;function j3(s){sj(s,0)}function Dd(s){var i=Br(s);if(Va(i))return s}function Nv(s,i){if(s==="change")return i}var Sv=!1;if(Ga){var gp;if(Ga){var xp="oninput"in document;if(!xp){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),xp=typeof Cv.oninput=="function"}gp=xp}else gp=!1;Sv=gp&&(!document.documentMode||9<document.documentMode)}function Ev(){Mc&&(Mc.detachEvent("onpropertychange",Av),Oc=Mc=null)}function Av(s){if(s.propertyName==="value"&&Dd(Oc)){var i=[];kv(i,Oc,s,lt(s)),$n(j3,i)}}function k3(s,i,u){s==="focusin"?(Ev(),Mc=i,Oc=u,Mc.attachEvent("onpropertychange",Av)):s==="focusout"&&Ev()}function N3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dd(Oc)}function S3(s,i){if(s==="click")return Dd(i)}function C3(s,i){if(s==="input"||s==="change")return Dd(i)}function E3(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var ca=typeof Object.is=="function"?Object.is:E3;function Pc(s,i){if(ca(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),h=Object.keys(i);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!Lt.call(i,y)||!ca(s[y],i[y]))return!1}return!0}function Tv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Rv(s,i){var u=Tv(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=i&&h>=i)return{node:u,offset:i-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Tv(u)}}function _v(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?_v(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Dv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=mi(s.document);i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)s=i.contentWindow;else break;i=mi(s.document)}return i}function yp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var A3=Ga&&"documentMode"in document&&11>=document.documentMode,al=null,bp=null,Lc=null,vp=!1;function Mv(s,i,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vp||al==null||al!==mi(h)||(h=al,"selectionStart"in h&&yp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Lc&&Pc(Lc,h)||(Lc=h,h=wf(bp,"onSelect"),0<h.length&&(i=new Rd("onSelect","select",null,i,u),s.push({event:i,listeners:h}),i.target=al)))}function po(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var sl={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},wp={},Ov={};Ga&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function go(s){if(wp[s])return wp[s];if(!sl[s])return s;var i=sl[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in Ov)return wp[s]=i[u];return s}var Pv=go("animationend"),Lv=go("animationiteration"),zv=go("animationstart"),T3=go("transitionrun"),R3=go("transitionstart"),_3=go("transitioncancel"),Fv=go("transitionend"),Iv=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jp.push("scrollEnd");function Ya(s,i){Iv.set(s,i),cn(i,[s])}var Md=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ca=[],il=0,kp=0;function Od(){for(var s=il,i=kp=il=0;i<s;){var u=Ca[i];Ca[i++]=null;var h=Ca[i];Ca[i++]=null;var y=Ca[i];Ca[i++]=null;var w=Ca[i];if(Ca[i++]=null,h!==null&&y!==null){var E=h.pending;E===null?y.next=y:(y.next=E.next,E.next=y),h.pending=y}w!==0&&Bv(u,y,w)}}function Pd(s,i,u,h){Ca[il++]=s,Ca[il++]=i,Ca[il++]=u,Ca[il++]=h,kp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Np(s,i,u,h){return Pd(s,i,u,h),Ld(s)}function xo(s,i){return Pd(s,null,null,i),Ld(s)}function Bv(s,i,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var y=!1,w=s.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(y=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,y&&i!==null&&(y=31-pt(u),s=w.hiddenUpdates,h=s[y],h===null?s[y]=[i]:h.push(i),i.lane=u|536870912),w):null}function Ld(s){if(50<au)throw au=0,Mg=null,Error(a(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var ol={};function D3(s,i,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(s,i,u,h){return new D3(s,i,u,h)}function Sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ls(s,i){var u=s.alternate;return u===null?(u=ua(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function $v(s,i){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,i=u.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function zd(s,i,u,h,y,w){var E=0;if(h=s,typeof s=="function")Sp(s)&&(E=1);else if(typeof s=="string")E=z6(s,u,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=ua(31,u,i,y),s.elementType=Y,s.lanes=w,s;case k:return yo(u.children,y,w,i);case N:E=8,y|=24;break;case S:return s=ua(12,u,i,y|2),s.elementType=S,s.lanes=w,s;case D:return s=ua(13,u,i,y),s.elementType=D,s.lanes=w,s;case T:return s=ua(19,u,i,y),s.elementType=T,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:E=10;break e;case C:E=9;break e;case I:E=11;break e;case B:E=14;break e;case X:E=16,h=null;break e}E=29,u=Error(a(130,s===null?"null":typeof s,"")),h=null}return i=ua(E,u,i,y),i.elementType=s,i.type=h,i.lanes=w,i}function yo(s,i,u,h){return s=ua(7,s,h,i),s.lanes=u,s}function Cp(s,i,u){return s=ua(6,s,null,i),s.lanes=u,s}function Uv(s){var i=ua(18,null,null,0);return i.stateNode=s,i}function Ep(s,i,u){return i=ua(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Hv=new WeakMap;function Ea(s,i){if(typeof s=="object"&&s!==null){var u=Hv.get(s);return u!==void 0?u:(i={value:s,source:i,stack:kt(i)},Hv.set(s,i),i)}return{value:s,source:i,stack:kt(i)}}var ll=[],cl=0,Fd=null,zc=0,Aa=[],Ta=0,gi=null,fs=1,hs="";function zs(s,i){ll[cl++]=zc,ll[cl++]=Fd,Fd=s,zc=i}function qv(s,i,u){Aa[Ta++]=fs,Aa[Ta++]=hs,Aa[Ta++]=gi,gi=s;var h=fs;s=hs;var y=32-pt(h)-1;h&=~(1<<y),u+=1;var w=32-pt(i)+y;if(30<w){var E=y-y%5;w=(h&(1<<E)-1).toString(32),h>>=E,y-=E,fs=1<<32-pt(i)+y|u<<y|h,hs=w+s}else fs=1<<w|u<<y|h,hs=s}function Ap(s){s.return!==null&&(zs(s,1),qv(s,1,0))}function Tp(s){for(;s===Fd;)Fd=ll[--cl],ll[cl]=null,zc=ll[--cl],ll[cl]=null;for(;s===gi;)gi=Aa[--Ta],Aa[Ta]=null,hs=Aa[--Ta],Aa[Ta]=null,fs=Aa[--Ta],Aa[Ta]=null}function Vv(s,i){Aa[Ta++]=fs,Aa[Ta++]=hs,Aa[Ta++]=gi,fs=i.id,hs=i.overflow,gi=s}var gn=null,wr=null,$t=!1,xi=null,Ra=!1,Rp=Error(a(519));function yi(s){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc(Ea(i,s)),Rp}function Gv(s){var i=s.stateNode,u=s.type,h=s.memoizedProps;switch(i[He]=s,i[qe]=h,u){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)Ot(iu[u],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),ae(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),q(i,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||h.suppressHydrationWarning===!0||cj(i.textContent,u)?(h.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),h.onScroll!=null&&Ot("scroll",i),h.onScrollEnd!=null&&Ot("scrollend",i),h.onClick!=null&&(i.onclick=yt),i=!0):i=!1,i||yi(s,!0)}function Yv(s){for(gn=s.return;gn;)switch(gn.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:gn=gn.return}}function ul(s){if(s!==gn)return!1;if(!$t)return Yv(s),$t=!0,!1;var i=s.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Kg(s.type,s.memoizedProps)),u=!u),u&&wr&&yi(s),Yv(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));wr=yj(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));wr=yj(s)}else i===27?(i=wr,Di(s.type)?(s=Jg,Jg=null,wr=s):wr=i):wr=gn?Da(s.stateNode.nextSibling):null;return!0}function bo(){wr=gn=null,$t=!1}function _p(){var s=xi;return s!==null&&(Zn===null?Zn=s:Zn.push.apply(Zn,s),xi=null),s}function Fc(s){xi===null?xi=[s]:xi.push(s)}var Dp=_(null),vo=null,Fs=null;function bi(s,i,u){z(Dp,i._currentValue),i._currentValue=u}function Is(s){s._currentValue=Dp.current,$(Dp)}function Mp(s,i,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===u)break;s=s.return}}function Op(s,i,u,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var w=y.dependencies;if(w!==null){var E=y.child;w=w.firstContext;e:for(;w!==null;){var H=w;w=y;for(var ie=0;ie<i.length;ie++)if(H.context===i[ie]){w.lanes|=u,H=w.alternate,H!==null&&(H.lanes|=u),Mp(w.return,u,s),h||(E=null);break e}w=H.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(a(341));E.lanes|=u,w=E.alternate,w!==null&&(w.lanes|=u),Mp(E,u,s),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function dl(s,i,u,h){s=null;for(var y=i,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var H=y.type;ca(y.pendingProps.value,E.value)||(s!==null?s.push(H):s=[H])}}else if(y===ce.current){if(E=y.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(du):s=[du])}y=y.return}s!==null&&Op(i,s,u,h),i.flags|=262144}function Id(s){for(s=s.firstContext;s!==null;){if(!ca(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function wo(s){vo=s,Fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xn(s){return Kv(vo,s)}function Bd(s,i){return vo===null&&wo(s),Kv(s,i)}function Kv(s,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},Fs===null){if(s===null)throw Error(a(308));Fs=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Fs=Fs.next=i;return u}var M3=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){i.aborted=!0,s.forEach(function(u){return u()})}},O3=e.unstable_scheduleCallback,P3=e.unstable_NormalPriority,Hr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new M3,data:new Map,refCount:0}}function Ic(s){s.refCount--,s.refCount===0&&O3(P3,function(){s.controller.abort()})}var Bc=null,Lp=0,fl=0,hl=null;function L3(s,i){if(Bc===null){var u=Bc=[];Lp=0,fl=Ig(),hl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Lp++,i.then(Xv,Xv),i}function Xv(){if(--Lp===0&&Bc!==null){hl!==null&&(hl.status="fulfilled");var s=Bc;Bc=null,fl=0,hl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function z3(s,i){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){h.status="fulfilled",h.value=i;for(var y=0;y<u.length;y++)(0,u[y])(i)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var Wv=U.S;U.S=function(s,i){M1=Yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&L3(s,i),Wv!==null&&Wv(s,i)};var jo=_(null);function zp(){var s=jo.current;return s!==null?s:mr.pooledCache}function $d(s,i){i===null?z(jo,jo.current):z(jo,i.pool)}function Qv(){var s=zp();return s===null?null:{parent:Hr._currentValue,pool:s}}var ml=Error(a(460)),Fp=Error(a(474)),Ud=Error(a(542)),Hd={then:function(){}};function Zv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jv(s,i,u){switch(u=s[u],u===void 0?s.push(i):u!==i&&(i.then(yt,yt),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,tw(s),s;default:if(typeof i.status=="string")i.then(yt,yt);else{if(s=mr,s!==null&&100<s.shellSuspendCounter)throw Error(a(482));s=i,s.status="pending",s.then(function(h){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=h}},function(h){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,tw(s),s}throw No=i,ml}}function ko(s){try{var i=s._init;return i(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(No=u,ml):u}}var No=null;function ew(){if(No===null)throw Error(a(459));var s=No;return No=null,s}function tw(s){if(s===ml||s===Ud)throw Error(a(483))}var pl=null,$c=0;function qd(s){var i=$c;return $c+=1,pl===null&&(pl=[]),Jv(pl,s,i)}function Uc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Vd(s,i){throw i.$$typeof===v?Error(a(525)):(s=Object.prototype.toString.call(i),Error(a(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function rw(s){function i(he,fe){if(s){var ge=he.deletions;ge===null?(he.deletions=[fe],he.flags|=16):ge.push(fe)}}function u(he,fe){if(!s)return null;for(;fe!==null;)i(he,fe),fe=fe.sibling;return null}function h(he){for(var fe=new Map;he!==null;)he.key!==null?fe.set(he.key,he):fe.set(he.index,he),he=he.sibling;return fe}function y(he,fe){return he=Ls(he,fe),he.index=0,he.sibling=null,he}function w(he,fe,ge){return he.index=ge,s?(ge=he.alternate,ge!==null?(ge=ge.index,ge<fe?(he.flags|=67108866,fe):ge):(he.flags|=67108866,fe)):(he.flags|=1048576,fe)}function E(he){return s&&he.alternate===null&&(he.flags|=67108866),he}function H(he,fe,ge,_e){return fe===null||fe.tag!==6?(fe=Cp(ge,he.mode,_e),fe.return=he,fe):(fe=y(fe,ge),fe.return=he,fe)}function ie(he,fe,ge,_e){var at=ge.type;return at===k?Ae(he,fe,ge.props.children,_e,ge.key):fe!==null&&(fe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===X&&ko(at)===fe.type)?(fe=y(fe,ge.props),Uc(fe,ge),fe.return=he,fe):(fe=zd(ge.type,ge.key,ge.props,null,he.mode,_e),Uc(fe,ge),fe.return=he,fe)}function xe(he,fe,ge,_e){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ge.containerInfo||fe.stateNode.implementation!==ge.implementation?(fe=Ep(ge,he.mode,_e),fe.return=he,fe):(fe=y(fe,ge.children||[]),fe.return=he,fe)}function Ae(he,fe,ge,_e,at){return fe===null||fe.tag!==7?(fe=yo(ge,he.mode,_e,at),fe.return=he,fe):(fe=y(fe,ge),fe.return=he,fe)}function Oe(he,fe,ge){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Cp(""+fe,he.mode,ge),fe.return=he,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return ge=zd(fe.type,fe.key,fe.props,null,he.mode,ge),Uc(ge,fe),ge.return=he,ge;case j:return fe=Ep(fe,he.mode,ge),fe.return=he,fe;case X:return fe=ko(fe),Oe(he,fe,ge)}if(Z(fe)||L(fe))return fe=yo(fe,he.mode,ge,null),fe.return=he,fe;if(typeof fe.then=="function")return Oe(he,qd(fe),ge);if(fe.$$typeof===A)return Oe(he,Bd(he,fe),ge);Vd(he,fe)}return null}function be(he,fe,ge,_e){var at=fe!==null?fe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return at!==null?null:H(he,fe,""+ge,_e);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return ge.key===at?ie(he,fe,ge,_e):null;case j:return ge.key===at?xe(he,fe,ge,_e):null;case X:return ge=ko(ge),be(he,fe,ge,_e)}if(Z(ge)||L(ge))return at!==null?null:Ae(he,fe,ge,_e,null);if(typeof ge.then=="function")return be(he,fe,qd(ge),_e);if(ge.$$typeof===A)return be(he,fe,Bd(he,ge),_e);Vd(he,ge)}return null}function ke(he,fe,ge,_e,at){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return he=he.get(ge)||null,H(fe,he,""+_e,at);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return he=he.get(_e.key===null?ge:_e.key)||null,ie(fe,he,_e,at);case j:return he=he.get(_e.key===null?ge:_e.key)||null,xe(fe,he,_e,at);case X:return _e=ko(_e),ke(he,fe,ge,_e,at)}if(Z(_e)||L(_e))return he=he.get(ge)||null,Ae(fe,he,_e,at,null);if(typeof _e.then=="function")return ke(he,fe,ge,qd(_e),at);if(_e.$$typeof===A)return ke(he,fe,ge,Bd(fe,_e),at);Vd(fe,_e)}return null}function We(he,fe,ge,_e){for(var at=null,Kt=null,et=fe,At=fe=0,Ft=null;et!==null&&At<ge.length;At++){et.index>At?(Ft=et,et=null):Ft=et.sibling;var Xt=be(he,et,ge[At],_e);if(Xt===null){et===null&&(et=Ft);break}s&&et&&Xt.alternate===null&&i(he,et),fe=w(Xt,fe,At),Kt===null?at=Xt:Kt.sibling=Xt,Kt=Xt,et=Ft}if(At===ge.length)return u(he,et),$t&&zs(he,At),at;if(et===null){for(;At<ge.length;At++)et=Oe(he,ge[At],_e),et!==null&&(fe=w(et,fe,At),Kt===null?at=et:Kt.sibling=et,Kt=et);return $t&&zs(he,At),at}for(et=h(et);At<ge.length;At++)Ft=ke(et,he,At,ge[At],_e),Ft!==null&&(s&&Ft.alternate!==null&&et.delete(Ft.key===null?At:Ft.key),fe=w(Ft,fe,At),Kt===null?at=Ft:Kt.sibling=Ft,Kt=Ft);return s&&et.forEach(function(zi){return i(he,zi)}),$t&&zs(he,At),at}function ft(he,fe,ge,_e){if(ge==null)throw Error(a(151));for(var at=null,Kt=null,et=fe,At=fe=0,Ft=null,Xt=ge.next();et!==null&&!Xt.done;At++,Xt=ge.next()){et.index>At?(Ft=et,et=null):Ft=et.sibling;var zi=be(he,et,Xt.value,_e);if(zi===null){et===null&&(et=Ft);break}s&&et&&zi.alternate===null&&i(he,et),fe=w(zi,fe,At),Kt===null?at=zi:Kt.sibling=zi,Kt=zi,et=Ft}if(Xt.done)return u(he,et),$t&&zs(he,At),at;if(et===null){for(;!Xt.done;At++,Xt=ge.next())Xt=Oe(he,Xt.value,_e),Xt!==null&&(fe=w(Xt,fe,At),Kt===null?at=Xt:Kt.sibling=Xt,Kt=Xt);return $t&&zs(he,At),at}for(et=h(et);!Xt.done;At++,Xt=ge.next())Xt=ke(et,he,At,Xt.value,_e),Xt!==null&&(s&&Xt.alternate!==null&&et.delete(Xt.key===null?At:Xt.key),fe=w(Xt,fe,At),Kt===null?at=Xt:Kt.sibling=Xt,Kt=Xt);return s&&et.forEach(function(K6){return i(he,K6)}),$t&&zs(he,At),at}function dr(he,fe,ge,_e){if(typeof ge=="object"&&ge!==null&&ge.type===k&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:e:{for(var at=ge.key;fe!==null;){if(fe.key===at){if(at=ge.type,at===k){if(fe.tag===7){u(he,fe.sibling),_e=y(fe,ge.props.children),_e.return=he,he=_e;break e}}else if(fe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===X&&ko(at)===fe.type){u(he,fe.sibling),_e=y(fe,ge.props),Uc(_e,ge),_e.return=he,he=_e;break e}u(he,fe);break}else i(he,fe);fe=fe.sibling}ge.type===k?(_e=yo(ge.props.children,he.mode,_e,ge.key),_e.return=he,he=_e):(_e=zd(ge.type,ge.key,ge.props,null,he.mode,_e),Uc(_e,ge),_e.return=he,he=_e)}return E(he);case j:e:{for(at=ge.key;fe!==null;){if(fe.key===at)if(fe.tag===4&&fe.stateNode.containerInfo===ge.containerInfo&&fe.stateNode.implementation===ge.implementation){u(he,fe.sibling),_e=y(fe,ge.children||[]),_e.return=he,he=_e;break e}else{u(he,fe);break}else i(he,fe);fe=fe.sibling}_e=Ep(ge,he.mode,_e),_e.return=he,he=_e}return E(he);case X:return ge=ko(ge),dr(he,fe,ge,_e)}if(Z(ge))return We(he,fe,ge,_e);if(L(ge)){if(at=L(ge),typeof at!="function")throw Error(a(150));return ge=at.call(ge),ft(he,fe,ge,_e)}if(typeof ge.then=="function")return dr(he,fe,qd(ge),_e);if(ge.$$typeof===A)return dr(he,fe,Bd(he,ge),_e);Vd(he,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,fe!==null&&fe.tag===6?(u(he,fe.sibling),_e=y(fe,ge),_e.return=he,he=_e):(u(he,fe),_e=Cp(ge,he.mode,_e),_e.return=he,he=_e),E(he)):u(he,fe)}return function(he,fe,ge,_e){try{$c=0;var at=dr(he,fe,ge,_e);return pl=null,at}catch(et){if(et===ml||et===Ud)throw et;var Kt=ua(29,et,null,he.mode);return Kt.lanes=_e,Kt.return=he,Kt}finally{}}}var So=rw(!0),nw=rw(!1),vi=!1;function Ip(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ji(s,i,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Zt&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,i=Ld(s),Bv(s,null,u),i}return Pd(s,h,i,u),Ld(s)}function Hc(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var h=i.lanes;h&=s.pendingLanes,u|=h,i.lanes=u,Se(s,u)}}function $p(s,i){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?y=w=i:w=w.next=i}else y=w=i;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}var Up=!1;function qc(){if(Up){var s=hl;if(s!==null)throw s}}function Vc(s,i,u,h){Up=!1;var y=s.updateQueue;vi=!1;var w=y.firstBaseUpdate,E=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var ie=H,xe=ie.next;ie.next=null,E===null?w=xe:E.next=xe,E=ie;var Ae=s.alternate;Ae!==null&&(Ae=Ae.updateQueue,H=Ae.lastBaseUpdate,H!==E&&(H===null?Ae.firstBaseUpdate=xe:H.next=xe,Ae.lastBaseUpdate=ie))}if(w!==null){var Oe=y.baseState;E=0,Ae=xe=ie=null,H=w;do{var be=H.lane&-536870913,ke=be!==H.lane;if(ke?(zt&be)===be:(h&be)===be){be!==0&&be===fl&&(Up=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var We=s,ft=H;be=i;var dr=u;switch(ft.tag){case 1:if(We=ft.payload,typeof We=="function"){Oe=We.call(dr,Oe,be);break e}Oe=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=ft.payload,be=typeof We=="function"?We.call(dr,Oe,be):We,be==null)break e;Oe=p({},Oe,be);break e;case 2:vi=!0}}be=H.callback,be!==null&&(s.flags|=64,ke&&(s.flags|=8192),ke=y.callbacks,ke===null?y.callbacks=[be]:ke.push(be))}else ke={lane:be,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ae===null?(xe=Ae=ke,ie=Oe):Ae=Ae.next=ke,E|=be;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;ke=H,H=ke.next,ke.next=null,y.lastBaseUpdate=ke,y.shared.pending=null}}while(!0);Ae===null&&(ie=Oe),y.baseState=ie,y.firstBaseUpdate=xe,y.lastBaseUpdate=Ae,w===null&&(y.shared.lanes=0),Ei|=E,s.lanes=E,s.memoizedState=Oe}}function aw(s,i){if(typeof s!="function")throw Error(a(191,s));s.call(i)}function sw(s,i){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)aw(u[s],i)}var gl=_(null),Gd=_(0);function iw(s,i){s=Ks,z(Gd,s),z(gl,i),Ks=s|i.baseLanes}function Hp(){z(Gd,Ks),z(gl,gl.current)}function qp(){Ks=Gd.current,$(gl),$(Gd)}var da=_(null),_a=null;function ki(s){var i=s.alternate;z(Lr,Lr.current&1),z(da,s),_a===null&&(i===null||gl.current!==null||i.memoizedState!==null)&&(_a=s)}function Vp(s){z(Lr,Lr.current),z(da,s),_a===null&&(_a=s)}function ow(s){s.tag===22?(z(Lr,Lr.current),z(da,s),_a===null&&(_a=s)):Ni()}function Ni(){z(Lr,Lr.current),z(da,da.current)}function fa(s){$(da),_a===s&&(_a=null),$(Lr)}var Lr=_(0);function Yd(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Qg(u)||Zg(u)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bs=0,Nt=null,cr=null,qr=null,Kd=!1,xl=!1,Co=!1,Xd=0,Gc=0,yl=null,F3=0;function Or(){throw Error(a(321))}function Gp(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!ca(s[u],i[u]))return!1;return!0}function Yp(s,i,u,h,y,w){return Bs=w,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=s===null||s.memoizedState===null?qw:lg,Co=!1,w=u(h,y),Co=!1,xl&&(w=cw(i,u,h,y)),lw(s),w}function lw(s){U.H=Xc;var i=cr!==null&&cr.next!==null;if(Bs=0,qr=cr=Nt=null,Kd=!1,Gc=0,yl=null,i)throw Error(a(300));s===null||Vr||(s=s.dependencies,s!==null&&Id(s)&&(Vr=!0))}function cw(s,i,u,h){Nt=s;var y=0;do{if(xl&&(yl=null),Gc=0,xl=!1,25<=y)throw Error(a(301));if(y+=1,qr=cr=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=Vw,w=i(u,h)}while(xl);return w}function I3(){var s=U.H,i=s.useState()[0];return i=typeof i.then=="function"?Yc(i):i,s=s.useState()[0],(cr!==null?cr.memoizedState:null)!==s&&(Nt.flags|=1024),i}function Kp(){var s=Xd!==0;return Xd=0,s}function Xp(s,i,u){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~u}function Wp(s){if(Kd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Kd=!1}Bs=0,qr=cr=Nt=null,xl=!1,Gc=Xd=0,yl=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?Nt.memoizedState=qr=s:qr=qr.next=s,qr}function zr(){if(cr===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=cr.next;var i=qr===null?Nt.memoizedState:qr.next;if(i!==null)qr=i,cr=s;else{if(s===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));cr=s,s={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},qr===null?Nt.memoizedState=qr=s:qr=qr.next=s}return qr}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(s){var i=Gc;return Gc+=1,yl===null&&(yl=[]),s=Jv(yl,s,i),i=Nt,(qr===null?i.memoizedState:qr.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?qw:lg),s}function Qd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yc(s);if(s.$$typeof===A)return xn(s)}throw Error(a(438,String(s)))}function Qp(s){var i=null,u=Nt.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var h=Nt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=Wd(),Nt.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(s),h=0;h<s;h++)u[h]=K;return i.index++,u}function $s(s,i){return typeof i=="function"?i(s):i}function Zd(s){var i=zr();return Zp(i,cr,s)}function Zp(s,i,u){var h=s.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=u;var y=s.baseQueue,w=h.pending;if(w!==null){if(y!==null){var E=y.next;y.next=w.next,w.next=E}i.baseQueue=y=w,h.pending=null}if(w=s.baseState,y===null)s.memoizedState=w;else{i=y.next;var H=E=null,ie=null,xe=i,Ae=!1;do{var Oe=xe.lane&-536870913;if(Oe!==xe.lane?(zt&Oe)===Oe:(Bs&Oe)===Oe){var be=xe.revertLane;if(be===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Oe===fl&&(Ae=!0);else if((Bs&be)===be){xe=xe.next,be===fl&&(Ae=!0);continue}else Oe={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ie===null?(H=ie=Oe,E=w):ie=ie.next=Oe,Nt.lanes|=be,Ei|=be;Oe=xe.action,Co&&u(w,Oe),w=xe.hasEagerState?xe.eagerState:u(w,Oe)}else be={lane:Oe,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ie===null?(H=ie=be,E=w):ie=ie.next=be,Nt.lanes|=Oe,Ei|=Oe;xe=xe.next}while(xe!==null&&xe!==i);if(ie===null?E=w:ie.next=H,!ca(w,s.memoizedState)&&(Vr=!0,Ae&&(u=hl,u!==null)))throw u;s.memoizedState=w,s.baseState=E,s.baseQueue=ie,h.lastRenderedState=w}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Jp(s){var i=zr(),u=i.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=u.dispatch,y=u.pending,w=i.memoizedState;if(y!==null){u.pending=null;var E=y=y.next;do w=s(w,E.action),E=E.next;while(E!==y);ca(w,i.memoizedState)||(Vr=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),u.lastRenderedState=w}return[w,h]}function uw(s,i,u){var h=Nt,y=zr(),w=$t;if(w){if(u===void 0)throw Error(a(407));u=u()}else u=i();var E=!ca((cr||y).memoizedState,u);if(E&&(y.memoizedState=u,Vr=!0),y=y.queue,rg(hw.bind(null,h,y,s),[s]),y.getSnapshot!==i||E||qr!==null&&qr.memoizedState.tag&1){if(h.flags|=2048,bl(9,{destroy:void 0},fw.bind(null,h,y,u,i),null),mr===null)throw Error(a(349));w||(Bs&127)!==0||dw(h,i,u)}return u}function dw(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=Nt.updateQueue,i===null?(i=Wd(),Nt.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function fw(s,i,u,h){i.value=u,i.getSnapshot=h,mw(i)&&pw(s)}function hw(s,i,u){return u(function(){mw(i)&&pw(s)})}function mw(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!ca(s,u)}catch{return!0}}function pw(s){var i=xo(s,2);i!==null&&Jn(i,s,2)}function eg(s){var i=Un();if(typeof s=="function"){var u=s;if(s=u(),Co){nr(!0);try{u()}finally{nr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:s},i}function gw(s,i,u,h){return s.baseState=u,Zp(s,cr,typeof h=="function"?h:$s)}function B3(s,i,u,h,y){if(tf(s))throw Error(a(485));if(s=i.action,s!==null){var w={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){w.listeners.push(E)}};U.T!==null?u(!0):w.isTransition=!1,h(w),u=i.pending,u===null?(w.next=i.pending=w,xw(i,w)):(w.next=u.next,i.pending=u.next=w)}}function xw(s,i){var u=i.action,h=i.payload,y=s.state;if(i.isTransition){var w=U.T,E={};U.T=E;try{var H=u(y,h),ie=U.S;ie!==null&&ie(E,H),yw(s,i,H)}catch(xe){tg(s,i,xe)}finally{w!==null&&E.types!==null&&(w.types=E.types),U.T=w}}else try{w=u(y,h),yw(s,i,w)}catch(xe){tg(s,i,xe)}}function yw(s,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){bw(s,i,h)},function(h){return tg(s,i,h)}):bw(s,i,u)}function bw(s,i,u){i.status="fulfilled",i.value=u,vw(i),s.state=u,i=s.pending,i!==null&&(u=i.next,u===i?s.pending=null:(u=u.next,i.next=u,xw(s,u)))}function tg(s,i,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=u,vw(i),i=i.next;while(i!==h)}s.action=null}function vw(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function ww(s,i){return i}function jw(s,i){if($t){var u=mr.formState;if(u!==null){e:{var h=Nt;if($t){if(wr){t:{for(var y=wr,w=Ra;y.nodeType!==8;){if(!w){y=null;break t}if(y=Da(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){wr=Da(y.nextSibling),h=y.data==="F!";break e}}yi(h)}h=!1}h&&(i=u[0])}}return u=Un(),u.memoizedState=u.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ww,lastRenderedState:i},u.queue=h,u=$w.bind(null,Nt,h),h.dispatch=u,h=eg(!1),w=og.bind(null,Nt,!1,h.queue),h=Un(),y={state:i,dispatch:null,action:s,pending:null},h.queue=y,u=B3.bind(null,Nt,y,w,u),y.dispatch=u,h.memoizedState=s,[i,u,!1]}function kw(s){var i=zr();return Nw(i,cr,s)}function Nw(s,i,u){if(i=Zp(s,i,ww)[0],s=Zd($s)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Yc(i)}catch(E){throw E===ml?Ud:E}else h=i;i=zr();var y=i.queue,w=y.dispatch;return u!==i.memoizedState&&(Nt.flags|=2048,bl(9,{destroy:void 0},$3.bind(null,y,u),null)),[h,w,s]}function $3(s,i){s.action=i}function Sw(s){var i=zr(),u=cr;if(u!==null)return Nw(i,u,s);zr(),i=i.memoizedState,u=zr();var h=u.queue.dispatch;return u.memoizedState=s,[i,h,!1]}function bl(s,i,u,h){return s={tag:s,create:u,deps:h,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=Wd(),Nt.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,i.lastEffect=s),s}function Cw(){return zr().memoizedState}function Jd(s,i,u,h){var y=Un();Nt.flags|=s,y.memoizedState=bl(1|i,{destroy:void 0},u,h===void 0?null:h)}function ef(s,i,u,h){var y=zr();h=h===void 0?null:h;var w=y.memoizedState.inst;cr!==null&&h!==null&&Gp(h,cr.memoizedState.deps)?y.memoizedState=bl(i,w,u,h):(Nt.flags|=s,y.memoizedState=bl(1|i,w,u,h))}function Ew(s,i){Jd(8390656,8,s,i)}function rg(s,i){ef(2048,8,s,i)}function U3(s){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=Wd(),Nt.updateQueue=i,i.events=[s];else{var u=i.events;u===null?i.events=[s]:u.push(s)}}function Aw(s){var i=zr().memoizedState;return U3({ref:i,nextImpl:s}),function(){if((Zt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Tw(s,i){return ef(4,2,s,i)}function Rw(s,i){return ef(4,4,s,i)}function _w(s,i){if(typeof i=="function"){s=s();var u=i(s);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Dw(s,i,u){u=u!=null?u.concat([s]):null,ef(4,4,_w.bind(null,i,s),u)}function ng(){}function Mw(s,i){var u=zr();i=i===void 0?null:i;var h=u.memoizedState;return i!==null&&Gp(i,h[1])?h[0]:(u.memoizedState=[s,i],s)}function Ow(s,i){var u=zr();i=i===void 0?null:i;var h=u.memoizedState;if(i!==null&&Gp(i,h[1]))return h[0];if(h=s(),Co){nr(!0);try{s()}finally{nr(!1)}}return u.memoizedState=[h,i],h}function ag(s,i,u){return u===void 0||(Bs&1073741824)!==0&&(zt&261930)===0?s.memoizedState=i:(s.memoizedState=u,s=P1(),Nt.lanes|=s,Ei|=s,u)}function Pw(s,i,u,h){return ca(u,i)?u:gl.current!==null?(s=ag(s,u,h),ca(s,i)||(Vr=!0),s):(Bs&42)===0||(Bs&1073741824)!==0&&(zt&261930)===0?(Vr=!0,s.memoizedState=u):(s=P1(),Nt.lanes|=s,Ei|=s,i)}function Lw(s,i,u,h,y){var w=G.p;G.p=w!==0&&8>w?w:8;var E=U.T,H={};U.T=H,og(s,!1,i,u);try{var ie=y(),xe=U.S;if(xe!==null&&xe(H,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ae=z3(ie,h);Kc(s,i,Ae,pa(s))}else Kc(s,i,h,pa(s))}catch(Oe){Kc(s,i,{then:function(){},status:"rejected",reason:Oe},pa())}finally{G.p=w,E!==null&&H.types!==null&&(E.types=H.types),U.T=E}}function H3(){}function sg(s,i,u,h){if(s.tag!==5)throw Error(a(476));var y=zw(s).queue;Lw(s,y,i,F,u===null?H3:function(){return Fw(s),u(h)})}function zw(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:F},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:u},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Fw(s){var i=zw(s);i.next===null&&(i=s.alternate.memoizedState),Kc(s,i.next.queue,{},pa())}function ig(){return xn(du)}function Iw(){return zr().memoizedState}function Bw(){return zr().memoizedState}function q3(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var u=pa();s=wi(u);var h=ji(i,s,u);h!==null&&(Jn(h,i,u),Hc(h,i,u)),i={cache:Pp()},s.payload=i;return}i=i.return}}function V3(s,i,u){var h=pa();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tf(s)?Uw(i,u):(u=Np(s,i,u,h),u!==null&&(Jn(u,s,h),Hw(u,i,h)))}function $w(s,i,u){var h=pa();Kc(s,i,u,h)}function Kc(s,i,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(tf(s))Uw(i,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var E=i.lastRenderedState,H=w(E,u);if(y.hasEagerState=!0,y.eagerState=H,ca(H,E))return Pd(s,i,y,0),mr===null&&Od(),!1}catch{}finally{}if(u=Np(s,i,y,h),u!==null)return Jn(u,s,h),Hw(u,i,h),!0}return!1}function og(s,i,u,h){if(h={lane:2,revertLane:Ig(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tf(s)){if(i)throw Error(a(479))}else i=Np(s,u,h,2),i!==null&&Jn(i,s,2)}function tf(s){var i=s.alternate;return s===Nt||i!==null&&i===Nt}function Uw(s,i){xl=Kd=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function Hw(s,i,u){if((u&4194048)!==0){var h=i.lanes;h&=s.pendingLanes,u|=h,i.lanes=u,Se(s,u)}}var Xc={readContext:xn,use:Qd,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useInsertionEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useSyncExternalStore:Or,useId:Or,useHostTransitionStatus:Or,useFormState:Or,useActionState:Or,useOptimistic:Or,useMemoCache:Or,useCacheRefresh:Or};Xc.useEffectEvent=Or;var qw={readContext:xn,use:Qd,useCallback:function(s,i){return Un().memoizedState=[s,i===void 0?null:i],s},useContext:xn,useEffect:Ew,useImperativeHandle:function(s,i,u){u=u!=null?u.concat([s]):null,Jd(4194308,4,_w.bind(null,i,s),u)},useLayoutEffect:function(s,i){return Jd(4194308,4,s,i)},useInsertionEffect:function(s,i){Jd(4,2,s,i)},useMemo:function(s,i){var u=Un();i=i===void 0?null:i;var h=s();if(Co){nr(!0);try{s()}finally{nr(!1)}}return u.memoizedState=[h,i],h},useReducer:function(s,i,u){var h=Un();if(u!==void 0){var y=u(i);if(Co){nr(!0);try{u(i)}finally{nr(!1)}}}else y=i;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=V3.bind(null,Nt,s),[h.memoizedState,s]},useRef:function(s){var i=Un();return s={current:s},i.memoizedState=s},useState:function(s){s=eg(s);var i=s.queue,u=$w.bind(null,Nt,i);return i.dispatch=u,[s.memoizedState,u]},useDebugValue:ng,useDeferredValue:function(s,i){var u=Un();return ag(u,s,i)},useTransition:function(){var s=eg(!1);return s=Lw.bind(null,Nt,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,u){var h=Nt,y=Un();if($t){if(u===void 0)throw Error(a(407));u=u()}else{if(u=i(),mr===null)throw Error(a(349));(zt&127)!==0||dw(h,i,u)}y.memoizedState=u;var w={value:u,getSnapshot:i};return y.queue=w,Ew(hw.bind(null,h,w,s),[s]),h.flags|=2048,bl(9,{destroy:void 0},fw.bind(null,h,w,u,i),null),u},useId:function(){var s=Un(),i=mr.identifierPrefix;if($t){var u=hs,h=fs;u=(h&~(1<<32-pt(h)-1)).toString(32)+u,i="_"+i+"R_"+u,u=Xd++,0<u&&(i+="H"+u.toString(32)),i+="_"}else u=F3++,i="_"+i+"r_"+u.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:ig,useFormState:jw,useActionState:jw,useOptimistic:function(s){var i=Un();i.memoizedState=i.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=og.bind(null,Nt,!0,u),u.dispatch=i,[s,i]},useMemoCache:Qp,useCacheRefresh:function(){return Un().memoizedState=q3.bind(null,Nt)},useEffectEvent:function(s){var i=Un(),u={impl:s};return i.memoizedState=u,function(){if((Zt&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},lg={readContext:xn,use:Qd,useCallback:Mw,useContext:xn,useEffect:rg,useImperativeHandle:Dw,useInsertionEffect:Tw,useLayoutEffect:Rw,useMemo:Ow,useReducer:Zd,useRef:Cw,useState:function(){return Zd($s)},useDebugValue:ng,useDeferredValue:function(s,i){var u=zr();return Pw(u,cr.memoizedState,s,i)},useTransition:function(){var s=Zd($s)[0],i=zr().memoizedState;return[typeof s=="boolean"?s:Yc(s),i]},useSyncExternalStore:uw,useId:Iw,useHostTransitionStatus:ig,useFormState:kw,useActionState:kw,useOptimistic:function(s,i){var u=zr();return gw(u,cr,s,i)},useMemoCache:Qp,useCacheRefresh:Bw};lg.useEffectEvent=Aw;var Vw={readContext:xn,use:Qd,useCallback:Mw,useContext:xn,useEffect:rg,useImperativeHandle:Dw,useInsertionEffect:Tw,useLayoutEffect:Rw,useMemo:Ow,useReducer:Jp,useRef:Cw,useState:function(){return Jp($s)},useDebugValue:ng,useDeferredValue:function(s,i){var u=zr();return cr===null?ag(u,s,i):Pw(u,cr.memoizedState,s,i)},useTransition:function(){var s=Jp($s)[0],i=zr().memoizedState;return[typeof s=="boolean"?s:Yc(s),i]},useSyncExternalStore:uw,useId:Iw,useHostTransitionStatus:ig,useFormState:Sw,useActionState:Sw,useOptimistic:function(s,i){var u=zr();return cr!==null?gw(u,cr,s,i):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:Bw};Vw.useEffectEvent=Aw;function cg(s,i,u,h){i=s.memoizedState,u=u(h,i),u=u==null?i:p({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var ug={enqueueSetState:function(s,i,u){s=s._reactInternals;var h=pa(),y=wi(h);y.payload=i,u!=null&&(y.callback=u),i=ji(s,y,h),i!==null&&(Jn(i,s,h),Hc(i,s,h))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var h=pa(),y=wi(h);y.tag=1,y.payload=i,u!=null&&(y.callback=u),i=ji(s,y,h),i!==null&&(Jn(i,s,h),Hc(i,s,h))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=pa(),h=wi(u);h.tag=2,i!=null&&(h.callback=i),i=ji(s,h,u),i!==null&&(Jn(i,s,u),Hc(i,s,u))}};function Gw(s,i,u,h,y,w,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,E):i.prototype&&i.prototype.isPureReactComponent?!Pc(u,h)||!Pc(y,w):!0}function Yw(s,i,u,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,h),i.state!==s&&ug.enqueueReplaceState(i,i.state,null)}function Eo(s,i){var u=i;if("ref"in i){u={};for(var h in i)h!=="ref"&&(u[h]=i[h])}if(s=s.defaultProps){u===i&&(u=p({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function Kw(s){Md(s)}function Xw(s){console.error(s)}function Ww(s){Md(s)}function rf(s,i){try{var u=s.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function Qw(s,i,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dg(s,i,u){return u=wi(u),u.tag=3,u.payload={element:null},u.callback=function(){rf(s,i)},u}function Zw(s){return s=wi(s),s.tag=3,s}function Jw(s,i,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;s.payload=function(){return y(w)},s.callback=function(){Qw(i,u,h)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Qw(i,u,h),typeof y!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})})}function G3(s,i,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=u.alternate,i!==null&&dl(i,u,y,!0),u=da.current,u!==null){switch(u.tag){case 31:case 13:return _a===null?pf():u.alternate===null&&Pr===0&&(Pr=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Hd?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([h]):i.add(h),Lg(s,h,y)),!1;case 22:return u.flags|=65536,h===Hd?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([h]):u.add(h)),Lg(s,h,y)),!1}throw Error(a(435,u.tag))}return Lg(s,h,y),pf(),!1}if($t)return i=da.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,h!==Rp&&(s=Error(a(422),{cause:h}),Fc(Ea(s,u)))):(h!==Rp&&(i=Error(a(423),{cause:h}),Fc(Ea(i,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=Ea(h,u),y=dg(s.stateNode,h,y),$p(s,y),Pr!==4&&(Pr=2)),!1;var w=Error(a(520),{cause:h});if(w=Ea(w,u),nu===null?nu=[w]:nu.push(w),Pr!==4&&(Pr=2),i===null)return!0;h=Ea(h,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=dg(u.stateNode,h,s),$p(u,s),!1;case 1:if(i=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ai===null||!Ai.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Zw(y),Jw(y,s,u,h),$p(u,y),!1}u=u.return}while(u!==null);return!1}var fg=Error(a(461)),Vr=!1;function yn(s,i,u,h){i.child=s===null?nw(i,null,u,h):So(i,s.child,u,h)}function e1(s,i,u,h,y){u=u.render;var w=i.ref;if("ref"in h){var E={};for(var H in h)H!=="ref"&&(E[H]=h[H])}else E=h;return wo(i),h=Yp(s,i,u,E,w,y),H=Kp(),s!==null&&!Vr?(Xp(s,i,y),Us(s,i,y)):($t&&H&&Ap(i),i.flags|=1,yn(s,i,h,y),i.child)}function t1(s,i,u,h,y){if(s===null){var w=u.type;return typeof w=="function"&&!Sp(w)&&w.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=w,r1(s,i,w,h,y)):(s=zd(u.type,null,h,i,i.mode,y),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,!vg(s,y)){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:Pc,u(E,h)&&s.ref===i.ref)return Us(s,i,y)}return i.flags|=1,s=Ls(w,h),s.ref=i.ref,s.return=i,i.child=s}function r1(s,i,u,h,y){if(s!==null){var w=s.memoizedProps;if(Pc(w,h)&&s.ref===i.ref)if(Vr=!1,i.pendingProps=h=w,vg(s,y))(s.flags&131072)!==0&&(Vr=!0);else return i.lanes=s.lanes,Us(s,i,y)}return hg(s,i,u,h,y)}function n1(s,i,u,h){var y=h.children,w=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,s!==null){for(h=i.child=s.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~w}else h=0,i.child=null;return a1(s,i,w,u,h)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&$d(i,w!==null?w.cachePool:null),w!==null?iw(i,w):Hp(),ow(i);else return h=i.lanes=536870912,a1(s,i,w!==null?w.baseLanes|u:u,u,h)}else w!==null?($d(i,w.cachePool),iw(i,w),Ni(),i.memoizedState=null):(s!==null&&$d(i,null),Hp(),Ni());return yn(s,i,y,u),i.child}function Wc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function a1(s,i,u,h,y){var w=zp();return w=w===null?null:{parent:Hr._currentValue,pool:w},i.memoizedState={baseLanes:u,cachePool:w},s!==null&&$d(i,null),Hp(),ow(i),s!==null&&dl(s,i,h,!0),i.childLanes=y,null}function nf(s,i){return i=sf({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function s1(s,i,u){return So(i,s.child,null,u),s=nf(i,i.pendingProps),s.flags|=2,fa(i),i.memoizedState=null,s}function Y3(s,i,u){var h=i.pendingProps,y=(i.flags&128)!==0;if(i.flags&=-129,s===null){if($t){if(h.mode==="hidden")return s=nf(i,h),i.lanes=536870912,Wc(null,s);if(Vp(i),(s=wr)?(s=xj(s,Ra),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:gi!==null?{id:fs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},u=Uv(s),u.return=i,i.child=u,gn=i,wr=null)):s=null,s===null)throw yi(i);return i.lanes=536870912,null}return nf(i,h)}var w=s.memoizedState;if(w!==null){var E=w.dehydrated;if(Vp(i),y)if(i.flags&256)i.flags&=-257,i=s1(s,i,u);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(a(558));else if(Vr||dl(s,i,u,!1),y=(u&s.childLanes)!==0,Vr||y){if(h=mr,h!==null&&(E=Fe(h,u),E!==0&&E!==w.retryLane))throw w.retryLane=E,xo(s,E),Jn(h,s,E),fg;pf(),i=s1(s,i,u)}else s=w.treeContext,wr=Da(E.nextSibling),gn=i,$t=!0,xi=null,Ra=!1,s!==null&&Vv(i,s),i=nf(i,h),i.flags|=4096;return i}return s=Ls(s.child,{mode:h.mode,children:h.children}),s.ref=i.ref,i.child=s,s.return=i,s}function af(s,i){var u=i.ref;if(u===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(s===null||s.ref!==u)&&(i.flags|=4194816)}}function hg(s,i,u,h,y){return wo(i),u=Yp(s,i,u,h,void 0,y),h=Kp(),s!==null&&!Vr?(Xp(s,i,y),Us(s,i,y)):($t&&h&&Ap(i),i.flags|=1,yn(s,i,u,y),i.child)}function i1(s,i,u,h,y,w){return wo(i),i.updateQueue=null,u=cw(i,h,u,y),lw(s),h=Kp(),s!==null&&!Vr?(Xp(s,i,w),Us(s,i,w)):($t&&h&&Ap(i),i.flags|=1,yn(s,i,u,w),i.child)}function o1(s,i,u,h,y){if(wo(i),i.stateNode===null){var w=ol,E=u.contextType;typeof E=="object"&&E!==null&&(w=xn(E)),w=new u(h,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ug,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=h,w.state=i.memoizedState,w.refs={},Ip(i),E=u.contextType,w.context=typeof E=="object"&&E!==null?xn(E):ol,w.state=i.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(cg(i,u,E,h),w.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(E=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),E!==w.state&&ug.enqueueReplaceState(w,w.state,null),Vc(i,h,w,y),qc(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(s===null){w=i.stateNode;var H=i.memoizedProps,ie=Eo(u,H);w.props=ie;var xe=w.context,Ae=u.contextType;E=ol,typeof Ae=="object"&&Ae!==null&&(E=xn(Ae));var Oe=u.getDerivedStateFromProps;Ae=typeof Oe=="function"||typeof w.getSnapshotBeforeUpdate=="function",H=i.pendingProps!==H,Ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(H||xe!==E)&&Yw(i,w,h,E),vi=!1;var be=i.memoizedState;w.state=be,Vc(i,h,w,y),qc(),xe=i.memoizedState,H||be!==xe||vi?(typeof Oe=="function"&&(cg(i,u,Oe,h),xe=i.memoizedState),(ie=vi||Gw(i,u,ie,h,be,xe,E))?(Ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=xe),w.props=h,w.state=xe,w.context=E,h=ie):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,Bp(s,i),E=i.memoizedProps,Ae=Eo(u,E),w.props=Ae,Oe=i.pendingProps,be=w.context,xe=u.contextType,ie=ol,typeof xe=="object"&&xe!==null&&(ie=xn(xe)),H=u.getDerivedStateFromProps,(xe=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==Oe||be!==ie)&&Yw(i,w,h,ie),vi=!1,be=i.memoizedState,w.state=be,Vc(i,h,w,y),qc();var ke=i.memoizedState;E!==Oe||be!==ke||vi||s!==null&&s.dependencies!==null&&Id(s.dependencies)?(typeof H=="function"&&(cg(i,u,H,h),ke=i.memoizedState),(Ae=vi||Gw(i,u,Ae,h,be,ke,ie)||s!==null&&s.dependencies!==null&&Id(s.dependencies))?(xe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ke,ie),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ke,ie)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&be===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&be===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ke),w.props=h,w.state=ke,w.context=ie,h=Ae):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&be===s.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&be===s.memoizedState||(i.flags|=1024),h=!1)}return w=h,af(s,i),h=(i.flags&128)!==0,w||h?(w=i.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,s!==null&&h?(i.child=So(i,s.child,null,y),i.child=So(i,null,u,y)):yn(s,i,u,y),i.memoizedState=w.state,s=i.child):s=Us(s,i,y),s}function l1(s,i,u,h){return bo(),i.flags|=256,yn(s,i,u,h),i.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pg(s){return{baseLanes:s,cachePool:Qv()}}function gg(s,i,u){return s=s!==null?s.childLanes&~u:0,i&&(s|=ma),s}function c1(s,i,u){var h=i.pendingProps,y=!1,w=(i.flags&128)!==0,E;if((E=w)||(E=s!==null&&s.memoizedState===null?!1:(Lr.current&2)!==0),E&&(y=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,s===null){if($t){if(y?ki(i):Ni(),(s=wr)?(s=xj(s,Ra),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:gi!==null?{id:fs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},u=Uv(s),u.return=i,i.child=u,gn=i,wr=null)):s=null,s===null)throw yi(i);return Zg(s)?i.lanes=32:i.lanes=536870912,null}var H=h.children;return h=h.fallback,y?(Ni(),y=i.mode,H=sf({mode:"hidden",children:H},y),h=yo(h,y,u,null),H.return=i,h.return=i,H.sibling=h,i.child=H,h=i.child,h.memoizedState=pg(u),h.childLanes=gg(s,E,u),i.memoizedState=mg,Wc(null,h)):(ki(i),xg(i,H))}var ie=s.memoizedState;if(ie!==null&&(H=ie.dehydrated,H!==null)){if(w)i.flags&256?(ki(i),i.flags&=-257,i=yg(s,i,u)):i.memoizedState!==null?(Ni(),i.child=s.child,i.flags|=128,i=null):(Ni(),H=h.fallback,y=i.mode,h=sf({mode:"visible",children:h.children},y),H=yo(H,y,u,null),H.flags|=2,h.return=i,H.return=i,h.sibling=H,i.child=h,So(i,s.child,null,u),h=i.child,h.memoizedState=pg(u),h.childLanes=gg(s,E,u),i.memoizedState=mg,i=Wc(null,h));else if(ki(i),Zg(H)){if(E=H.nextSibling&&H.nextSibling.dataset,E)var xe=E.dgst;E=xe,h=Error(a(419)),h.stack="",h.digest=E,Fc({value:h,source:null,stack:null}),i=yg(s,i,u)}else if(Vr||dl(s,i,u,!1),E=(u&s.childLanes)!==0,Vr||E){if(E=mr,E!==null&&(h=Fe(E,u),h!==0&&h!==ie.retryLane))throw ie.retryLane=h,xo(s,h),Jn(E,s,h),fg;Qg(H)||pf(),i=yg(s,i,u)}else Qg(H)?(i.flags|=192,i.child=s.child,i=null):(s=ie.treeContext,wr=Da(H.nextSibling),gn=i,$t=!0,xi=null,Ra=!1,s!==null&&Vv(i,s),i=xg(i,h.children),i.flags|=4096);return i}return y?(Ni(),H=h.fallback,y=i.mode,ie=s.child,xe=ie.sibling,h=Ls(ie,{mode:"hidden",children:h.children}),h.subtreeFlags=ie.subtreeFlags&65011712,xe!==null?H=Ls(xe,H):(H=yo(H,y,u,null),H.flags|=2),H.return=i,h.return=i,h.sibling=H,i.child=h,Wc(null,h),h=i.child,H=s.child.memoizedState,H===null?H=pg(u):(y=H.cachePool,y!==null?(ie=Hr._currentValue,y=y.parent!==ie?{parent:ie,pool:ie}:y):y=Qv(),H={baseLanes:H.baseLanes|u,cachePool:y}),h.memoizedState=H,h.childLanes=gg(s,E,u),i.memoizedState=mg,Wc(s.child,h)):(ki(i),u=s.child,s=u.sibling,u=Ls(u,{mode:"visible",children:h.children}),u.return=i,u.sibling=null,s!==null&&(E=i.deletions,E===null?(i.deletions=[s],i.flags|=16):E.push(s)),i.child=u,i.memoizedState=null,u)}function xg(s,i){return i=sf({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function sf(s,i){return s=ua(22,s,null,i),s.lanes=0,s}function yg(s,i,u){return So(i,s.child,null,u),s=xg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function u1(s,i,u){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Mp(s.return,i,u)}function bg(s,i,u,h,y,w){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:w}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=u,E.tailMode=y,E.treeForkCount=w)}function d1(s,i,u){var h=i.pendingProps,y=h.revealOrder,w=h.tail;h=h.children;var E=Lr.current,H=(E&2)!==0;if(H?(E=E&1|2,i.flags|=128):E&=1,z(Lr,E),yn(s,i,h,u),h=$t?zc:0,!H&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&u1(s,u,i);else if(s.tag===19)u1(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=i.child,y=null;u!==null;)s=u.alternate,s!==null&&Yd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),bg(i,!1,y,u,w,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(s=y.alternate,s!==null&&Yd(s)===null){i.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}bg(i,!0,u,null,w,h);break;case"together":bg(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function Us(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),Ei|=i.lanes,(u&i.childLanes)===0)if(s!==null){if(dl(s,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(a(153));if(i.child!==null){for(s=i.child,u=Ls(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=Ls(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function vg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Id(s)))}function K3(s,i,u){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),bi(i,Hr,s.memoizedState.cache),bo();break;case 27:case 5:Ce(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vp(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(ki(i),i.flags|=128,null):(u&i.child.childLanes)!==0?c1(s,i,u):(ki(i),s=Us(s,i,u),s!==null?s.sibling:null);ki(i);break;case 19:var y=(s.flags&128)!==0;if(h=(u&i.childLanes)!==0,h||(dl(s,i,u,!1),h=(u&i.childLanes)!==0),y){if(h)return d1(s,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(Lr,Lr.current),h)break;return null;case 22:return i.lanes=0,n1(s,i,u,i.pendingProps);case 24:bi(i,Hr,s.memoizedState.cache)}return Us(s,i,u)}function f1(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps)Vr=!0;else{if(!vg(s,u)&&(i.flags&128)===0)return Vr=!1,K3(s,i,u);Vr=(s.flags&131072)!==0}else Vr=!1,$t&&(i.flags&1048576)!==0&&qv(i,zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(s=ko(i.elementType),i.type=s,typeof s=="function")Sp(s)?(h=Eo(s,h),i.tag=1,i=o1(null,i,s,h,u)):(i.tag=0,i=hg(null,i,s,h,u));else{if(s!=null){var y=s.$$typeof;if(y===I){i.tag=11,i=e1(null,i,s,h,u);break e}else if(y===B){i.tag=14,i=t1(null,i,s,h,u);break e}}throw i=Q(s)||s,Error(a(306,i,""))}}return i;case 0:return hg(s,i,i.type,i.pendingProps,u);case 1:return h=i.type,y=Eo(h,i.pendingProps),o1(s,i,h,y,u);case 3:e:{if(Me(i,i.stateNode.containerInfo),s===null)throw Error(a(387));h=i.pendingProps;var w=i.memoizedState;y=w.element,Bp(s,i),Vc(i,h,null,u);var E=i.memoizedState;if(h=E.cache,bi(i,Hr,h),h!==w.cache&&Op(i,[Hr],u,!0),qc(),h=E.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=l1(s,i,h,u);break e}else if(h!==y){y=Ea(Error(a(424)),i),Fc(y),i=l1(s,i,h,u);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wr=Da(s.firstChild),gn=i,$t=!0,xi=null,Ra=!0,u=nw(i,null,h,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(bo(),h===y){i=Us(s,i,u);break e}yn(s,i,h,u)}i=i.child}return i;case 26:return af(s,i),s===null?(u=kj(i.type,null,i.pendingProps,null))?i.memoizedState=u:$t||(u=i.type,s=i.pendingProps,h=jf(re.current).createElement(u),h[He]=i,h[qe]=s,bn(h,u,s),Qt(h),i.stateNode=h):i.memoizedState=kj(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ce(i),s===null&&$t&&(h=i.stateNode=vj(i.type,i.pendingProps,re.current),gn=i,Ra=!0,y=wr,Di(i.type)?(Jg=y,wr=Da(h.firstChild)):wr=y),yn(s,i,i.pendingProps.children,u),af(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&$t&&((y=h=wr)&&(h=N6(h,i.type,i.pendingProps,Ra),h!==null?(i.stateNode=h,gn=i,wr=Da(h.firstChild),Ra=!1,y=!0):y=!1),y||yi(i)),Ce(i),y=i.type,w=i.pendingProps,E=s!==null?s.memoizedProps:null,h=w.children,Kg(y,w)?h=null:E!==null&&Kg(y,E)&&(i.flags|=32),i.memoizedState!==null&&(y=Yp(s,i,I3,null,null,u),du._currentValue=y),af(s,i),yn(s,i,h,u),i.child;case 6:return s===null&&$t&&((s=u=wr)&&(u=S6(u,i.pendingProps,Ra),u!==null?(i.stateNode=u,gn=i,wr=null,s=!0):s=!1),s||yi(i)),null;case 13:return c1(s,i,u);case 4:return Me(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=So(i,null,h,u):yn(s,i,h,u),i.child;case 11:return e1(s,i,i.type,i.pendingProps,u);case 7:return yn(s,i,i.pendingProps,u),i.child;case 8:return yn(s,i,i.pendingProps.children,u),i.child;case 12:return yn(s,i,i.pendingProps.children,u),i.child;case 10:return h=i.pendingProps,bi(i,i.type,h.value),yn(s,i,h.children,u),i.child;case 9:return y=i.type._context,h=i.pendingProps.children,wo(i),y=xn(y),h=h(y),i.flags|=1,yn(s,i,h,u),i.child;case 14:return t1(s,i,i.type,i.pendingProps,u);case 15:return r1(s,i,i.type,i.pendingProps,u);case 19:return d1(s,i,u);case 31:return Y3(s,i,u);case 22:return n1(s,i,u,i.pendingProps);case 24:return wo(i),h=xn(Hr),s===null?(y=zp(),y===null&&(y=mr,w=Pp(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),i.memoizedState={parent:h,cache:y},Ip(i),bi(i,Hr,y)):((s.lanes&u)!==0&&(Bp(s,i),Vc(i,null,null,u),qc()),y=s.memoizedState,w=i.memoizedState,y.parent!==h?(y={parent:h,cache:h},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),bi(i,Hr,h)):(h=w.cache,bi(i,Hr,h),h!==y.cache&&Op(i,[Hr],u,!0))),yn(s,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Hs(s){s.flags|=4}function wg(s,i,u,h,y){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(I1())s.flags|=8192;else throw No=Hd,Fp}else s.flags&=-16777217}function h1(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Aj(i))if(I1())s.flags|=8192;else throw No=Hd,Fp}function of(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?oa():536870912,s.lanes|=i,kl|=i)}function Qc(s,i){if(!$t)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function jr(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(i)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=u,i}function X3(s,i,u){var h=i.pendingProps;switch(Tp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(i),null;case 1:return jr(i),null;case 3:return u=i.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Is(Hr),Ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(ul(i)?Hs(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_p())),jr(i),null;case 26:var y=i.type,w=i.memoizedState;return s===null?(Hs(i),w!==null?(jr(i),h1(i,w)):(jr(i),wg(i,y,null,h,u))):w?w!==s.memoizedState?(Hs(i),jr(i),h1(i,w)):(jr(i),i.flags&=-16777217):(s=s.memoizedProps,s!==h&&Hs(i),jr(i),wg(i,y,s,h,u)),null;case 27:if(Ee(i),u=re.current,y=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==h&&Hs(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return jr(i),null}s=ue.current,ul(i)?Gv(i):(s=vj(y,h,u),i.stateNode=s,Hs(i))}return jr(i),null;case 5:if(Ee(i),y=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==h&&Hs(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return jr(i),null}if(w=ue.current,ul(i))Gv(i);else{var E=jf(re.current);switch(w){case 1:w=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=E.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?E.createElement(y,{is:h.is}):E.createElement(y)}}w[He]=i,w[qe]=h;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)w.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=w;e:switch(bn(w,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Hs(i)}}return jr(i),wg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,u),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==h&&Hs(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(a(166));if(s=re.current,ul(i)){if(s=i.stateNode,u=i.memoizedProps,h=null,y=gn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[He]=i,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||cj(s.nodeValue,u)),s||yi(i,!0)}else s=jf(s).createTextNode(h),s[He]=i,i.stateNode=s}return jr(i),null;case 31:if(u=i.memoizedState,s===null||s.memoizedState!==null){if(h=ul(i),u!==null){if(s===null){if(!h)throw Error(a(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(557));s[He]=i}else bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jr(i),s=!1}else u=_p(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return i.flags&256?(fa(i),i):(fa(i),null);if((i.flags&128)!==0)throw Error(a(558))}return jr(i),null;case 13:if(h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ul(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(a(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[He]=i}else bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jr(i),y=!1}else y=_p(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return i.flags&256?(fa(i),i):(fa(i),null)}return fa(i),(i.flags&128)!==0?(i.lanes=u,i):(u=h!==null,s=s!==null&&s.memoizedState!==null,u&&(h=i.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)),u!==s&&u&&(i.child.flags|=8192),of(i,i.updateQueue),jr(i),null);case 4:return Ne(),s===null&&Hg(i.stateNode.containerInfo),jr(i),null;case 10:return Is(i.type),jr(i),null;case 19:if($(Lr),h=i.memoizedState,h===null)return jr(i),null;if(y=(i.flags&128)!==0,w=h.rendering,w===null)if(y)Qc(h,!1);else{if(Pr!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(w=Yd(s),w!==null){for(i.flags|=128,Qc(h,!1),s=w.updateQueue,i.updateQueue=s,of(i,s),i.subtreeFlags=0,s=u,u=i.child;u!==null;)$v(u,s),u=u.sibling;return z(Lr,Lr.current&1|2),$t&&zs(i,h.treeForkCount),i.child}s=s.sibling}h.tail!==null&&Yt()>ff&&(i.flags|=128,y=!0,Qc(h,!1),i.lanes=4194304)}else{if(!y)if(s=Yd(w),s!==null){if(i.flags|=128,y=!0,s=s.updateQueue,i.updateQueue=s,of(i,s),Qc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!$t)return jr(i),null}else 2*Yt()-h.renderingStartTime>ff&&u!==536870912&&(i.flags|=128,y=!0,Qc(h,!1),i.lanes=4194304);h.isBackwards?(w.sibling=i.child,i.child=w):(s=h.last,s!==null?s.sibling=w:i.child=w,h.last=w)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Yt(),s.sibling=null,u=Lr.current,z(Lr,y?u&1|2:u&1),$t&&zs(i,h.treeForkCount),s):(jr(i),null);case 22:case 23:return fa(i),qp(),h=i.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(u&536870912)!==0&&(i.flags&128)===0&&(jr(i),i.subtreeFlags&6&&(i.flags|=8192)):jr(i),u=i.updateQueue,u!==null&&of(i,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==u&&(i.flags|=2048),s!==null&&$(jo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Is(Hr),jr(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function W3(s,i){switch(Tp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Is(Hr),Ne(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Ee(i),null;case 31:if(i.memoizedState!==null){if(fa(i),i.alternate===null)throw Error(a(340));bo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(fa(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(a(340));bo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return $(Lr),null;case 4:return Ne(),null;case 10:return Is(i.type),null;case 22:case 23:return fa(i),qp(),s!==null&&$(jo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Is(Hr),null;case 25:return null;default:return null}}function m1(s,i){switch(Tp(i),i.tag){case 3:Is(Hr),Ne();break;case 26:case 27:case 5:Ee(i);break;case 4:Ne();break;case 31:i.memoizedState!==null&&fa(i);break;case 13:fa(i);break;case 19:$(Lr);break;case 10:Is(i.type);break;case 22:case 23:fa(i),qp(),s!==null&&$(jo);break;case 24:Is(Hr)}}function Zc(s,i){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&s)===s){h=void 0;var w=u.create,E=u.inst;h=w(),E.destroy=h}u=u.next}while(u!==y)}}catch(H){sr(i,i.return,H)}}function Si(s,i,u){try{var h=i.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&s)===s){var E=h.inst,H=E.destroy;if(H!==void 0){E.destroy=void 0,y=i;var ie=u,xe=H;try{xe()}catch(Ae){sr(y,ie,Ae)}}}h=h.next}while(h!==w)}}catch(Ae){sr(i,i.return,Ae)}}function p1(s){var i=s.updateQueue;if(i!==null){var u=s.stateNode;try{sw(i,u)}catch(h){sr(s,s.return,h)}}}function g1(s,i,u){u.props=Eo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){sr(s,i,h)}}function Jc(s,i){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(y){sr(s,i,y)}}function ms(s,i){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){sr(s,i,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){sr(s,i,y)}else u.current=null}function x1(s){var i=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){sr(s,s.return,y)}}function jg(s,i,u){try{var h=s.stateNode;y6(h,s.type,u,i),h[qe]=i}catch(y){sr(s,s.return,y)}}function y1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Di(s.type)||s.tag===4}function kg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||y1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Di(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ng(s,i,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(s),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=yt));else if(h!==4&&(h===27&&Di(s.type)&&(u=s.stateNode,i=null),s=s.child,s!==null))for(Ng(s,i,u),s=s.sibling;s!==null;)Ng(s,i,u),s=s.sibling}function lf(s,i,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(h!==4&&(h===27&&Di(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(lf(s,i,u),s=s.sibling;s!==null;)lf(s,i,u),s=s.sibling}function b1(s){var i=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,y=i.attributes;y.length;)i.removeAttributeNode(y[0]);bn(i,h,u),i[He]=s,i[qe]=u}catch(w){sr(s,s.return,w)}}var qs=!1,Gr=!1,Sg=!1,v1=typeof WeakSet=="function"?WeakSet:Set,dn=null;function Q3(s,i){if(s=s.containerInfo,Gg=Tf,s=Dv(s),yp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var E=0,H=-1,ie=-1,xe=0,Ae=0,Oe=s,be=null;t:for(;;){for(var ke;Oe!==u||y!==0&&Oe.nodeType!==3||(H=E+y),Oe!==w||h!==0&&Oe.nodeType!==3||(ie=E+h),Oe.nodeType===3&&(E+=Oe.nodeValue.length),(ke=Oe.firstChild)!==null;)be=Oe,Oe=ke;for(;;){if(Oe===s)break t;if(be===u&&++xe===y&&(H=E),be===w&&++Ae===h&&(ie=E),(ke=Oe.nextSibling)!==null)break;Oe=be,be=Oe.parentNode}Oe=ke}u=H===-1||ie===-1?null:{start:H,end:ie}}else u=null}u=u||{start:0,end:0}}else u=null;for(Yg={focusedElem:s,selectionRange:u},Tf=!1,dn=i;dn!==null;)if(i=dn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,dn=s;else for(;dn!==null;){switch(i=dn,w=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=i,y=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var We=Eo(u.type,y);s=h.getSnapshotBeforeUpdate(We,w),h.__reactInternalSnapshotBeforeUpdate=s}catch(ft){sr(u,u.return,ft)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,u=s.nodeType,u===9)Wg(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(a(163))}if(s=i.sibling,s!==null){s.return=i.return,dn=s;break}dn=i.return}}function w1(s,i,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Gs(s,u),h&4&&Zc(5,u);break;case 1:if(Gs(s,u),h&4)if(s=u.stateNode,i===null)try{s.componentDidMount()}catch(E){sr(u,u.return,E)}else{var y=Eo(u.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(y,i,s.__reactInternalSnapshotBeforeUpdate)}catch(E){sr(u,u.return,E)}}h&64&&p1(u),h&512&&Jc(u,u.return);break;case 3:if(Gs(s,u),h&64&&(s=u.updateQueue,s!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{sw(s,i)}catch(E){sr(u,u.return,E)}}break;case 27:i===null&&h&4&&b1(u);case 26:case 5:Gs(s,u),i===null&&h&4&&x1(u),h&512&&Jc(u,u.return);break;case 12:Gs(s,u);break;case 31:Gs(s,u),h&4&&N1(s,u);break;case 13:Gs(s,u),h&4&&S1(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=i6.bind(null,u),C6(s,u))));break;case 22:if(h=u.memoizedState!==null||qs,!h){i=i!==null&&i.memoizedState!==null||Gr,y=qs;var w=Gr;qs=h,(Gr=i)&&!w?Ys(s,u,(u.subtreeFlags&8772)!==0):Gs(s,u),qs=y,Gr=w}break;case 30:break;default:Gs(s,u)}}function j1(s){var i=s.alternate;i!==null&&(s.alternate=null,j1(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Fn(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ar=null,Xn=!1;function Vs(s,i,u){for(u=u.child;u!==null;)k1(s,i,u),u=u.sibling}function k1(s,i,u){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(hr,u)}catch{}switch(u.tag){case 26:Gr||ms(u,i),Vs(s,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Gr||ms(u,i);var h=Ar,y=Xn;Di(u.type)&&(Ar=u.stateNode,Xn=!1),Vs(s,i,u),lu(u.stateNode),Ar=h,Xn=y;break;case 5:Gr||ms(u,i);case 6:if(h=Ar,y=Xn,Ar=null,Vs(s,i,u),Ar=h,Xn=y,Ar!==null)if(Xn)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(u.stateNode)}catch(w){sr(u,i,w)}else try{Ar.removeChild(u.stateNode)}catch(w){sr(u,i,w)}break;case 18:Ar!==null&&(Xn?(s=Ar,pj(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),_l(s)):pj(Ar,u.stateNode));break;case 4:h=Ar,y=Xn,Ar=u.stateNode.containerInfo,Xn=!0,Vs(s,i,u),Ar=h,Xn=y;break;case 0:case 11:case 14:case 15:Si(2,u,i),Gr||Si(4,u,i),Vs(s,i,u);break;case 1:Gr||(ms(u,i),h=u.stateNode,typeof h.componentWillUnmount=="function"&&g1(u,i,h)),Vs(s,i,u);break;case 21:Vs(s,i,u);break;case 22:Gr=(h=Gr)||u.memoizedState!==null,Vs(s,i,u),Gr=h;break;default:Vs(s,i,u)}}function N1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{_l(s)}catch(u){sr(i,i.return,u)}}}function S1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_l(s)}catch(u){sr(i,i.return,u)}}function Z3(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new v1),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new v1),i;default:throw Error(a(435,s.tag))}}function cf(s,i){var u=Z3(s);i.forEach(function(h){if(!u.has(h)){u.add(h);var y=o6.bind(null,s,h);h.then(y,y)}})}function Wn(s,i){var u=i.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],w=s,E=i,H=E;e:for(;H!==null;){switch(H.tag){case 27:if(Di(H.type)){Ar=H.stateNode,Xn=!1;break e}break;case 5:Ar=H.stateNode,Xn=!1;break e;case 3:case 4:Ar=H.stateNode.containerInfo,Xn=!0;break e}H=H.return}if(Ar===null)throw Error(a(160));k1(w,E,y),Ar=null,Xn=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)C1(i,s),i=i.sibling}var Ka=null;function C1(s,i){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wn(i,s),Qn(s),h&4&&(Si(3,s,s.return),Zc(3,s),Si(5,s,s.return));break;case 1:Wn(i,s),Qn(s),h&512&&(Gr||u===null||ms(u,u.return)),h&64&&qs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=Ka;if(Wn(i,s),Qn(s),h&512&&(Gr||u===null||ms(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[It]||w[He]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),bn(w,h,u),w[He]=s,Qt(w),h=w;break e;case"link":var E=Cj("link","href",y).get(h+(u.href||""));if(E){for(var H=0;H<E.length;H++)if(w=E[H],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(H,1);break t}}w=y.createElement(h),bn(w,h,u),y.head.appendChild(w);break;case"meta":if(E=Cj("meta","content",y).get(h+(u.content||""))){for(H=0;H<E.length;H++)if(w=E[H],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(H,1);break t}}w=y.createElement(h),bn(w,h,u),y.head.appendChild(w);break;default:throw Error(a(468,h))}w[He]=s,Qt(w),h=w}s.stateNode=h}else Ej(y,s.type,s.stateNode);else s.stateNode=Sj(y,h,s.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?Ej(y,s.type,s.stateNode):Sj(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&jg(s,s.memoizedProps,u.memoizedProps)}break;case 27:Wn(i,s),Qn(s),h&512&&(Gr||u===null||ms(u,u.return)),u!==null&&h&4&&jg(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Wn(i,s),Qn(s),h&512&&(Gr||u===null||ms(u,u.return)),s.flags&32){y=s.stateNode;try{J(y,"")}catch(We){sr(s,s.return,We)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,jg(s,y,u!==null?u.memoizedProps:y)),h&1024&&(Sg=!0);break;case 6:if(Wn(i,s),Qn(s),h&4){if(s.stateNode===null)throw Error(a(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(We){sr(s,s.return,We)}}break;case 3:if(Sf=null,y=Ka,Ka=kf(i.containerInfo),Wn(i,s),Ka=y,Qn(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(We){sr(s,s.return,We)}Sg&&(Sg=!1,E1(s));break;case 4:h=Ka,Ka=kf(s.stateNode.containerInfo),Wn(i,s),Qn(s),Ka=h;break;case 12:Wn(i,s),Qn(s);break;case 31:Wn(i,s),Qn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 13:Wn(i,s),Qn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(df=Yt()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 22:y=s.memoizedState!==null;var ie=u!==null&&u.memoizedState!==null,xe=qs,Ae=Gr;if(qs=xe||y,Gr=Ae||ie,Wn(i,s),Gr=Ae,qs=xe,Qn(s),h&8192)e:for(i=s.stateNode,i._visibility=y?i._visibility&-2:i._visibility|1,y&&(u===null||ie||qs||Gr||Ao(s)),u=null,i=s;;){if(i.tag===5||i.tag===26){if(u===null){ie=u=i;try{if(w=ie.stateNode,y)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{H=ie.stateNode;var Oe=ie.memoizedProps.style,be=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;H.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(We){sr(ie,ie.return,We)}}}else if(i.tag===6){if(u===null){ie=i;try{ie.stateNode.nodeValue=y?"":ie.memoizedProps}catch(We){sr(ie,ie.return,We)}}}else if(i.tag===18){if(u===null){ie=i;try{var ke=ie.stateNode;y?gj(ke,!0):gj(ie.stateNode,!1)}catch(We){sr(ie,ie.return,We)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,cf(s,u))));break;case 19:Wn(i,s),Qn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 30:break;case 21:break;default:Wn(i,s),Qn(s)}}function Qn(s){var i=s.flags;if(i&2){try{for(var u,h=s.return;h!==null;){if(y1(h)){u=h;break}h=h.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var y=u.stateNode,w=kg(s);lf(s,w,y);break;case 5:var E=u.stateNode;u.flags&32&&(J(E,""),u.flags&=-33);var H=kg(s);lf(s,H,E);break;case 3:case 4:var ie=u.stateNode.containerInfo,xe=kg(s);Ng(s,xe,ie);break;default:throw Error(a(161))}}catch(Ae){sr(s,s.return,Ae)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function E1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;E1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Gs(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)w1(s,i.alternate,i),i=i.sibling}function Ao(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Si(4,i,i.return),Ao(i);break;case 1:ms(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&g1(i,i.return,u),Ao(i);break;case 27:lu(i.stateNode);case 26:case 5:ms(i,i.return),Ao(i);break;case 22:i.memoizedState===null&&Ao(i);break;case 30:Ao(i);break;default:Ao(i)}s=s.sibling}}function Ys(s,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,y=s,w=i,E=w.flags;switch(w.tag){case 0:case 11:case 15:Ys(y,w,u),Zc(4,w);break;case 1:if(Ys(y,w,u),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(xe){sr(h,h.return,xe)}if(h=w,y=h.updateQueue,y!==null){var H=h.stateNode;try{var ie=y.shared.hiddenCallbacks;if(ie!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ie.length;y++)aw(ie[y],H)}catch(xe){sr(h,h.return,xe)}}u&&E&64&&p1(w),Jc(w,w.return);break;case 27:b1(w);case 26:case 5:Ys(y,w,u),u&&h===null&&E&4&&x1(w),Jc(w,w.return);break;case 12:Ys(y,w,u);break;case 31:Ys(y,w,u),u&&E&4&&N1(y,w);break;case 13:Ys(y,w,u),u&&E&4&&S1(y,w);break;case 22:w.memoizedState===null&&Ys(y,w,u),Jc(w,w.return);break;case 30:break;default:Ys(y,w,u)}i=i.sibling}}function Cg(s,i){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Ic(u))}function Eg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Ic(s))}function Xa(s,i,u,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A1(s,i,u,h),i=i.sibling}function A1(s,i,u,h){var y=i.flags;switch(i.tag){case 0:case 11:case 15:Xa(s,i,u,h),y&2048&&Zc(9,i);break;case 1:Xa(s,i,u,h);break;case 3:Xa(s,i,u,h),y&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Ic(s)));break;case 12:if(y&2048){Xa(s,i,u,h),s=i.stateNode;try{var w=i.memoizedProps,E=w.id,H=w.onPostCommit;typeof H=="function"&&H(E,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ie){sr(i,i.return,ie)}}else Xa(s,i,u,h);break;case 31:Xa(s,i,u,h);break;case 13:Xa(s,i,u,h);break;case 23:break;case 22:w=i.stateNode,E=i.alternate,i.memoizedState!==null?w._visibility&2?Xa(s,i,u,h):eu(s,i):w._visibility&2?Xa(s,i,u,h):(w._visibility|=2,vl(s,i,u,h,(i.subtreeFlags&10256)!==0||!1)),y&2048&&Cg(E,i);break;case 24:Xa(s,i,u,h),y&2048&&Eg(i.alternate,i);break;default:Xa(s,i,u,h)}}function vl(s,i,u,h,y){for(y=y&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var w=s,E=i,H=u,ie=h,xe=E.flags;switch(E.tag){case 0:case 11:case 15:vl(w,E,H,ie,y),Zc(8,E);break;case 23:break;case 22:var Ae=E.stateNode;E.memoizedState!==null?Ae._visibility&2?vl(w,E,H,ie,y):eu(w,E):(Ae._visibility|=2,vl(w,E,H,ie,y)),y&&xe&2048&&Cg(E.alternate,E);break;case 24:vl(w,E,H,ie,y),y&&xe&2048&&Eg(E.alternate,E);break;default:vl(w,E,H,ie,y)}i=i.sibling}}function eu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=s,h=i,y=h.flags;switch(h.tag){case 22:eu(u,h),y&2048&&Cg(h.alternate,h);break;case 24:eu(u,h),y&2048&&Eg(h.alternate,h);break;default:eu(u,h)}i=i.sibling}}var tu=8192;function wl(s,i,u){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)T1(s,i,u),s=s.sibling}function T1(s,i,u){switch(s.tag){case 26:wl(s,i,u),s.flags&tu&&s.memoizedState!==null&&F6(u,Ka,s.memoizedState,s.memoizedProps);break;case 5:wl(s,i,u);break;case 3:case 4:var h=Ka;Ka=kf(s.stateNode.containerInfo),wl(s,i,u),Ka=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=tu,tu=16777216,wl(s,i,u),tu=h):wl(s,i,u));break;default:wl(s,i,u)}}function R1(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function ru(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];dn=h,D1(h,s)}R1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_1(s),s=s.sibling}function _1(s){switch(s.tag){case 0:case 11:case 15:ru(s),s.flags&2048&&Si(9,s,s.return);break;case 3:ru(s);break;case 12:ru(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,uf(s)):ru(s);break;default:ru(s)}}function uf(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];dn=h,D1(h,s)}R1(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Si(8,i,i.return),uf(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,uf(i));break;default:uf(i)}s=s.sibling}}function D1(s,i){for(;dn!==null;){var u=dn;switch(u.tag){case 0:case 11:case 15:Si(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ic(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,dn=h;else e:for(u=s;dn!==null;){h=dn;var y=h.sibling,w=h.return;if(j1(h),h===u){dn=null;break e}if(y!==null){y.return=w,dn=y;break e}dn=w}}}var J3={getCacheForType:function(s){var i=xn(Hr),u=i.data.get(s);return u===void 0&&(u=s(),i.data.set(s,u)),u},cacheSignal:function(){return xn(Hr).controller.signal}},e6=typeof WeakMap=="function"?WeakMap:Map,Zt=0,mr=null,Mt=null,zt=0,ar=0,ha=null,Ci=!1,jl=!1,Ag=!1,Ks=0,Pr=0,Ei=0,To=0,Tg=0,ma=0,kl=0,nu=null,Zn=null,Rg=!1,df=0,M1=0,ff=1/0,hf=null,Ai=null,Jr=0,Ti=null,Nl=null,Xs=0,_g=0,Dg=null,O1=null,au=0,Mg=null;function pa(){return(Zt&2)!==0&&zt!==0?zt&-zt:U.T!==null?Ig():Ve()}function P1(){if(ma===0)if((zt&536870912)===0||$t){var s=us;us<<=1,(us&3932160)===0&&(us=262144),ma=s}else ma=536870912;return s=da.current,s!==null&&(s.flags|=32),ma}function Jn(s,i,u){(s===mr&&(ar===2||ar===9)||s.cancelPendingCommit!==null)&&(Sl(s,0),Ri(s,zt,ma,!1)),se(s,u),((Zt&2)===0||s!==mr)&&(s===mr&&((Zt&2)===0&&(To|=u),Pr===4&&Ri(s,zt,ma,!1)),ps(s))}function L1(s,i,u){if((Zt&6)!==0)throw Error(a(327));var h=!u&&(i&127)===0&&(i&s.expiredLanes)===0||mn(s,i),y=h?n6(s,i):Pg(s,i,!0),w=h;do{if(y===0){jl&&!h&&Ri(s,i,0,!1);break}else{if(u=s.current.alternate,w&&!t6(u)){y=Pg(s,i,!1),w=!1;continue}if(y===2){if(w=i,s.errorRecoveryDisabledLanes&w)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var H=s;y=nu;var ie=H.current.memoizedState.isDehydrated;if(ie&&(Sl(H,E).flags|=256),E=Pg(H,E,!1),E!==2){if(Ag&&!ie){H.errorRecoveryDisabledLanes|=w,To|=w,y=4;break e}w=Zn,Zn=y,w!==null&&(Zn===null?Zn=w:Zn.push.apply(Zn,w))}y=E}if(w=!1,y!==2)continue}}if(y===1){Sl(s,0),Ri(s,i,0,!0);break}e:{switch(h=s,w=y,w){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ri(h,i,ma,!Ci);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(y=df+300-Yt(),10<y)){if(Ri(h,i,ma,!Ci),zn(h,0,!0)!==0)break e;Xs=i,h.timeoutHandle=hj(z1.bind(null,h,u,Zn,hf,Rg,i,ma,To,kl,Ci,w,"Throttled",-0,0),y);break e}z1(h,u,Zn,hf,Rg,i,ma,To,kl,Ci,w,null,-0,0)}}break}while(!0);ps(s)}function z1(s,i,u,h,y,w,E,H,ie,xe,Ae,Oe,be,ke){if(s.timeoutHandle=-1,Oe=i.subtreeFlags,Oe&8192||(Oe&16785408)===16785408){Oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yt},T1(i,w,Oe);var We=(w&62914560)===w?df-Yt():(w&4194048)===w?M1-Yt():0;if(We=I6(Oe,We),We!==null){Xs=w,s.cancelPendingCommit=We(V1.bind(null,s,i,w,u,h,y,E,H,ie,Ae,Oe,null,be,ke)),Ri(s,w,E,!xe);return}}V1(s,i,w,u,h,y,E,H,ie)}function t6(s){for(var i=s;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],w=y.getSnapshot;y=y.value;try{if(!ca(w(),y))return!1}catch{return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ri(s,i,u,h){i&=~Tg,i&=~To,s.suspendedLanes|=i,s.pingedLanes&=~i,h&&(s.warmLanes|=i),h=s.expirationTimes;for(var y=i;0<y;){var w=31-pt(y),E=1<<w;h[w]=-1,y&=~E}u!==0&&pe(s,u,i)}function mf(){return(Zt&6)===0?(su(0),!1):!0}function Og(){if(Mt!==null){if(ar===0)var s=Mt.return;else s=Mt,Fs=vo=null,Wp(s),pl=null,$c=0,s=Mt;for(;s!==null;)m1(s.alternate,s),s=s.return;Mt=null}}function Sl(s,i){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,w6(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Xs=0,Og(),mr=s,Mt=u=Ls(s.current,null),zt=i,ar=0,ha=null,Ci=!1,jl=mn(s,i),Ag=!1,kl=ma=Tg=To=Ei=Pr=0,Zn=nu=null,Rg=!1,(i&8)!==0&&(i|=i&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=i;0<h;){var y=31-pt(h),w=1<<y;i|=s[y],h&=~w}return Ks=i,Od(),u}function F1(s,i){Nt=null,U.H=Xc,i===ml||i===Ud?(i=ew(),ar=3):i===Fp?(i=ew(),ar=4):ar=i===fg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ha=i,Mt===null&&(Pr=1,rf(s,Ea(i,s.current)))}function I1(){var s=da.current;return s===null?!0:(zt&4194048)===zt?_a===null:(zt&62914560)===zt||(zt&536870912)!==0?s===_a:!1}function B1(){var s=U.H;return U.H=Xc,s===null?Xc:s}function $1(){var s=U.A;return U.A=J3,s}function pf(){Pr=4,Ci||(zt&4194048)!==zt&&da.current!==null||(jl=!0),(Ei&134217727)===0&&(To&134217727)===0||mr===null||Ri(mr,zt,ma,!1)}function Pg(s,i,u){var h=Zt;Zt|=2;var y=B1(),w=$1();(mr!==s||zt!==i)&&(hf=null,Sl(s,i)),i=!1;var E=Pr;e:do try{if(ar!==0&&Mt!==null){var H=Mt,ie=ha;switch(ar){case 8:Og(),E=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(i=!0);var xe=ar;if(ar=0,ha=null,Cl(s,H,ie,xe),u&&jl){E=0;break e}break;default:xe=ar,ar=0,ha=null,Cl(s,H,ie,xe)}}r6(),E=Pr;break}catch(Ae){F1(s,Ae)}while(!0);return i&&s.shellSuspendCounter++,Fs=vo=null,Zt=h,U.H=y,U.A=w,Mt===null&&(mr=null,zt=0,Od()),E}function r6(){for(;Mt!==null;)U1(Mt)}function n6(s,i){var u=Zt;Zt|=2;var h=B1(),y=$1();mr!==s||zt!==i?(hf=null,ff=Yt()+500,Sl(s,i)):jl=mn(s,i);e:do try{if(ar!==0&&Mt!==null){i=Mt;var w=ha;t:switch(ar){case 1:ar=0,ha=null,Cl(s,i,w,1);break;case 2:case 9:if(Zv(w)){ar=0,ha=null,H1(i);break}i=function(){ar!==2&&ar!==9||mr!==s||(ar=7),ps(s)},w.then(i,i);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:Zv(w)?(ar=0,ha=null,H1(i)):(ar=0,ha=null,Cl(s,i,w,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var H=Mt;if(E?Aj(E):H.stateNode.complete){ar=0,ha=null;var ie=H.sibling;if(ie!==null)Mt=ie;else{var xe=H.return;xe!==null?(Mt=xe,gf(xe)):Mt=null}break t}}ar=0,ha=null,Cl(s,i,w,5);break;case 6:ar=0,ha=null,Cl(s,i,w,6);break;case 8:Og(),Pr=6;break e;default:throw Error(a(462))}}a6();break}catch(Ae){F1(s,Ae)}while(!0);return Fs=vo=null,U.H=h,U.A=y,Zt=u,Mt!==null?0:(mr=null,zt=0,Od(),Pr)}function a6(){for(;Mt!==null&&!Sr();)U1(Mt)}function U1(s){var i=f1(s.alternate,s,Ks);s.memoizedProps=s.pendingProps,i===null?gf(s):Mt=i}function H1(s){var i=s,u=i.alternate;switch(i.tag){case 15:case 0:i=i1(u,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=i1(u,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Wp(i);default:m1(u,i),i=Mt=$v(i,Ks),i=f1(u,i,Ks)}s.memoizedProps=s.pendingProps,i===null?gf(s):Mt=i}function Cl(s,i,u,h){Fs=vo=null,Wp(i),pl=null,$c=0;var y=i.return;try{if(G3(s,y,i,u,zt)){Pr=1,rf(s,Ea(u,s.current)),Mt=null;return}}catch(w){if(y!==null)throw Mt=y,w;Pr=1,rf(s,Ea(u,s.current)),Mt=null;return}i.flags&32768?($t||h===1?s=!0:jl||(zt&536870912)!==0?s=!1:(Ci=s=!0,(h===2||h===9||h===3||h===6)&&(h=da.current,h!==null&&h.tag===13&&(h.flags|=16384))),q1(i,s)):gf(i)}function gf(s){var i=s;do{if((i.flags&32768)!==0){q1(i,Ci);return}s=i.return;var u=X3(i.alternate,i,Ks);if(u!==null){Mt=u;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=s}while(i!==null);Pr===0&&(Pr=5)}function q1(s,i){do{var u=W3(s.alternate,s);if(u!==null){u.flags&=32767,Mt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(s=s.sibling,s!==null)){Mt=s;return}Mt=s=u}while(s!==null);Pr=6,Mt=null}function V1(s,i,u,h,y,w,E,H,ie){s.cancelPendingCommit=null;do xf();while(Jr!==0);if((Zt&6)!==0)throw Error(a(327));if(i!==null){if(i===s.current)throw Error(a(177));if(w=i.lanes|i.childLanes,w|=kp,me(s,u,w,E,H,ie),s===mr&&(Mt=mr=null,zt=0),Nl=i,Ti=s,Xs=u,_g=w,Dg=y,O1=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,l6(tt,function(){return W1(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,y=G.p,G.p=2,E=Zt,Zt|=4;try{Q3(s,i,u)}finally{Zt=E,G.p=y,U.T=h}}Jr=1,G1(),Y1(),K1()}}function G1(){if(Jr===1){Jr=0;var s=Ti,i=Nl,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var h=G.p;G.p=2;var y=Zt;Zt|=4;try{C1(i,s);var w=Yg,E=Dv(s.containerInfo),H=w.focusedElem,ie=w.selectionRange;if(E!==H&&H&&H.ownerDocument&&_v(H.ownerDocument.documentElement,H)){if(ie!==null&&yp(H)){var xe=ie.start,Ae=ie.end;if(Ae===void 0&&(Ae=xe),"selectionStart"in H)H.selectionStart=xe,H.selectionEnd=Math.min(Ae,H.value.length);else{var Oe=H.ownerDocument||document,be=Oe&&Oe.defaultView||window;if(be.getSelection){var ke=be.getSelection(),We=H.textContent.length,ft=Math.min(ie.start,We),dr=ie.end===void 0?ft:Math.min(ie.end,We);!ke.extend&&ft>dr&&(E=dr,dr=ft,ft=E);var he=Rv(H,ft),fe=Rv(H,dr);if(he&&fe&&(ke.rangeCount!==1||ke.anchorNode!==he.node||ke.anchorOffset!==he.offset||ke.focusNode!==fe.node||ke.focusOffset!==fe.offset)){var ge=Oe.createRange();ge.setStart(he.node,he.offset),ke.removeAllRanges(),ft>dr?(ke.addRange(ge),ke.extend(fe.node,fe.offset)):(ge.setEnd(fe.node,fe.offset),ke.addRange(ge))}}}}for(Oe=[],ke=H;ke=ke.parentNode;)ke.nodeType===1&&Oe.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Oe.length;H++){var _e=Oe[H];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Tf=!!Gg,Yg=Gg=null}finally{Zt=y,G.p=h,U.T=u}}s.current=i,Jr=2}}function Y1(){if(Jr===2){Jr=0;var s=Ti,i=Nl,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var h=G.p;G.p=2;var y=Zt;Zt|=4;try{w1(s,i.alternate,i)}finally{Zt=y,G.p=h,U.T=u}}Jr=3}}function K1(){if(Jr===4||Jr===3){Jr=0,Cr();var s=Ti,i=Nl,u=Xs,h=O1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jr=5:(Jr=0,Nl=Ti=null,X1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Ai=null),Ge(u),i=i.stateNode,rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(hr,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=U.T,y=G.p,G.p=2,U.T=null;try{for(var w=s.onRecoverableError,E=0;E<h.length;E++){var H=h[E];w(H.value,{componentStack:H.stack})}}finally{U.T=i,G.p=y}}(Xs&3)!==0&&xf(),ps(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===Mg?au++:(au=0,Mg=s):au=0,su(0)}}function X1(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Ic(i)))}function xf(){return G1(),Y1(),K1(),W1()}function W1(){if(Jr!==5)return!1;var s=Ti,i=_g;_g=0;var u=Ge(Xs),h=U.T,y=G.p;try{G.p=32>u?32:u,U.T=null,u=Dg,Dg=null;var w=Ti,E=Xs;if(Jr=0,Nl=Ti=null,Xs=0,(Zt&6)!==0)throw Error(a(331));var H=Zt;if(Zt|=4,_1(w.current),A1(w,w.current,E,u),Zt=H,su(0,!1),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(hr,w)}catch{}return!0}finally{G.p=y,U.T=h,X1(s,i)}}function Q1(s,i,u){i=Ea(u,i),i=dg(s.stateNode,i,2),s=ji(s,i,2),s!==null&&(se(s,2),ps(s))}function sr(s,i,u){if(s.tag===3)Q1(s,s,u);else for(;i!==null;){if(i.tag===3){Q1(i,s,u);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){s=Ea(u,s),u=Zw(2),h=ji(i,u,2),h!==null&&(Jw(u,h,i,s),se(h,2),ps(h));break}}i=i.return}}function Lg(s,i,u){var h=s.pingCache;if(h===null){h=s.pingCache=new e6;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(u)||(Ag=!0,y.add(u),s=s6.bind(null,s,i,u),i.then(s,s))}function s6(s,i,u){var h=s.pingCache;h!==null&&h.delete(i),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,mr===s&&(zt&u)===u&&(Pr===4||Pr===3&&(zt&62914560)===zt&&300>Yt()-df?(Zt&2)===0&&Sl(s,0):Tg|=u,kl===zt&&(kl=0)),ps(s)}function Z1(s,i){i===0&&(i=oa()),s=xo(s,i),s!==null&&(se(s,i),ps(s))}function i6(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),Z1(s,u)}function o6(s,i){var u=0;switch(s.tag){case 31:case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(i),Z1(s,u)}function l6(s,i){return Dr(s,i)}var yf=null,El=null,zg=!1,bf=!1,Fg=!1,_i=0;function ps(s){s!==El&&s.next===null&&(El===null?yf=El=s:El=El.next=s),bf=!0,zg||(zg=!0,u6())}function su(s,i){if(!Fg&&bf){Fg=!0;do for(var u=!1,h=yf;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var E=h.suspendedLanes,H=h.pingedLanes;w=(1<<31-pt(42|s)+1)-1,w&=y&~(E&~H),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,rj(h,w))}else w=zt,w=zn(h,h===mr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||mn(h,w)||(u=!0,rj(h,w));h=h.next}while(u);Fg=!1}}function c6(){J1()}function J1(){bf=zg=!1;var s=0;_i!==0&&v6()&&(s=_i);for(var i=Yt(),u=null,h=yf;h!==null;){var y=h.next,w=ej(h,i);w===0?(h.next=null,u===null?yf=y:u.next=y,y===null&&(El=u)):(u=h,(s!==0||(w&3)!==0)&&(bf=!0)),h=y}Jr!==0&&Jr!==5||su(s),_i!==0&&(_i=0)}function ej(s,i){for(var u=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var E=31-pt(w),H=1<<E,ie=y[E];ie===-1?((H&u)===0||(H&h)!==0)&&(y[E]=Gn(H,i)):ie<=i&&(s.expiredLanes|=H),w&=~H}if(i=mr,u=zt,u=zn(s,s===i?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===i&&(ar===2||ar===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Vt(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||mn(s,u)){if(i=u&-u,i===s.callbackPriority)return i;switch(h!==null&&Vt(h),Ge(u)){case 2:case 8:u=Le;break;case 32:u=tt;break;case 268435456:u=ht;break;default:u=tt}return h=tj.bind(null,s),u=Dr(u,h),s.callbackPriority=i,s.callbackNode=u,i}return h!==null&&h!==null&&Vt(h),s.callbackPriority=2,s.callbackNode=null,2}function tj(s,i){if(Jr!==0&&Jr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(xf()&&s.callbackNode!==u)return null;var h=zt;return h=zn(s,s===mr?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(L1(s,h,i),ej(s,Yt()),s.callbackNode!=null&&s.callbackNode===u?tj.bind(null,s):null)}function rj(s,i){if(xf())return null;L1(s,i,!0)}function u6(){j6(function(){(Zt&6)!==0?Dr(je,c6):J1()})}function Ig(){if(_i===0){var s=fl;s===0&&(s=kn,kn<<=1,(kn&261888)===0&&(kn=256)),_i=s}return _i}function nj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rt(""+s)}function aj(s,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,s.id&&u.setAttribute("form",s.id),i.parentNode.insertBefore(u,i),s=new FormData(s),u.parentNode.removeChild(u),s}function d6(s,i,u,h,y){if(i==="submit"&&u&&u.stateNode===y){var w=nj((y[qe]||null).action),E=h.submitter;E&&(i=(i=E[qe]||null)?nj(i.formAction):E.getAttribute("formAction"),i!==null&&(w=i,E=null));var H=new Rd("action","action",null,h,y);s.push({event:H,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(_i!==0){var ie=E?aj(y,E):new FormData(y);sg(u,{pending:!0,data:ie,method:y.method,action:w},null,ie)}}else typeof w=="function"&&(H.preventDefault(),ie=E?aj(y,E):new FormData(y),sg(u,{pending:!0,data:ie,method:y.method,action:w},w,ie))},currentTarget:y}]})}}for(var Bg=0;Bg<jp.length;Bg++){var $g=jp[Bg],f6=$g.toLowerCase(),h6=$g[0].toUpperCase()+$g.slice(1);Ya(f6,"on"+h6)}Ya(Pv,"onAnimationEnd"),Ya(Lv,"onAnimationIteration"),Ya(zv,"onAnimationStart"),Ya("dblclick","onDoubleClick"),Ya("focusin","onFocus"),Ya("focusout","onBlur"),Ya(T3,"onTransitionRun"),Ya(R3,"onTransitionStart"),Ya(_3,"onTransitionCancel"),Ya(Fv,"onTransitionEnd"),xt("onMouseEnter",["mouseout","mouseover"]),xt("onMouseLeave",["mouseout","mouseover"]),xt("onPointerEnter",["pointerout","pointerover"]),xt("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function sj(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],y=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var E=h.length-1;0<=E;E--){var H=h[E],ie=H.instance,xe=H.currentTarget;if(H=H.listener,ie!==w&&y.isPropagationStopped())break e;w=H,y.currentTarget=xe;try{w(y)}catch(Ae){Md(Ae)}y.currentTarget=null,w=ie}else for(E=0;E<h.length;E++){if(H=h[E],ie=H.instance,xe=H.currentTarget,H=H.listener,ie!==w&&y.isPropagationStopped())break e;w=H,y.currentTarget=xe;try{w(y)}catch(Ae){Md(Ae)}y.currentTarget=null,w=ie}}}}function Ot(s,i){var u=i[Dt];u===void 0&&(u=i[Dt]=new Set);var h=s+"__bubble";u.has(h)||(ij(i,s,2,!1),u.add(h))}function Ug(s,i,u){var h=0;i&&(h|=4),ij(u,s,h,i)}var vf="_reactListening"+Math.random().toString(36).slice(2);function Hg(s){if(!s[vf]){s[vf]=!0,ln.forEach(function(u){u!=="selectionchange"&&(m6.has(u)||Ug(u,!1,s),Ug(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[vf]||(i[vf]=!0,Ug("selectionchange",!1,i))}}function ij(s,i,u,h){switch(Pj(i)){case 2:var y=U6;break;case 8:y=H6;break;default:y=a0}u=y.bind(null,i,u,s),y=void 0,!cp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(i,u,{capture:!0,passive:y}):s.addEventListener(i,u,!0):y!==void 0?s.addEventListener(i,u,{passive:y}):s.addEventListener(i,u,!1)}function qg(s,i,u,h,y){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var H=h.stateNode.containerInfo;if(H===y)break;if(E===4)for(E=h.return;E!==null;){var ie=E.tag;if((ie===3||ie===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;H!==null;){if(E=Nn(H),E===null)return;if(ie=E.tag,ie===5||ie===6||ie===26||ie===27){h=w=E;continue e}H=H.parentNode}}h=h.return}$n(function(){var xe=w,Ae=lt(u),Oe=[];e:{var be=Iv.get(s);if(be!==void 0){var ke=Rd,We=s;switch(s){case"keypress":if(Ad(u)===0)break e;case"keydown":case"keyup":ke=o3;break;case"focusin":We="focus",ke=hp;break;case"focusout":We="blur",ke=hp;break;case"beforeblur":case"afterblur":ke=hp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=XT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=u3;break;case Pv:case Lv:case zv:ke=ZT;break;case Fv:ke=f3;break;case"scroll":case"scrollend":ke=YT;break;case"wheel":ke=m3;break;case"copy":case"cut":case"paste":ke=e3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=gv;break;case"toggle":case"beforetoggle":ke=g3}var ft=(i&4)!==0,dr=!ft&&(s==="scroll"||s==="scrollend"),he=ft?be!==null?be+"Capture":null:be;ft=[];for(var fe=xe,ge;fe!==null;){var _e=fe;if(ge=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ge===null||he===null||(_e=Sa(fe,he),_e!=null&&ft.push(ou(fe,_e,ge))),dr)break;fe=fe.return}0<ft.length&&(be=new ke(be,We,null,u,Ae),Oe.push({event:be,listeners:ft}))}}if((i&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",ke=s==="mouseout"||s==="pointerout",be&&u!==nt&&(We=u.relatedTarget||u.fromElement)&&(Nn(We)||We[gt]))break e;if((ke||be)&&(be=Ae.window===Ae?Ae:(be=Ae.ownerDocument)?be.defaultView||be.parentWindow:window,ke?(We=u.relatedTarget||u.toElement,ke=xe,We=We?Nn(We):null,We!==null&&(dr=l(We),ft=We.tag,We!==dr||ft!==5&&ft!==27&&ft!==6)&&(We=null)):(ke=null,We=xe),ke!==We)){if(ft=mv,_e="onMouseLeave",he="onMouseEnter",fe="mouse",(s==="pointerout"||s==="pointerover")&&(ft=gv,_e="onPointerLeave",he="onPointerEnter",fe="pointer"),dr=ke==null?be:Br(ke),ge=We==null?be:Br(We),be=new ft(_e,fe+"leave",ke,u,Ae),be.target=dr,be.relatedTarget=ge,_e=null,Nn(Ae)===xe&&(ft=new ft(he,fe+"enter",We,u,Ae),ft.target=ge,ft.relatedTarget=dr,_e=ft),dr=_e,ke&&We)t:{for(ft=p6,he=ke,fe=We,ge=0,_e=he;_e;_e=ft(_e))ge++;_e=0;for(var at=fe;at;at=ft(at))_e++;for(;0<ge-_e;)he=ft(he),ge--;for(;0<_e-ge;)fe=ft(fe),_e--;for(;ge--;){if(he===fe||fe!==null&&he===fe.alternate){ft=he;break t}he=ft(he),fe=ft(fe)}ft=null}else ft=null;ke!==null&&oj(Oe,be,ke,ft,!1),We!==null&&dr!==null&&oj(Oe,dr,We,ft,!0)}}e:{if(be=xe?Br(xe):window,ke=be.nodeName&&be.nodeName.toLowerCase(),ke==="select"||ke==="input"&&be.type==="file")var Kt=Nv;else if(jv(be))if(Sv)Kt=C3;else{Kt=N3;var et=k3}else ke=be.nodeName,!ke||ke.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?xe&&de(xe.elementType)&&(Kt=Nv):Kt=S3;if(Kt&&(Kt=Kt(s,xe))){kv(Oe,Kt,u,Ae);break e}et&&et(s,be,xe),s==="focusout"&&xe&&be.type==="number"&&xe.memoizedProps.value!=null&&O(be,"number",be.value)}switch(et=xe?Br(xe):window,s){case"focusin":(jv(et)||et.contentEditable==="true")&&(al=et,bp=xe,Lc=null);break;case"focusout":Lc=bp=al=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,Mv(Oe,u,Ae);break;case"selectionchange":if(A3)break;case"keydown":case"keyup":Mv(Oe,u,Ae)}var At;if(pp)e:{switch(s){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else nl?vv(s,u)&&(Ft="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ft="onCompositionStart");Ft&&(xv&&u.locale!=="ko"&&(nl||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&nl&&(At=fv()):(pi=Ae,up="value"in pi?pi.value:pi.textContent,nl=!0)),et=wf(xe,Ft),0<et.length&&(Ft=new pv(Ft,s,null,u,Ae),Oe.push({event:Ft,listeners:et}),At?Ft.data=At:(At=wv(u),At!==null&&(Ft.data=At)))),(At=y3?b3(s,u):v3(s,u))&&(Ft=wf(xe,"onBeforeInput"),0<Ft.length&&(et=new pv("onBeforeInput","beforeinput",null,u,Ae),Oe.push({event:et,listeners:Ft}),et.data=At)),d6(Oe,s,xe,u,Ae)}sj(Oe,i)})}function ou(s,i,u){return{instance:s,listener:i,currentTarget:u}}function wf(s,i){for(var u=i+"Capture",h=[];s!==null;){var y=s,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Sa(s,u),y!=null&&h.unshift(ou(s,y,w)),y=Sa(s,i),y!=null&&h.push(ou(s,y,w))),s.tag===3)return h;s=s.return}return[]}function p6(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function oj(s,i,u,h,y){for(var w=i._reactName,E=[];u!==null&&u!==h;){var H=u,ie=H.alternate,xe=H.stateNode;if(H=H.tag,ie!==null&&ie===h)break;H!==5&&H!==26&&H!==27||xe===null||(ie=xe,y?(xe=Sa(u,w),xe!=null&&E.unshift(ou(u,xe,ie))):y||(xe=Sa(u,w),xe!=null&&E.push(ou(u,xe,ie)))),u=u.return}E.length!==0&&s.push({event:i,listeners:E})}var g6=/\r\n?/g,x6=/\u0000|\uFFFD/g;function lj(s){return(typeof s=="string"?s:""+s).replace(g6,`
`).replace(x6,"")}function cj(s,i){return i=lj(i),lj(s)===i}function ur(s,i,u,h,y,w){switch(u){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||J(s,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&J(s,""+h);break;case"className":qa(s,"class",h);break;case"tabIndex":qa(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":qa(s,u,h);break;case"style":ne(s,h,w);break;case"data":if(i!=="object"){qa(s,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=rt(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(i!=="input"&&ur(s,i,"name",y.name,y,null),ur(s,i,"formEncType",y.formEncType,y,null),ur(s,i,"formMethod",y.formMethod,y,null),ur(s,i,"formTarget",y.formTarget,y,null)):(ur(s,i,"encType",y.encType,y,null),ur(s,i,"method",y.method,y,null),ur(s,i,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=rt(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=yt);break;case"onScroll":h!=null&&Ot("scroll",s);break;case"onScrollEnd":h!=null&&Ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(a(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=rt(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":Ot("beforetoggle",s),Ot("toggle",s),la(s,"popover",h);break;case"xlinkActuate":un(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":un(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":un(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":un(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":un(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":un(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":un(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":un(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":un(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":la(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ye.get(u)||u,la(s,u,h))}}function Vg(s,i,u,h,y,w){switch(u){case"style":ne(s,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(a(60));s.innerHTML=u}}break;case"children":typeof h=="string"?J(s,h):(typeof h=="number"||typeof h=="bigint")&&J(s,""+h);break;case"onScroll":h!=null&&Ot("scroll",s);break;case"onScrollEnd":h!=null&&Ot("scrollend",s);break;case"onClick":h!=null&&(s.onclick=yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),i=u.slice(2,y?u.length-7:void 0),w=s[qe]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(i,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(i,h,y);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):la(s,u,h)}}}function bn(s,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",s),Ot("load",s);var h=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var E=u[w];if(E!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ur(s,i,w,E,u,null)}}y&&ur(s,i,"srcSet",u.srcSet,u,null),h&&ur(s,i,"src",u.src,u,null);return;case"input":Ot("invalid",s);var H=w=E=y=null,ie=null,xe=null;for(h in u)if(u.hasOwnProperty(h)){var Ae=u[h];if(Ae!=null)switch(h){case"name":y=Ae;break;case"type":E=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":xe=Ae;break;case"value":w=Ae;break;case"defaultValue":H=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,i));break;default:ur(s,i,h,Ae,u,null)}}ae(s,w,H,ie,xe,E,y,!1);return;case"select":Ot("invalid",s),h=E=w=null;for(y in u)if(u.hasOwnProperty(y)&&(H=u[y],H!=null))switch(y){case"value":w=H;break;case"defaultValue":E=H;break;case"multiple":h=H;default:ur(s,i,y,H,u,null)}i=w,u=E,s.multiple=!!h,i!=null?P(s,!!h,i,!1):u!=null&&P(s,!!h,u,!0);return;case"textarea":Ot("invalid",s),w=y=h=null;for(E in u)if(u.hasOwnProperty(E)&&(H=u[E],H!=null))switch(E){case"value":h=H;break;case"defaultValue":y=H;break;case"children":w=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(91));break;default:ur(s,i,E,H,u,null)}q(s,h,y,w);return;case"option":for(ie in u)if(u.hasOwnProperty(ie)&&(h=u[ie],h!=null))switch(ie){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ur(s,i,ie,h,u,null)}return;case"dialog":Ot("beforetoggle",s),Ot("toggle",s),Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":Ot("load",s);break;case"video":case"audio":for(h=0;h<iu.length;h++)Ot(iu[h],s);break;case"image":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"embed":case"source":case"link":Ot("error",s),Ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in u)if(u.hasOwnProperty(xe)&&(h=u[xe],h!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ur(s,i,xe,h,u,null)}return;default:if(de(i)){for(Ae in u)u.hasOwnProperty(Ae)&&(h=u[Ae],h!==void 0&&Vg(s,i,Ae,h,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(h=u[H],h!=null&&ur(s,i,H,h,u,null))}function y6(s,i,u,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,E=null,H=null,ie=null,xe=null,Ae=null;for(ke in u){var Oe=u[ke];if(u.hasOwnProperty(ke)&&Oe!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":ie=Oe;default:h.hasOwnProperty(ke)||ur(s,i,ke,null,h,Oe)}}for(var be in h){var ke=h[be];if(Oe=u[be],h.hasOwnProperty(be)&&(ke!=null||Oe!=null))switch(be){case"type":w=ke;break;case"name":y=ke;break;case"checked":xe=ke;break;case"defaultChecked":Ae=ke;break;case"value":E=ke;break;case"defaultValue":H=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(a(137,i));break;default:ke!==Oe&&ur(s,i,be,ke,h,Oe)}}ho(s,E,H,ie,xe,Ae,w,y);return;case"select":ke=E=H=be=null;for(w in u)if(ie=u[w],u.hasOwnProperty(w)&&ie!=null)switch(w){case"value":break;case"multiple":ke=ie;default:h.hasOwnProperty(w)||ur(s,i,w,null,h,ie)}for(y in h)if(w=h[y],ie=u[y],h.hasOwnProperty(y)&&(w!=null||ie!=null))switch(y){case"value":be=w;break;case"defaultValue":H=w;break;case"multiple":E=w;default:w!==ie&&ur(s,i,y,w,h,ie)}i=H,u=E,h=ke,be!=null?P(s,!!u,be,!1):!!h!=!!u&&(i!=null?P(s,!!u,i,!0):P(s,!!u,u?[]:"",!1));return;case"textarea":ke=be=null;for(H in u)if(y=u[H],u.hasOwnProperty(H)&&y!=null&&!h.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:ur(s,i,H,null,h,y)}for(E in h)if(y=h[E],w=u[E],h.hasOwnProperty(E)&&(y!=null||w!=null))switch(E){case"value":be=y;break;case"defaultValue":ke=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==w&&ur(s,i,E,y,h,w)}M(s,be,ke);return;case"option":for(var We in u)if(be=u[We],u.hasOwnProperty(We)&&be!=null&&!h.hasOwnProperty(We))switch(We){case"selected":s.selected=!1;break;default:ur(s,i,We,null,h,be)}for(ie in h)if(be=h[ie],ke=u[ie],h.hasOwnProperty(ie)&&be!==ke&&(be!=null||ke!=null))switch(ie){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:ur(s,i,ie,be,h,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in u)be=u[ft],u.hasOwnProperty(ft)&&be!=null&&!h.hasOwnProperty(ft)&&ur(s,i,ft,null,h,be);for(xe in h)if(be=h[xe],ke=u[xe],h.hasOwnProperty(xe)&&be!==ke&&(be!=null||ke!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,i));break;default:ur(s,i,xe,be,h,ke)}return;default:if(de(i)){for(var dr in u)be=u[dr],u.hasOwnProperty(dr)&&be!==void 0&&!h.hasOwnProperty(dr)&&Vg(s,i,dr,void 0,h,be);for(Ae in h)be=h[Ae],ke=u[Ae],!h.hasOwnProperty(Ae)||be===ke||be===void 0&&ke===void 0||Vg(s,i,Ae,be,h,ke);return}}for(var he in u)be=u[he],u.hasOwnProperty(he)&&be!=null&&!h.hasOwnProperty(he)&&ur(s,i,he,null,h,be);for(Oe in h)be=h[Oe],ke=u[Oe],!h.hasOwnProperty(Oe)||be===ke||be==null&&ke==null||ur(s,i,Oe,be,h,ke)}function uj(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b6(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],w=y.transferSize,E=y.initiatorType,H=y.duration;if(w&&H&&uj(E)){for(E=0,H=y.responseEnd,h+=1;h<u.length;h++){var ie=u[h],xe=ie.startTime;if(xe>H)break;var Ae=ie.transferSize,Oe=ie.initiatorType;Ae&&uj(Oe)&&(ie=ie.responseEnd,E+=Ae*(ie<H?1:(H-xe)/(ie-xe)))}if(--h,i+=8*(w+E)/(y.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Gg=null,Yg=null;function jf(s){return s.nodeType===9?s:s.ownerDocument}function dj(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fj(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Kg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xg=null;function v6(){var s=window.event;return s&&s.type==="popstate"?s===Xg?!1:(Xg=s,!0):(Xg=null,!1)}var hj=typeof setTimeout=="function"?setTimeout:void 0,w6=typeof clearTimeout=="function"?clearTimeout:void 0,mj=typeof Promise=="function"?Promise:void 0,j6=typeof queueMicrotask=="function"?queueMicrotask:typeof mj<"u"?function(s){return mj.resolve(null).then(s).catch(k6)}:hj;function k6(s){setTimeout(function(){throw s})}function Di(s){return s==="head"}function pj(s,i){var u=i,h=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){s.removeChild(y),_l(i);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")lu(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,lu(u);for(var w=u.firstChild;w;){var E=w.nextSibling,H=w.nodeName;w[It]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=E}}else u==="body"&&lu(s.ownerDocument.body);u=y}while(u);_l(i)}function gj(s,i){var u=s;s=0;do{var h=u.nextSibling;if(u.nodeType===1?i?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(i?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=h}while(u)}function Wg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wg(u),Fn(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function N6(s,i,u,h){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[It])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Da(s.nextSibling),s===null)break}return null}function S6(s,i,u){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Da(s.nextSibling),s===null))return null;return s}function xj(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Da(s.nextSibling),s===null))return null;return s}function Qg(s){return s.data==="$?"||s.data==="$~"}function Zg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function C6(s,i){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||u.readyState!=="loading")i();else{var h=function(){i(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Da(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Jg=null;function yj(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(i===0)return Da(s.nextSibling);i--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||i++}s=s.nextSibling}return null}function bj(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(i===0)return s;i--}else u!=="/$"&&u!=="/&"||i++}s=s.previousSibling}return null}function vj(s,i,u){switch(i=jf(u),s){case"html":if(s=i.documentElement,!s)throw Error(a(452));return s;case"head":if(s=i.head,!s)throw Error(a(453));return s;case"body":if(s=i.body,!s)throw Error(a(454));return s;default:throw Error(a(451))}}function lu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Fn(s)}var Ma=new Map,wj=new Set;function kf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ws=G.d;G.d={f:E6,r:A6,D:T6,C:R6,L:_6,m:D6,X:O6,S:M6,M:P6};function E6(){var s=Ws.f(),i=mf();return s||i}function A6(s){var i=Zr(s);i!==null&&i.tag===5&&i.type==="form"?Fw(i):Ws.r(s)}var Al=typeof document>"u"?null:document;function jj(s,i,u){var h=Al;if(h&&typeof i=="string"&&i){var y=Cn(i);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),wj.has(y)||(wj.add(y),s={rel:s,crossOrigin:u,href:i},h.querySelector(y)===null&&(i=h.createElement("link"),bn(i,"link",s),Qt(i),h.head.appendChild(i)))}}function T6(s){Ws.D(s),jj("dns-prefetch",s,null)}function R6(s,i){Ws.C(s,i),jj("preconnect",s,i)}function _6(s,i,u){Ws.L(s,i,u);var h=Al;if(h&&s&&i){var y='link[rel="preload"][as="'+Cn(i)+'"]';i==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Cn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Cn(u.imageSizes)+'"]')):y+='[href="'+Cn(s)+'"]';var w=y;switch(i){case"style":w=Tl(s);break;case"script":w=Rl(s)}Ma.has(w)||(s=p({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:s,as:i},u),Ma.set(w,s),h.querySelector(y)!==null||i==="style"&&h.querySelector(cu(w))||i==="script"&&h.querySelector(uu(w))||(i=h.createElement("link"),bn(i,"link",s),Qt(i),h.head.appendChild(i)))}}function D6(s,i){Ws.m(s,i);var u=Al;if(u&&s){var h=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+Cn(h)+'"][href="'+Cn(s)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Rl(s)}if(!Ma.has(w)&&(s=p({rel:"modulepreload",href:s},i),Ma.set(w,s),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(uu(w)))return}h=u.createElement("link"),bn(h,"link",s),Qt(h),u.head.appendChild(h)}}}function M6(s,i,u){Ws.S(s,i,u);var h=Al;if(h&&s){var y=In(h).hoistableStyles,w=Tl(s);i=i||"default";var E=y.get(w);if(!E){var H={loading:0,preload:null};if(E=h.querySelector(cu(w)))H.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":i},u),(u=Ma.get(w))&&e0(s,u);var ie=E=h.createElement("link");Qt(ie),bn(ie,"link",s),ie._p=new Promise(function(xe,Ae){ie.onload=xe,ie.onerror=Ae}),ie.addEventListener("load",function(){H.loading|=1}),ie.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Nf(E,i,h)}E={type:"stylesheet",instance:E,count:1,state:H},y.set(w,E)}}}function O6(s,i){Ws.X(s,i);var u=Al;if(u&&s){var h=In(u).hoistableScripts,y=Rl(s),w=h.get(y);w||(w=u.querySelector(uu(y)),w||(s=p({src:s,async:!0},i),(i=Ma.get(y))&&t0(s,i),w=u.createElement("script"),Qt(w),bn(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function P6(s,i){Ws.M(s,i);var u=Al;if(u&&s){var h=In(u).hoistableScripts,y=Rl(s),w=h.get(y);w||(w=u.querySelector(uu(y)),w||(s=p({src:s,async:!0,type:"module"},i),(i=Ma.get(y))&&t0(s,i),w=u.createElement("script"),Qt(w),bn(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function kj(s,i,u,h){var y=(y=re.current)?kf(y):null;if(!y)throw Error(a(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=Tl(u.href),u=In(y).hoistableStyles,h=u.get(i),h||(h={type:"style",instance:null,count:0,state:null},u.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Tl(u.href);var w=In(y).hoistableStyles,E=w.get(s);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,E),(w=y.querySelector(cu(s)))&&!w._p&&(E.instance=w,E.state.loading=5),Ma.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ma.set(s,u),w||L6(y,s,u,E.state))),i&&h===null)throw Error(a(528,""));return E}if(i&&h!==null)throw Error(a(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Rl(u),u=In(y).hoistableScripts,h=u.get(i),h||(h={type:"script",instance:null,count:0,state:null},u.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,s))}}function Tl(s){return'href="'+Cn(s)+'"'}function cu(s){return'link[rel="stylesheet"]['+s+"]"}function Nj(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function L6(s,i,u,h){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=s.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),bn(i,"link",u),Qt(i),s.head.appendChild(i))}function Rl(s){return'[src="'+Cn(s)+'"]'}function uu(s){return"script[async]"+s}function Sj(s,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var h=s.querySelector('style[data-href~="'+Cn(u.href)+'"]');if(h)return i.instance=h,Qt(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Qt(h),bn(h,"style",y),Nf(h,u.precedence,s),i.instance=h;case"stylesheet":y=Tl(u.href);var w=s.querySelector(cu(y));if(w)return i.state.loading|=4,i.instance=w,Qt(w),w;h=Nj(u),(y=Ma.get(y))&&e0(h,y),w=(s.ownerDocument||s).createElement("link"),Qt(w);var E=w;return E._p=new Promise(function(H,ie){E.onload=H,E.onerror=ie}),bn(w,"link",h),i.state.loading|=4,Nf(w,u.precedence,s),i.instance=w;case"script":return w=Rl(u.src),(y=s.querySelector(uu(w)))?(i.instance=y,Qt(y),y):(h=u,(y=Ma.get(w))&&(h=p({},u),t0(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),Qt(y),bn(y,"link",h),s.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,Nf(h,u.precedence,s));return i.instance}function Nf(s,i,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,E=0;E<h.length;E++){var H=h[E];if(H.dataset.precedence===i)w=H;else if(w!==y)break}w?w.parentNode.insertBefore(s,w.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(s,i.firstChild))}function e0(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function t0(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Sf=null;function Cj(s,i,u){if(Sf===null){var h=new Map,y=Sf=new Map;y.set(u,h)}else y=Sf,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var w=u[y];if(!(w[It]||w[He]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var E=w.getAttribute(i)||"";E=s+E;var H=h.get(E);H?H.push(w):h.set(E,[w])}}return h}function Ej(s,i,u){s=s.ownerDocument||s,s.head.insertBefore(u,i==="title"?s.querySelector("head > title"):null)}function z6(s,i,u){if(u===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Aj(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function F6(s,i,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Tl(h.href),w=i.querySelector(cu(y));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Cf.bind(s),i.then(s,s)),u.state.loading|=4,u.instance=w,Qt(w);return}w=i.ownerDocument||i,h=Nj(h),(y=Ma.get(y))&&e0(h,y),w=w.createElement("link"),Qt(w);var E=w;E._p=new Promise(function(H,ie){E.onload=H,E.onerror=ie}),bn(w,"link",h),u.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,i),(i=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Cf.bind(s),i.addEventListener("load",u),i.addEventListener("error",u))}}var r0=0;function I6(s,i){return s.stylesheets&&s.count===0&&Af(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var h=setTimeout(function(){if(s.stylesheets&&Af(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+i);0<s.imgBytes&&r0===0&&(r0=62500*b6());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Af(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>r0?50:800)+i);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ef=null;function Af(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ef=new Map,i.forEach(B6,s),Ef=null,Cf.call(s))}function B6(s,i){if(!(i.state.loading&4)){var u=Ef.get(s);if(u)var h=u.get(null);else{u=new Map,Ef.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var E=y[w];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),h=E)}h&&u.set(null,h)}y=i.instance,E=y.getAttribute("data-precedence"),w=u.get(E)||h,w===h&&u.set(null,y),u.set(E,y),this.count++,h=Cf.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),i.state.loading|=4}}var du={$$typeof:A,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function $6(s,i,u,h,y,w,E,H,ie){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function Tj(s,i,u,h,y,w,E,H,ie,xe,Ae,Oe){return s=new $6(s,i,u,E,ie,xe,Ae,Oe,H),i=1,w===!0&&(i|=24),w=ua(3,null,null,i),s.current=w,w.stateNode=s,i=Pp(),i.refCount++,s.pooledCache=i,i.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:i},Ip(w),s}function Rj(s){return s?(s=ol,s):ol}function _j(s,i,u,h,y,w){y=Rj(y),h.context===null?h.context=y:h.pendingContext=y,h=wi(i),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=ji(s,h,i),u!==null&&(Jn(u,s,i),Hc(u,s,i))}function Dj(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function n0(s,i){Dj(s,i),(s=s.alternate)&&Dj(s,i)}function Mj(s){if(s.tag===13||s.tag===31){var i=xo(s,67108864);i!==null&&Jn(i,s,67108864),n0(s,67108864)}}function Oj(s){if(s.tag===13||s.tag===31){var i=pa();i=Ye(i);var u=xo(s,i);u!==null&&Jn(u,s,i),n0(s,i)}}var Tf=!0;function U6(s,i,u,h){var y=U.T;U.T=null;var w=G.p;try{G.p=2,a0(s,i,u,h)}finally{G.p=w,U.T=y}}function H6(s,i,u,h){var y=U.T;U.T=null;var w=G.p;try{G.p=8,a0(s,i,u,h)}finally{G.p=w,U.T=y}}function a0(s,i,u,h){if(Tf){var y=s0(h);if(y===null)qg(s,i,h,Rf,u),Lj(s,h);else if(V6(y,s,i,u,h))h.stopPropagation();else if(Lj(s,h),i&4&&-1<q6.indexOf(s)){for(;y!==null;){var w=Zr(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var E=Qr(w.pendingLanes);if(E!==0){var H=w;for(H.pendingLanes|=2,H.entangledLanes|=2;E;){var ie=1<<31-pt(E);H.entanglements[1]|=ie,E&=~ie}ps(w),(Zt&6)===0&&(ff=Yt()+500,su(0))}}break;case 31:case 13:H=xo(w,2),H!==null&&Jn(H,w,2),mf(),n0(w,2)}if(w=s0(h),w===null&&qg(s,i,h,Rf,u),w===y)break;y=w}y!==null&&h.stopPropagation()}else qg(s,i,h,null,u)}}function s0(s){return s=lt(s),i0(s)}var Rf=null;function i0(s){if(Rf=null,s=Nn(s),s!==null){var i=l(s);if(i===null)s=null;else{var u=i.tag;if(u===13){if(s=c(i),s!==null)return s;s=null}else if(u===31){if(s=d(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Rf=s,null}function Pj(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(on()){case je:return 2;case Le:return 8;case tt:case dt:return 32;case ht:return 268435456;default:return 32}default:return 32}}var o0=!1,Mi=null,Oi=null,Pi=null,fu=new Map,hu=new Map,Li=[],q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lj(s,i){switch(s){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(i.pointerId)}}function mu(s,i,u,h,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},i!==null&&(i=Zr(i),i!==null&&Mj(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),s)}function V6(s,i,u,h,y){switch(i){case"focusin":return Mi=mu(Mi,s,i,u,h,y),!0;case"dragenter":return Oi=mu(Oi,s,i,u,h,y),!0;case"mouseover":return Pi=mu(Pi,s,i,u,h,y),!0;case"pointerover":var w=y.pointerId;return fu.set(w,mu(fu.get(w)||null,s,i,u,h,y)),!0;case"gotpointercapture":return w=y.pointerId,hu.set(w,mu(hu.get(w)||null,s,i,u,h,y)),!0}return!1}function zj(s){var i=Nn(s.target);if(i!==null){var u=l(i);if(u!==null){if(i=u.tag,i===13){if(i=c(u),i!==null){s.blockedOn=i,Xe(s.priority,function(){Oj(u)});return}}else if(i===31){if(i=d(u),i!==null){s.blockedOn=i,Xe(s.priority,function(){Oj(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _f(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=s0(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);nt=h,u.target.dispatchEvent(h),nt=null}else return i=Zr(u),i!==null&&Mj(i),s.blockedOn=u,!1;i.shift()}return!0}function Fj(s,i,u){_f(s)&&u.delete(i)}function G6(){o0=!1,Mi!==null&&_f(Mi)&&(Mi=null),Oi!==null&&_f(Oi)&&(Oi=null),Pi!==null&&_f(Pi)&&(Pi=null),fu.forEach(Fj),hu.forEach(Fj)}function Df(s,i){s.blockedOn===i&&(s.blockedOn=null,o0||(o0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,G6)))}var Mf=null;function Ij(s){Mf!==s&&(Mf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mf===s&&(Mf=null);for(var i=0;i<s.length;i+=3){var u=s[i],h=s[i+1],y=s[i+2];if(typeof h!="function"){if(i0(h||u)===null)continue;break}var w=Zr(u);w!==null&&(s.splice(i,3),i-=3,sg(w,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function _l(s){function i(ie){return Df(ie,s)}Mi!==null&&Df(Mi,s),Oi!==null&&Df(Oi,s),Pi!==null&&Df(Pi,s),fu.forEach(i),hu.forEach(i);for(var u=0;u<Li.length;u++){var h=Li[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Li.length&&(u=Li[0],u.blockedOn===null);)zj(u),u.blockedOn===null&&Li.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],w=u[h+1],E=y[qe]||null;if(typeof w=="function")E||Ij(u);else if(E){var H=null;if(w&&w.hasAttribute("formAction")){if(y=w,E=w[qe]||null)H=E.formAction;else if(i0(y)!==null)continue}else H=E.action;typeof H=="function"?u[h+1]=H:(u.splice(h,3),h-=3),Ij(u)}}}function Bj(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function i(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),y!==null&&(y(),y=null)}}}function l0(s){this._internalRoot=s}Of.prototype.render=l0.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(a(409));var u=i.current,h=pa();_j(u,h,s,i,null,null)},Of.prototype.unmount=l0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;_j(s.current,2,null,s,null,null),mf(),i[gt]=null}};function Of(s){this._internalRoot=s}Of.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ve();s={blockedOn:null,target:s,priority:i};for(var u=0;u<Li.length&&i!==0&&i<Li[u].priority;u++);Li.splice(u,0,s),u===0&&zj(s)}};var $j=t.version;if($j!=="19.2.0")throw Error(a(527,$j,"19.2.0"));G.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(a(188)):(s=Object.keys(s).join(","),Error(a(268,s)));return s=m(i),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var Y6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{hr=Pf.inject(Y6),rr=Pf}catch{}}return gu.createRoot=function(s,i){if(!o(s))throw Error(a(299));var u=!1,h="",y=Kw,w=Xw,E=Ww;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Tj(s,1,!1,null,null,u,h,null,y,w,E,Bj),s[gt]=i.current,Hg(s),new l0(i)},gu.hydrateRoot=function(s,i,u){if(!o(s))throw Error(a(299));var h=!1,y="",w=Kw,E=Xw,H=Ww,ie=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.formState!==void 0&&(ie=u.formState)),i=Tj(s,1,!0,i,u??null,h,y,ie,w,E,H,Bj),i.context=Rj(null),u=i.current,h=pa(),h=Ye(h),y=wi(h),y.callback=null,ji(u,y,h),u=h,i.current.lanes=u,se(i,u),ps(i),s[gt]=i.current,Hg(s),new Of(i)},gu.version="19.2.0",gu}var Qj;function nR(){if(Qj)return d0.exports;Qj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),d0.exports=rR(),d0.exports}var aR=nR();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r2=e=>{throw TypeError(e)},sR=(e,t,r)=>t.has(e)||r2("Cannot "+r),p0=(e,t,r)=>(sR(e,t,"read from private field"),r?r.call(e):t.get(e)),iR=(e,t,r)=>t.has(e)?r2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Zj="popstate";function oR(e={}){function t(a,o){let{pathname:l,search:c,hash:d}=a.location;return Vu("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Xi(o)}return cR(t,r,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function Jj(e,t){return{usr:e.state,key:e.key,idx:t}}function Vu(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?so(t):t,state:r,key:t&&t.key||a||lR()}}function Xi({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function so(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function cR(e,t,r,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function p(){d="POP";let N=g(),S=N==null?null:N-m;m=N,f&&f({action:d,location:k.location,delta:S})}function v(N,S){d="PUSH";let C=Vu(k.location,N,S);m=g()+1;let A=Jj(C,m),I=k.createHref(C);try{c.pushState(A,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(I)}l&&f&&f({action:d,location:k.location,delta:1})}function b(N,S){d="REPLACE";let C=Vu(k.location,N,S);m=g();let A=Jj(C,m),I=k.createHref(C);c.replaceState(A,"",I),l&&f&&f({action:d,location:k.location,delta:0})}function j(N){return n2(N)}let k={get action(){return d},get location(){return e(o,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Zj,p),f=N,()=>{o.removeEventListener(Zj,p),f=null}},createHref(N){return t(o,N)},createURL:j,encodeLocation(N){let S=j(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(N){return c.go(N)}};return k}function n2(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),_t(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Xi(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}var _u,ek=class{constructor(e){if(iR(this,_u,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(p0(this,_u).has(e))return p0(this,_u).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){p0(this,_u).set(e,t)}};_u=new WeakMap;var uR=new Set(["lazy","caseSensitive","path","id","index","children"]);function dR(e){return uR.has(e)}var fR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function hR(e){return fR.has(e)}function mR(e){return e.index===!0}function Gu(e,t,r=[],a={},o=!1){return e.map((l,c)=>{let d=[...r,String(c)],f=typeof l.id=="string"?l.id:d.join("-");if(_t(l.index!==!0||!l.children,"Cannot specify children on an index route"),_t(o||!a[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),mR(l)){let m={...l,...t(l),id:f};return a[f]=m,m}else{let m={...l,...t(l),id:f,children:void 0};return a[f]=m,l.children&&(m.children=Gu(l.children,t,d,a,o)),m}})}function Ui(e,t,r="/"){return ch(e,t,r,!1)}function ch(e,t,r,a){let o=typeof t=="string"?so(t):t,l=Ua(o.pathname||"/",r);if(l==null)return null;let c=a2(e);gR(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=ER(l);d=SR(c[f],m,a)}return d}function pR(e,t){let{route:r,pathname:a,params:o}=e;return{id:r.id,pathname:a,params:o,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function a2(e,t=[],r=[],a="",o=!1){let l=(c,d,f=o,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&f)return;_t(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let p=ks([a,g.relativePath]),v=r.concat(g);c.children&&c.children.length>0&&(_t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),a2(c.children,t,v,p,f)),!(c.path==null&&!c.index)&&t.push({path:p,score:kR(p,c.index),routesMeta:v})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of s2(c.path))l(c,d,!0,f)}),t}function s2(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=s2(a.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function gR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NR(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var xR=/^:[\w-]+$/,yR=3,bR=2,vR=1,wR=10,jR=-2,tk=e=>e==="*";function kR(e,t){let r=e.split("/"),a=r.length;return r.some(tk)&&(a+=jR),t&&(a+=bR),r.filter(o=>!tk(o)).reduce((o,l)=>o+(xR.test(l)?yR:l===""?vR:wR),a)}function NR(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function SR(e,t,r=!1){let{routesMeta:a}=e,o={},l="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,g=l==="/"?t:t.slice(l.length)||"/",p=Oh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),v=f.route;if(!p&&m&&r&&!a[a.length-1].route.index&&(p=Oh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!p)return null;Object.assign(o,p.params),c.push({params:o,pathname:ks([l,p.pathname]),pathnameBase:_R(ks([l,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(l=ks([l,p.pathnameBase]))}return c}function Oh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=CR(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:p},v)=>{if(g==="*"){let j=d[v]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[v];return p&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function CR(e,t=!1,r=!0){Fr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function ER(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ua(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function AR({basename:e,pathname:t}){return t==="/"?e:ks([e,t])}function TR(e,t="/"){let{pathname:r,search:a="",hash:o=""}=typeof e=="string"?so(e):e;return{pathname:r?r.startsWith("/")?r:RR(r,t):t,search:DR(a),hash:MR(o)}}function RR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function g0(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mm(e){let t=i2(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function pm(e,t,r,a=!1){let o;typeof e=="string"?o=so(e):(o={...e},_t(!o.pathname||!o.pathname.includes("?"),g0("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),g0("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),g0("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=r;else{let p=t.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),p-=1;o.pathname=v.join("/")}d=p>=0?t[p]:"/"}let f=TR(o,d),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var ks=e=>e.join("/").replace(/\/\/+/g,"/"),_R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ph=class{constructor(e,t,r,a=!1){this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Yu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var o2=["POST","PUT","PATCH","DELETE"],OR=new Set(o2),PR=["GET",...o2],LR=new Set(PR),zR=new Set([301,302,303,307,308]),FR=new Set([307,308]),x0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,My=e=>BR.test(e),$R=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),l2="remix-router-transitions",c2=Symbol("ResetLoaderData");function UR(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";_t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=e.hydrationRouteProperties||[],o=e.mapRouteProperties||$R,l={},c=Gu(e.routes,o,void 0,l),d,f=e.basename||"/";f.startsWith("/")||(f=`/${f}`);let m=e.dataStrategy||YR,g={...e.future},p=null,v=new Set,b=null,j=null,k=null,N=e.hydrationData!=null,S=Ui(c,e.history.location,f),C=!1,A=null,I;if(S==null&&!e.patchRoutesOnNavigation){let se=Pa(404,{pathname:e.history.location.pathname}),{matches:me,route:pe}=Lf(c);I=!0,S=me,A={[pe.id]:se}}else if(S&&!e.hydrationData&&mn(S,c,e.history.location.pathname).active&&(S=null),S)if(S.some(se=>se.route.lazy))I=!1;else if(!S.some(se=>Oy(se.route)))I=!0;else{let se=e.hydrationData?e.hydrationData.loaderData:null,me=e.hydrationData?e.hydrationData.errors:null;if(me){let pe=S.findIndex(Se=>me[Se.route.id]!==void 0);I=S.slice(0,pe+1).every(Se=>!vx(Se.route,se,me))}else I=S.every(pe=>!vx(pe.route,se,me))}else{I=!1,S=[];let se=mn(null,c,e.history.location.pathname);se.active&&se.matches&&(C=!0,S=se.matches)}let D,T={historyAction:e.history.action,location:e.history.location,matches:S,initialized:I,navigation:x0,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},B="POP",X=!1,Y,K=!1,le=new Map,L=null,W=!1,Q=!1,Z=new Set,U=new Map,G=0,F=-1,V=new Map,R=new Set,_=new Map,$=new Map,z=new Set,ue=new Map,ve,re=null;function ce(){if(p=e.history.listen(({action:se,location:me,delta:pe})=>{if(ve){ve(),ve=void 0;return}Fr(ue.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Ln({currentLocation:T.location,nextLocation:me,historyAction:se});if(Se&&pe!=null){let Fe=new Promise(Ye=>{ve=Ye});e.history.go(pe*-1),br(Se,{state:"blocked",location:me,proceed(){br(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Fe.then(()=>e.history.go(pe))},reset(){let Ye=new Map(T.blockers);Ye.set(Se,xu),Ce({blockers:Ye})}});return}return $e(se,me)}),r){l_(t,le);let se=()=>c_(t,le);t.addEventListener("pagehide",se),L=()=>t.removeEventListener("pagehide",se)}return T.initialized||$e("POP",T.location,{initialHydration:!0}),D}function Me(){p&&p(),L&&L(),v.clear(),Y&&Y.abort(),T.fetchers.forEach((se,me)=>ht(me)),T.blockers.forEach((se,me)=>Er(me))}function Ne(se){return v.add(se),()=>v.delete(se)}function Ce(se,me={}){se.matches&&(se.matches=se.matches.map(Fe=>{let Ye=l[Fe.route.id],Ge=Fe.route;return Ge.element!==Ye.element||Ge.errorElement!==Ye.errorElement||Ge.hydrateFallbackElement!==Ye.hydrateFallbackElement?{...Fe,route:Ye}:Fe})),T={...T,...se};let pe=[],Se=[];T.fetchers.forEach((Fe,Ye)=>{Fe.state==="idle"&&(z.has(Ye)?pe.push(Ye):Se.push(Ye))}),z.forEach(Fe=>{!T.fetchers.has(Fe)&&!U.has(Fe)&&pe.push(Fe)}),[...v].forEach(Fe=>Fe(T,{deletedFetchers:pe,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),pe.forEach(Fe=>ht(Fe)),Se.forEach(Fe=>T.fetchers.delete(Fe))}function Ee(se,me,{flushSync:pe}={}){let Se=T.actionData!=null&&T.navigation.formMethod!=null&&ta(T.navigation.formMethod)&&T.navigation.state==="loading"&&se.state?._isRedirect!==!0,Fe;me.actionData?Object.keys(me.actionData).length>0?Fe=me.actionData:Fe=null:Se?Fe=T.actionData:Fe=null;let Ye=me.loaderData?dk(T.loaderData,me.loaderData,me.matches||[],me.errors):T.loaderData,Ge=T.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((He,qe)=>Ge.set(qe,xu)));let Ve=W?!1:zn(se,me.matches||T.matches),Xe=X===!0||T.navigation.formMethod!=null&&ta(T.navigation.formMethod)&&se.state?._isRedirect!==!0;d&&(c=d,d=void 0),W||B==="POP"||(B==="PUSH"?e.history.push(se,se.state):B==="REPLACE"&&e.history.replace(se,se.state));let Ke;if(B==="POP"){let He=le.get(T.location.pathname);He&&He.has(se.pathname)?Ke={currentLocation:T.location,nextLocation:se}:le.has(se.pathname)&&(Ke={currentLocation:se,nextLocation:T.location})}else if(K){let He=le.get(T.location.pathname);He?He.add(se.pathname):(He=new Set([se.pathname]),le.set(T.location.pathname,He)),Ke={currentLocation:T.location,nextLocation:se}}Ce({...me,actionData:Fe,loaderData:Ye,historyAction:B,location:se,initialized:!0,navigation:x0,revalidation:"idle",restoreScrollPosition:Ve,preventScrollReset:Xe,blockers:Ge},{viewTransitionOpts:Ke,flushSync:pe===!0}),B="POP",X=!1,K=!1,W=!1,Q=!1,re?.resolve(),re=null}async function Re(se,me){if(typeof se=="number"){e.history.go(se);return}let pe=bx(T.location,T.matches,f,se,me?.fromRouteId,me?.relative),{path:Se,submission:Fe,error:Ye}=rk(!1,pe,me),Ge=T.location,Ve=Vu(T.location,Se,me&&me.state);Ve={...Ve,...e.history.encodeLocation(Ve)};let Xe=me&&me.replace!=null?me.replace:void 0,Ke="PUSH";Xe===!0?Ke="REPLACE":Xe===!1||Fe!=null&&ta(Fe.formMethod)&&Fe.formAction===T.location.pathname+T.location.search&&(Ke="REPLACE");let He=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,qe=(me&&me.flushSync)===!0,gt=Ln({currentLocation:Ge,nextLocation:Ve,historyAction:Ke});if(gt){br(gt,{state:"blocked",location:Ve,proceed(){br(gt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),Re(se,me)},reset(){let Dt=new Map(T.blockers);Dt.set(gt,xu),Ce({blockers:Dt})}});return}await $e(Ke,Ve,{submission:Fe,pendingError:Ye,preventScrollReset:He,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:qe})}function Be(){re||(re=u_()),on(),Ce({revalidation:"loading"});let se=re.promise;return T.navigation.state==="submitting"?se:T.navigation.state==="idle"?($e(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),se):($e(B||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:K===!0}),se)}async function $e(se,me,pe){Y&&Y.abort(),Y=null,B=se,W=(pe&&pe.startUninterruptedRevalidation)===!0,Qr(T.location,T.matches),X=(pe&&pe.preventScrollReset)===!0,K=(pe&&pe.enableViewTransition)===!0;let Se=d||c,Fe=pe&&pe.overrideNavigation,Ye=pe?.initialHydration&&T.matches&&T.matches.length>0&&!C?T.matches:Ui(Se,me,f),Ge=(pe&&pe.flushSync)===!0;if(Ye&&T.initialized&&!Q&&t_(T.location,me)&&!(pe&&pe.submission&&ta(pe.submission.formMethod))){Ee(me,{matches:Ye},{flushSync:Ge});return}let Ve=mn(Ye,Se,me.pathname);if(Ve.active&&Ve.matches&&(Ye=Ve.matches),!Ye){let{error:Mr,notFoundMatches:er,route:It}=kn(me.pathname);Ee(me,{matches:er,loaderData:{},errors:{[It.id]:Mr}},{flushSync:Ge});return}Y=new AbortController;let Xe=$l(e.history,me,Y.signal,pe&&pe.submission),Ke=e.getContext?await e.getContext():new ek,He;if(pe&&pe.pendingError)He=[Hi(Ye).route.id,{type:"error",error:pe.pendingError}];else if(pe&&pe.submission&&ta(pe.submission.formMethod)){let Mr=await bt(Xe,me,pe.submission,Ye,Ke,Ve.active,pe&&pe.initialHydration===!0,{replace:pe.replace,flushSync:Ge});if(Mr.shortCircuited)return;if(Mr.pendingActionResult){let[er,It]=Mr.pendingActionResult;if(xa(It)&&Yu(It.error)&&It.error.status===404){Y=null,Ee(me,{matches:Mr.matches,loaderData:{},errors:{[er]:It.error}});return}}Ye=Mr.matches||Ye,He=Mr.pendingActionResult,Fe=y0(me,pe.submission),Ge=!1,Ve.active=!1,Xe=$l(e.history,Xe.url,Xe.signal)}let{shortCircuited:qe,matches:gt,loaderData:Dt,errors:or}=await jt(Xe,me,Ye,Ke,Ve.active,Fe,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,Ge,He);qe||(Y=null,Ee(me,{matches:gt||Ye,...fk(He),loaderData:Dt,errors:or}))}async function bt(se,me,pe,Se,Fe,Ye,Ge,Ve={}){on();let Xe=i_(me,pe);if(Ce({navigation:Xe},{flushSync:Ve.flushSync===!0}),Ye){let qe=await Gn(Se,me.pathname,se.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){if(qe.partialMatches.length===0){let{matches:Dt,route:or}=Lf(c);return{matches:Dt,pendingActionResult:[or.id,{type:"error",error:qe.error}]}}let gt=Hi(qe.partialMatches).route.id;return{matches:qe.partialMatches,pendingActionResult:[gt,{type:"error",error:qe.error}]}}else if(qe.matches)Se=qe.matches;else{let{notFoundMatches:gt,error:Dt,route:or}=kn(me.pathname);return{matches:gt,pendingActionResult:[or.id,{type:"error",error:Dt}]}}}let Ke,He=uh(Se,me);if(!He.route.action&&!He.route.lazy)Ke={type:"error",error:Pa(405,{method:se.method,pathname:me.pathname,routeId:He.route.id})};else{let qe=Yl(o,l,se,Se,He,Ge?[]:a,Fe),gt=await Cr(se,qe,Fe,null);if(Ke=gt[He.route.id],!Ke){for(let Dt of Se)if(gt[Dt.route.id]){Ke=gt[Dt.route.id];break}}if(se.signal.aborted)return{shortCircuited:!0}}if(Lo(Ke)){let qe;return Ve&&Ve.replace!=null?qe=Ve.replace:qe=lk(Ke.response.headers.get("Location"),new URL(se.url),f)===T.location.pathname+T.location.search,await Sr(se,Ke,!0,{submission:pe,replace:qe}),{shortCircuited:!0}}if(xa(Ke)){let qe=Hi(Se,He.route.id);return(Ve&&Ve.replace)!==!0&&(B="PUSH"),{matches:Se,pendingActionResult:[qe.route.id,Ke,He.route.id]}}return{matches:Se,pendingActionResult:[He.route.id,Ke]}}async function jt(se,me,pe,Se,Fe,Ye,Ge,Ve,Xe,Ke,He,qe){let gt=Ye||y0(me,Ge),Dt=Ge||Ve||mk(gt),or=!W&&!Ke;if(Fe){if(or){let lr=mt(qe);Ce({navigation:gt,...lr!==void 0?{actionData:lr}:{}},{flushSync:He})}let xt=await Gn(pe,me.pathname,se.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){if(xt.partialMatches.length===0){let{matches:$r,route:Sn}=Lf(c);return{matches:$r,loaderData:{},errors:{[Sn.id]:xt.error}}}let lr=Hi(xt.partialMatches).route.id;return{matches:xt.partialMatches,loaderData:{},errors:{[lr]:xt.error}}}else if(xt.matches)pe=xt.matches;else{let{error:lr,notFoundMatches:$r,route:Sn}=kn(me.pathname);return{matches:$r,loaderData:{},errors:{[Sn.id]:lr}}}}let Mr=d||c,{dsMatches:er,revalidatingFetchers:It}=nk(se,Se,o,l,e.history,T,pe,Dt,me,Ke?[]:a,Ke===!0,Q,Z,z,_,R,Mr,f,e.patchRoutesOnNavigation!=null,qe);if(F=++G,!e.dataStrategy&&!er.some(xt=>xt.shouldLoad)&&!er.some(xt=>xt.route.middleware&&xt.route.middleware.length>0)&&It.length===0){let xt=rr();return Ee(me,{matches:pe,loaderData:{},errors:qe&&xa(qe[1])?{[qe[0]]:qe[1].error}:null,...fk(qe),...xt?{fetchers:new Map(T.fetchers)}:{}},{flushSync:He}),{shortCircuited:!0}}if(or){let xt={};if(!Fe){xt.navigation=gt;let lr=mt(qe);lr!==void 0&&(xt.actionData=lr)}It.length>0&&(xt.fetchers=kt(It)),Ce(xt,{flushSync:He})}It.forEach(xt=>{ir(xt.key),xt.controller&&U.set(xt.key,xt.controller)});let Fn=()=>It.forEach(xt=>ir(xt.key));Y&&Y.signal.addEventListener("abort",Fn);let{loaderResults:Nn,fetcherResults:Zr}=await Yt(er,It,se,Se);if(se.signal.aborted)return{shortCircuited:!0};Y&&Y.signal.removeEventListener("abort",Fn),It.forEach(xt=>U.delete(xt.key));let Br=zf(Nn);if(Br)return await Sr(se,Br.result,!0,{replace:Xe}),{shortCircuited:!0};if(Br=zf(Zr),Br)return R.add(Br.key),await Sr(se,Br.result,!0,{replace:Xe}),{shortCircuited:!0};let{loaderData:In,errors:Qt}=uk(T,pe,Nn,qe,It,Zr);Ke&&T.errors&&(Qt={...T.errors,...Qt});let ln=rr(),Yn=nr(F),cn=ln||Yn||It.length>0;return{matches:pe,loaderData:In,errors:Qt,...cn?{fetchers:new Map(T.fetchers)}:{}}}function mt(se){if(se&&!xa(se[1]))return{[se[0]]:se[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function kt(se){return se.forEach(me=>{let pe=T.fetchers.get(me.key),Se=yu(void 0,pe?pe.data:void 0);T.fetchers.set(me.key,Se)}),new Map(T.fetchers)}async function Lt(se,me,pe,Se){ir(se);let Fe=(Se&&Se.flushSync)===!0,Ye=d||c,Ge=bx(T.location,T.matches,f,pe,me,Se?.relative),Ve=Ui(Ye,Ge,f),Xe=mn(Ve,Ye,Ge);if(Xe.active&&Xe.matches&&(Ve=Xe.matches),!Ve){Le(se,me,Pa(404,{pathname:Ge}),{flushSync:Fe});return}let{path:Ke,submission:He,error:qe}=rk(!0,Ge,Se);if(qe){Le(se,me,qe,{flushSync:Fe});return}let gt=e.getContext?await e.getContext():new ek,Dt=(Se&&Se.preventScrollReset)===!0;if(He&&ta(He.formMethod)){await Dr(se,me,Ke,Ve,gt,Xe.active,Fe,Dt,He);return}_.set(se,{routeId:me,path:Ke}),await Vt(se,me,Ke,Ve,gt,Xe.active,Fe,Dt,He)}async function Dr(se,me,pe,Se,Fe,Ye,Ge,Ve,Xe){on(),_.delete(se);let Ke=T.fetchers.get(se);je(se,o_(Xe,Ke),{flushSync:Ge});let He=new AbortController,qe=$l(e.history,pe,He.signal,Xe);if(Ye){let vr=await Gn(Se,new URL(qe.url).pathname,qe.signal,se);if(vr.type==="aborted")return;if(vr.type==="error"){Le(se,me,vr.error,{flushSync:Ge});return}else if(vr.matches)Se=vr.matches;else{Le(se,me,Pa(404,{pathname:pe}),{flushSync:Ge});return}}let gt=uh(Se,pe);if(!gt.route.action&&!gt.route.lazy){let vr=Pa(405,{method:Xe.formMethod,pathname:pe,routeId:me});Le(se,me,vr,{flushSync:Ge});return}U.set(se,He);let Dt=G,or=Yl(o,l,qe,Se,gt,a,Fe),er=(await Cr(qe,or,Fe,se))[gt.route.id];if(qe.signal.aborted){U.get(se)===He&&U.delete(se);return}if(z.has(se)){if(Lo(er)||xa(er)){je(se,ei(void 0));return}}else{if(Lo(er))if(U.delete(se),F>Dt){je(se,ei(void 0));return}else return R.add(se),je(se,yu(Xe)),Sr(qe,er,!1,{fetcherSubmission:Xe,preventScrollReset:Ve});if(xa(er)){Le(se,me,er.error);return}}let It=T.navigation.location||T.location,Fn=$l(e.history,It,He.signal),Nn=d||c,Zr=T.navigation.state!=="idle"?Ui(Nn,T.navigation.location,f):T.matches;_t(Zr,"Didn't find any matches after fetcher action");let Br=++G;V.set(se,Br);let In=yu(Xe,er.data);T.fetchers.set(se,In);let{dsMatches:Qt,revalidatingFetchers:ln}=nk(Fn,Fe,o,l,e.history,T,Zr,Xe,It,a,!1,Q,Z,z,_,R,Nn,f,e.patchRoutesOnNavigation!=null,[gt.route.id,er]);ln.filter(vr=>vr.key!==se).forEach(vr=>{let la=vr.key,qa=T.fetchers.get(la),un=yu(void 0,qa?qa.data:void 0);T.fetchers.set(la,un),ir(la),vr.controller&&U.set(la,vr.controller)}),Ce({fetchers:new Map(T.fetchers)});let Yn=()=>ln.forEach(vr=>ir(vr.key));He.signal.addEventListener("abort",Yn);let{loaderResults:cn,fetcherResults:xt}=await Yt(Qt,ln,Fn,Fe);if(He.signal.aborted)return;if(He.signal.removeEventListener("abort",Yn),V.delete(se),U.delete(se),ln.forEach(vr=>U.delete(vr.key)),T.fetchers.has(se)){let vr=ei(er.data);T.fetchers.set(se,vr)}let lr=zf(cn);if(lr)return Sr(Fn,lr.result,!1,{preventScrollReset:Ve});if(lr=zf(xt),lr)return R.add(lr.key),Sr(Fn,lr.result,!1,{preventScrollReset:Ve});let{loaderData:$r,errors:Sn}=uk(T,Zr,cn,void 0,ln,xt);nr(Br),T.navigation.state==="loading"&&Br>F?(_t(B,"Expected pending action"),Y&&Y.abort(),Ee(T.navigation.location,{matches:Zr,loaderData:$r,errors:Sn,fetchers:new Map(T.fetchers)})):(Ce({errors:Sn,loaderData:dk(T.loaderData,$r,Zr,Sn),fetchers:new Map(T.fetchers)}),Q=!1)}async function Vt(se,me,pe,Se,Fe,Ye,Ge,Ve,Xe){let Ke=T.fetchers.get(se);je(se,yu(Xe,Ke?Ke.data:void 0),{flushSync:Ge});let He=new AbortController,qe=$l(e.history,pe,He.signal);if(Ye){let It=await Gn(Se,new URL(qe.url).pathname,qe.signal,se);if(It.type==="aborted")return;if(It.type==="error"){Le(se,me,It.error,{flushSync:Ge});return}else if(It.matches)Se=It.matches;else{Le(se,me,Pa(404,{pathname:pe}),{flushSync:Ge});return}}let gt=uh(Se,pe);U.set(se,He);let Dt=G,or=Yl(o,l,qe,Se,gt,a,Fe),er=(await Cr(qe,or,Fe,se))[gt.route.id];if(U.get(se)===He&&U.delete(se),!qe.signal.aborted){if(z.has(se)){je(se,ei(void 0));return}if(Lo(er))if(F>Dt){je(se,ei(void 0));return}else{R.add(se),await Sr(qe,er,!1,{preventScrollReset:Ve});return}if(xa(er)){Le(se,me,er.error);return}je(se,ei(er.data))}}async function Sr(se,me,pe,{submission:Se,fetcherSubmission:Fe,preventScrollReset:Ye,replace:Ge}={}){me.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let Ve=me.response.headers.get("Location");_t(Ve,"Expected a Location header on the redirect Response"),Ve=lk(Ve,new URL(se.url),f);let Xe=Vu(T.location,Ve,{_isRedirect:!0});if(r){let or=!1;if(me.response.headers.has("X-Remix-Reload-Document"))or=!0;else if(My(Ve)){const Mr=n2(Ve,!0);or=Mr.origin!==t.location.origin||Ua(Mr.pathname,f)==null}if(or){Ge?t.location.replace(Ve):t.location.assign(Ve);return}}Y=null;let Ke=Ge===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:He,formAction:qe,formEncType:gt}=T.navigation;!Se&&!Fe&&He&&qe&&gt&&(Se=mk(T.navigation));let Dt=Se||Fe;if(FR.has(me.response.status)&&Dt&&ta(Dt.formMethod))await $e(Ke,Xe,{submission:{...Dt,formAction:Ve},preventScrollReset:Ye||X,enableViewTransition:pe?K:void 0});else{let or=y0(Xe,Se);await $e(Ke,Xe,{overrideNavigation:or,fetcherSubmission:Fe,preventScrollReset:Ye||X,enableViewTransition:pe?K:void 0})}}async function Cr(se,me,pe,Se){let Fe,Ye={};try{Fe=await XR(m,se,me,Se,pe,!1)}catch(Ge){return me.filter(Ve=>Ve.shouldLoad).forEach(Ve=>{Ye[Ve.route.id]={type:"error",error:Ge}}),Ye}if(se.signal.aborted)return Ye;for(let[Ge,Ve]of Object.entries(Fe))if(a_(Ve)){let Xe=Ve.result;Ye[Ge]={type:"redirect",response:JR(Xe,se,Ge,me,f)}}else Ye[Ge]=await ZR(Ve);return Ye}async function Yt(se,me,pe,Se){let Fe=Cr(pe,se,Se,null),Ye=Promise.all(me.map(async Xe=>{if(Xe.matches&&Xe.match&&Xe.request&&Xe.controller){let He=(await Cr(Xe.request,Xe.matches,Se,Xe.key))[Xe.match.route.id];return{[Xe.key]:He}}else return Promise.resolve({[Xe.key]:{type:"error",error:Pa(404,{pathname:Xe.path})}})})),Ge=await Fe,Ve=(await Ye).reduce((Xe,Ke)=>Object.assign(Xe,Ke),{});return{loaderResults:Ge,fetcherResults:Ve}}function on(){Q=!0,_.forEach((se,me)=>{U.has(me)&&Z.add(me),ir(me)})}function je(se,me,pe={}){T.fetchers.set(se,me),Ce({fetchers:new Map(T.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Le(se,me,pe,Se={}){let Fe=Hi(T.matches,me);ht(se),Ce({errors:{[Fe.route.id]:pe},fetchers:new Map(T.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function tt(se){return $.set(se,($.get(se)||0)+1),z.has(se)&&z.delete(se),T.fetchers.get(se)||IR}function dt(se,me){ir(se,me?.reason),je(se,ei(null))}function ht(se){let me=T.fetchers.get(se);U.has(se)&&!(me&&me.state==="loading"&&V.has(se))&&ir(se),_.delete(se),V.delete(se),R.delete(se),z.delete(se),Z.delete(se),T.fetchers.delete(se)}function yr(se){let me=($.get(se)||0)-1;me<=0?($.delete(se),z.add(se)):$.set(se,me),Ce({fetchers:new Map(T.fetchers)})}function ir(se,me){let pe=U.get(se);pe&&(pe.abort(me),U.delete(se))}function hr(se){for(let me of se){let pe=tt(me),Se=ei(pe.data);T.fetchers.set(me,Se)}}function rr(){let se=[],me=!1;for(let pe of R){let Se=T.fetchers.get(pe);_t(Se,`Expected fetcher: ${pe}`),Se.state==="loading"&&(R.delete(pe),se.push(pe),me=!0)}return hr(se),me}function nr(se){let me=[];for(let[pe,Se]of V)if(Se<se){let Fe=T.fetchers.get(pe);_t(Fe,`Expected fetcher: ${pe}`),Fe.state==="loading"&&(ir(pe),V.delete(pe),me.push(pe))}return hr(me),me.length>0}function pt(se,me){let pe=T.blockers.get(se)||xu;return ue.get(se)!==me&&ue.set(se,me),pe}function Er(se){T.blockers.delete(se),ue.delete(se)}function br(se,me){let pe=T.blockers.get(se)||xu;_t(pe.state==="unblocked"&&me.state==="blocked"||pe.state==="blocked"&&me.state==="blocked"||pe.state==="blocked"&&me.state==="proceeding"||pe.state==="blocked"&&me.state==="unblocked"||pe.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${pe.state} -> ${me.state}`);let Se=new Map(T.blockers);Se.set(se,me),Ce({blockers:Se})}function Ln({currentLocation:se,nextLocation:me,historyAction:pe}){if(ue.size===0)return;ue.size>1&&Fr(!1,"A router only supports one blocker at a time");let Se=Array.from(ue.entries()),[Fe,Ye]=Se[Se.length-1],Ge=T.blockers.get(Fe);if(!(Ge&&Ge.state==="proceeding")&&Ye({currentLocation:se,nextLocation:me,historyAction:pe}))return Fe}function kn(se){let me=Pa(404,{pathname:se}),pe=d||c,{matches:Se,route:Fe}=Lf(pe);return{notFoundMatches:Se,route:Fe,error:me}}function us(se,me,pe){if(b=se,k=me,j=pe||null,!N&&T.navigation===x0){N=!0;let Se=zn(T.location,T.matches);Se!=null&&Ce({restoreScrollPosition:Se})}return()=>{b=null,k=null,j=null}}function Vn(se,me){return j&&j(se,me.map(Se=>pR(Se,T.loaderData)))||se.key}function Qr(se,me){if(b&&k){let pe=Vn(se,me);b[pe]=k()}}function zn(se,me){if(b){let pe=Vn(se,me),Se=b[pe];if(typeof Se=="number")return Se}return null}function mn(se,me,pe){if(e.patchRoutesOnNavigation)if(se){if(Object.keys(se[0].params).length>0)return{active:!0,matches:ch(me,pe,f,!0)}}else return{active:!0,matches:ch(me,pe,f,!0)||[]};return{active:!1,matches:null}}async function Gn(se,me,pe,Se){if(!e.patchRoutesOnNavigation)return{type:"success",matches:se};let Fe=se;for(;;){let Ye=d==null,Ge=d||c,Ve=l;try{await e.patchRoutesOnNavigation({signal:pe,path:me,matches:Fe,fetcherKey:Se,patch:(He,qe)=>{pe.aborted||ak(He,qe,Ge,Ve,o,!1)}})}catch(He){return{type:"error",error:He,partialMatches:Fe}}finally{Ye&&!pe.aborted&&(c=[...c])}if(pe.aborted)return{type:"aborted"};let Xe=Ui(Ge,me,f);if(Xe)return{type:"success",matches:Xe};let Ke=ch(Ge,me,f,!0);if(!Ke||Fe.length===Ke.length&&Fe.every((He,qe)=>He.route.id===Ke[qe].route.id))return{type:"success",matches:null};Fe=Ke}}function oa(se){l={},d=Gu(se,o,void 0,l)}function Tr(se,me,pe=!1){let Se=d==null;ak(se,me,d||c,l,o,pe),Se&&(c=[...c],Ce({}))}return D={get basename(){return f},get future(){return g},get state(){return T},get routes(){return c},get window(){return t},initialize:ce,subscribe:Ne,enableScrollRestoration:us,navigate:Re,fetch:Lt,revalidate:Be,createHref:se=>e.history.createHref(se),encodeLocation:se=>e.history.encodeLocation(se),getFetcher:tt,resetFetcher:dt,deleteFetcher:yr,dispose:Me,getBlocker:pt,deleteBlocker:Er,patchRoutes:Tr,_internalFetchControllers:U,_internalSetRoutes:oa,_internalSetStateDoNotUseOrYouWillBreakYourApp(se){Ce(se)}},D}function HR(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function bx(e,t,r,a,o,l){let c,d;if(o){c=[];for(let m of t)if(c.push(m),m.route.id===o){d=m;break}}else c=t,d=t[t.length-1];let f=pm(a||".",mm(c),Ua(e.pathname,r)||e.pathname,l==="path");if(a==null&&(f.search=e.search,f.hash=e.hash),(a==null||a===""||a===".")&&d){let m=Py(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(f.search),p=g.getAll("index");g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let v=g.toString();f.search=v?`?${v}`:""}}return r!=="/"&&(f.pathname=AR({basename:r,pathname:f.pathname})),Xi(f)}function rk(e,t,r){if(!r||!HR(r))return{path:t};if(r.formMethod&&!s_(r.formMethod))return{path:t,error:Pa(405,{method:r.formMethod})};let a=()=>({path:t,error:Pa(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),c=p2(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ta(l))return a();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,[b,j])=>`${v}${b}=${j}
`,""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!ta(l))return a();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return a()}}}_t(typeof FormData=="function","FormData is not available in this environment");let d,f;if(r.formData)d=jx(r.formData),f=r.formData;else if(r.body instanceof FormData)d=jx(r.body),f=r.body;else if(r.body instanceof URLSearchParams)d=r.body,f=ck(d);else if(r.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(r.body),f=ck(d)}catch{return a()}let m={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ta(m.formMethod))return{path:t,submission:m};let g=so(t);return e&&g.search&&Py(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Xi(g),submission:m}}function nk(e,t,r,a,o,l,c,d,f,m,g,p,v,b,j,k,N,S,C,A){let I=A?xa(A[1])?A[1].error:A[1].data:void 0,D=o.createURL(l.location),T=o.createURL(f),B;if(g&&l.errors){let W=Object.keys(l.errors)[0];B=c.findIndex(Q=>Q.route.id===W)}else if(A&&xa(A[1])){let W=A[0];B=c.findIndex(Q=>Q.route.id===W)-1}let X=A?A[1].statusCode:void 0,Y=X&&X>=400,K={currentUrl:D,currentParams:l.matches[0]?.params||{},nextUrl:T,nextParams:c[0].params,...d,actionResult:I,actionStatus:X},le=c.map((W,Q)=>{let{route:Z}=W,U=null;if(B!=null&&Q>B?U=!1:Z.lazy?U=!0:Oy(Z)?g?U=vx(Z,l.loaderData,l.errors):qR(l.loaderData,l.matches[Q],W)&&(U=!0):U=!1,U!==null)return wx(r,a,e,W,m,t,U);let G=Y?!1:p||D.pathname+D.search===T.pathname+T.search||D.search!==T.search||VR(l.matches[Q],W),F={...K,defaultShouldRevalidate:G},V=Lh(W,F);return wx(r,a,e,W,m,t,V,F)}),L=[];return j.forEach((W,Q)=>{if(g||!c.some($=>$.route.id===W.routeId)||b.has(Q))return;let Z=l.fetchers.get(Q),U=Z&&Z.state!=="idle"&&Z.data===void 0,G=Ui(N,W.path,S);if(!G){if(C&&U)return;L.push({key:Q,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(k.has(Q))return;let F=uh(G,W.path),V=new AbortController,R=$l(o,W.path,V.signal),_=null;if(v.has(Q))v.delete(Q),_=Yl(r,a,R,G,F,m,t);else if(U)p&&(_=Yl(r,a,R,G,F,m,t));else{let $={...K,defaultShouldRevalidate:Y?!1:p};Lh(F,$)&&(_=Yl(r,a,R,G,F,m,t,$))}_&&L.push({key:Q,routeId:W.routeId,path:W.path,matches:_,match:F,request:R,controller:V})}),{dsMatches:le,revalidatingFetchers:L}}function Oy(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function vx(e,t,r){if(e.lazy)return!0;if(!Oy(e))return!1;let a=t!=null&&e.id in t,o=r!=null&&r[e.id]!==void 0;return!a&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!o}function qR(e,t,r){let a=!t||r.route.id!==t.route.id,o=!e.hasOwnProperty(r.route.id);return a||o}function VR(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Lh(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function ak(e,t,r,a,o,l){let c;if(e){let m=a[e];_t(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),c=m.children}else c=r;let d=[],f=[];if(t.forEach(m=>{let g=c.find(p=>u2(m,p));g?f.push({existingRoute:g,newRoute:m}):d.push(m)}),d.length>0){let m=Gu(d,o,[e||"_","patch",String(c?.length||"0")],a);c.push(...m)}if(l&&f.length>0)for(let m=0;m<f.length;m++){let{existingRoute:g,newRoute:p}=f[m],v=g,[b]=Gu([p],o,[],{},!0);Object.assign(v,{element:b.element?b.element:v.element,errorElement:b.errorElement?b.errorElement:v.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:v.hydrateFallbackElement})}}function u2(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,a)=>t.children?.some(o=>u2(r,o))):!1}var sk=new WeakMap,d2=({key:e,route:t,manifest:r,mapRouteProperties:a})=>{let o=r[t.id];if(_t(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[e];if(!l)return;let c=sk.get(o);c||(c={},sk.set(o,c));let d=c[e];if(d)return d;let f=(async()=>{let m=dR(e),p=o[e]!==void 0&&e!=="hasErrorBoundary";if(m)Fr(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(p)Fr(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let v=await l();v!=null&&(Object.assign(o,{[e]:v}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(v=>v===void 0)&&(o.lazy=void 0))})();return c[e]=f,f},ik=new WeakMap;function GR(e,t,r,a,o){let l=r[e.id];if(_t(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=ik.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let p=(async()=>{_t(typeof e.lazy=="function","No lazy route function found");let v=await e.lazy(),b={};for(let j in v){let k=v[j];if(k===void 0)continue;let N=hR(j),C=l[j]!==void 0&&j!=="hasErrorBoundary";N?Fr(!N,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?Fr(!C,`Route "${l.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):b[j]=k}Object.assign(l,b),Object.assign(l,{...a(l),lazy:void 0})})();return ik.set(l,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let c=Object.keys(e.lazy),d=[],f;for(let g of c){if(o&&o.includes(g))continue;let p=d2({key:g,route:e,manifest:r,mapRouteProperties:a});p&&(d.push(p),g===t&&(f=p))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function ok(e){let t=e.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,l)=>{r[t[l].route.id]=o}),r}async function YR(e){return e.matches.some(t=>t.route.middleware)?f2(e,()=>ok(e)):ok(e)}function f2(e,t){return KR(e,t,a=>a,r_,r);function r(a,o,l){if(l)return Promise.resolve(Object.assign(l.value,{[o]:{type:"error",result:a}}));{let{matches:c}=e,d=Math.min(Math.max(c.findIndex(m=>m.route.id===o),0),Math.max(c.findIndex(m=>m.unstable_shouldCallHandler()),0)),f=Hi(c,c[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:a}})}}}async function KR(e,t,r,a,o){let{matches:l,request:c,params:d,context:f}=e,m=l.flatMap(p=>p.route.middleware?p.route.middleware.map(v=>[p.route.id,v]):[]);return await h2({request:c,params:d,context:f},m,t,r,a,o)}async function h2(e,t,r,a,o,l,c=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=t[c];if(!f)return await r();let[m,g]=f,p,v=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await h2(e,t,r,a,o,l,c+1)},p.value}catch(b){return p={value:await l(b,m,p)},p.value}};try{let b=await g(e,v),j=b!=null?a(b):void 0;return o(j)?j:p?j??p.value:(p={value:await v()},p.value)}catch(b){return await l(b,m,p)}}function m2(e,t,r,a,o){let l=d2({key:"middleware",route:a.route,manifest:t,mapRouteProperties:e}),c=GR(a.route,ta(r.method)?"action":"loader",t,e,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function wx(e,t,r,a,o,l,c,d=null){let f=!1,m=m2(e,t,r,a,o);return{...a,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return f=!0,d?typeof g=="boolean"?Lh(a,{...d,defaultShouldRevalidate:g}):Lh(a,d):c},resolve(g){let{lazy:p,loader:v,middleware:b}=a.route,j=f||c||g&&!ta(r.method)&&(p||v),k=b&&b.length>0&&!v&&!p;return j&&!k?WR({request:r,match:a,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Yl(e,t,r,a,o,l,c,d=null){return a.map(f=>f.route.id!==o.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:m2(e,t,r,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:wx(e,t,r,f,l,c,!0,d))}async function XR(e,t,r,a,o,l){r.some(m=>m._lazyPromises?.middleware)&&await Promise.all(r.map(m=>m._lazyPromises?.middleware));let c={request:t,params:r[0].params,context:o,matches:r},f=await e({...c,fetcherKey:a,runClientMiddleware:m=>{let g=c;return f2(g,()=>m({...g,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return f}async function WR({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:a,handlerOverride:o,scopedContext:l}){let c,d,f=ta(e.method),m=f?"action":"loader",g=p=>{let v,b=new Promise((N,S)=>v=S);d=()=>v(),e.signal.addEventListener("abort",d);let j=N=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:l},...N!==void 0?[N]:[]),k=(async()=>{try{return{type:"data",result:await(o?o(S=>j(S)):j())}}catch(N){return{type:"error",result:N}}})();return Promise.race([k,b])};try{let p=f?t.route.action:t.route.loader;if(r||a)if(p){let v,[b]=await Promise.all([g(p).catch(j=>{v=j}),r,a]);if(v!==void 0)throw v;c=b}else{await r;let v=f?t.route.action:t.route.loader;if(v)[c]=await Promise.all([g(v),a]);else if(m==="action"){let b=new URL(e.url),j=b.pathname+b.search;throw Pa(405,{method:e.method,pathname:j,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)c=await g(p);else{let v=new URL(e.url),b=v.pathname+v.search;throw Pa(404,{pathname:b})}}catch(p){return{type:"error",result:p}}finally{d&&e.signal.removeEventListener("abort",d)}return c}async function QR(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function ZR(e){let{result:t,type:r}=e;if(g2(t)){let a;try{a=await QR(t)}catch(o){return{type:"error",error:o}}return r==="error"?{type:"error",error:new Ph(t.status,t.statusText,a),statusCode:t.status,headers:t.headers}:{type:"data",data:a,statusCode:t.status,headers:t.headers}}return r==="error"?hk(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ph(t.init?.status||500,void 0,t.data),statusCode:Yu(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Yu(t)?t.status:void 0}:hk(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function JR(e,t,r,a,o){let l=e.headers.get("Location");if(_t(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!My(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===r)+1);l=bx(new URL(t.url),c,o,l),e.headers.set("Location",l)}return e}function lk(e,t,r){if(My(e)){let a=e,o=a.startsWith("//")?new URL(t.protocol+a):new URL(a),l=Ua(o.pathname,r)!=null;if(o.origin===t.origin&&l)return o.pathname+o.search+o.hash}return e}function $l(e,t,r,a){let o=e.createURL(p2(t)).toString(),l={signal:r};if(a&&ta(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=jx(a.formData):l.body=a.formData}return new Request(o,l)}function jx(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,typeof a=="string"?a:a.name);return t}function ck(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function e_(e,t,r,a=!1,o=!1){let l={},c=null,d,f=!1,m={},g=r&&xa(r[1])?r[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let v=p.route.id,b=t[v];if(_t(!Lo(b),"Cannot handle redirect results in processLoaderData"),xa(b)){let j=b.error;if(g!==void 0&&(j=g,g=void 0),c=c||{},o)c[v]=j;else{let k=Hi(e,v);c[k.route.id]==null&&(c[k.route.id]=j)}a||(l[v]=c2),f||(f=!0,d=Yu(b.error)?b.error.status:500),b.headers&&(m[v]=b.headers)}else l[v]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(d=b.statusCode),b.headers&&(m[v]=b.headers)}),g!==void 0&&r&&(c={[r[0]]:g},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function uk(e,t,r,a,o,l){let{loaderData:c,errors:d}=e_(t,r,a);return o.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:g,controller:p}=f;if(p&&p.signal.aborted)return;let v=l[m];if(_t(v,"Did not find corresponding fetcher result"),xa(v)){let b=Hi(e.matches,g?.route.id);d&&d[b.route.id]||(d={...d,[b.route.id]:v.error}),e.fetchers.delete(m)}else if(Lo(v))_t(!1,"Unhandled fetcher revalidation redirect");else{let b=ei(v.data);e.fetchers.set(m,b)}}),{loaderData:c,errors:d}}function dk(e,t,r,a){let o=Object.entries(t).filter(([,l])=>l!==c2).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of r){let c=l.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&l.route.loader&&(o[c]=e[c]),a&&a.hasOwnProperty(c))break}return o}function fk(e){return e?xa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Hi(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Lf(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pa(e,{pathname:t,routeId:r,method:a,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(c="Bad Request",a&&t&&r?d=`You made a ${a} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):e===403?(c="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(c="Not Found",d=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",a&&t&&r?d=`You made a ${a.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Ph(e||500,c,new Error(d),!0)}function zf(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[a,o]=t[r];if(Lo(o))return{key:a,result:o}}}function p2(e){let t=typeof e=="string"?so(e):e;return Xi({...t,hash:""})}function t_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function r_(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&n_(r))}function n_(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function a_(e){return g2(e.result)&&zR.has(e.result.status)}function xa(e){return e.type==="error"}function Lo(e){return(e&&e.type)==="redirect"}function hk(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function g2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function s_(e){return LR.has(e.toUpperCase())}function ta(e){return OR.has(e.toUpperCase())}function Py(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function uh(e,t){let r=typeof t=="string"?so(t).search:t.search;if(e[e.length-1].route.index&&Py(r||""))return e[e.length-1];let a=i2(e);return a[a.length-1]}function mk(e){let{formMethod:t,formAction:r,formEncType:a,text:o,formData:l,json:c}=e;if(!(!t||!r||!a)){if(o!=null)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:t,formAction:r,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:c,text:void 0}}}function y0(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function i_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function yu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function o_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ei(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function l_(e,t){try{let r=e.sessionStorage.getItem(l2);if(r){let a=JSON.parse(r);for(let[o,l]of Object.entries(a||{}))l&&Array.isArray(l)&&t.set(o,new Set(l||[]))}}catch{}}function c_(e,t){if(t.size>0){let r={};for(let[a,o]of t)r[a]=[...o];try{e.sessionStorage.setItem(l2,JSON.stringify(r))}catch(a){Fr(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function u_(){let e,t,r=new Promise((a,o)=>{e=async l=>{a(l);try{await r}catch{}},t=async l=>{o(l);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Qo=x.createContext(null);Qo.displayName="DataRouter";var sd=x.createContext(null);sd.displayName="DataRouterState";x.createContext(!1);var Ly=x.createContext({isTransitioning:!1});Ly.displayName="ViewTransition";var x2=x.createContext(new Map);x2.displayName="Fetchers";var d_=x.createContext(null);d_.displayName="Await";var as=x.createContext(null);as.displayName="Navigation";var gm=x.createContext(null);gm.displayName="Location";var ss=x.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var zy=x.createContext(null);zy.displayName="RouteError";function f_(e,{relative:t}={}){_t(hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=x.useContext(as),{hash:o,pathname:l,search:c}=id(e,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:ks([r,l])),a.createHref({pathname:d,search:c,hash:o})}function hc(){return x.useContext(gm)!=null}function di(){return _t(hc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(gm).location}var y2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b2(e){x.useContext(as).static||x.useLayoutEffect(e)}function Na(){let{isDataRoute:e}=x.useContext(ss);return e?E_():h_()}function h_(){_t(hc(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Qo),{basename:t,navigator:r}=x.useContext(as),{matches:a}=x.useContext(ss),{pathname:o}=di(),l=JSON.stringify(mm(a)),c=x.useRef(!1);return b2(()=>{c.current=!0}),x.useCallback((f,m={})=>{if(Fr(c.current,y2),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=pm(f,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ks([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,l,o,e])}var m_=x.createContext(null);function p_(e){let t=x.useContext(ss).outlet;return x.useMemo(()=>t&&x.createElement(m_.Provider,{value:e},t),[t,e])}function id(e,{relative:t}={}){let{matches:r}=x.useContext(ss),{pathname:a}=di(),o=JSON.stringify(mm(r));return x.useMemo(()=>pm(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function g_(e,t,r,a,o){_t(hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(as),{matches:c}=x.useContext(ss),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",p=d&&d.route;{let C=p&&p.path||"";v2(m,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=di(),b;b=v;let j=b.pathname||"/",k=j;if(g!=="/"){let C=g.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=Ui(e,{pathname:k});return Fr(p||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Fr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),w_(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:ks([g,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ks([g,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,r,a,o)}function x_(){let e=C_(),t=Yu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:o},r):null,c)}var y_=x.createElement(x_,null),b_=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(ss.Provider,{value:this.props.routeContext},x.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v_({routeContext:e,match:t,children:r}){let a=x.useContext(Qo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ss.Provider,{value:e},r)}function w_(e,t=[],r=null,a=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);_t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(r)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:p,errors:v}=r,b=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,p)=>{let v,b=!1,j=null,k=null;r&&(v=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||y_,d&&(f<0&&p===0?(v2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):f===p&&(b=!0,k=g.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,p+1)),S=()=>{let C;return v?C=j:b?C=k:g.route.Component?C=x.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=m,x.createElement(v_,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:C})};return r&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?x.createElement(b_,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:a}):S()},null)}function Fy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j_(e){let t=x.useContext(Qo);return _t(t,Fy(e)),t}function k_(e){let t=x.useContext(sd);return _t(t,Fy(e)),t}function N_(e){let t=x.useContext(ss);return _t(t,Fy(e)),t}function Iy(e){let t=N_(e),r=t.matches[t.matches.length-1];return _t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function S_(){return Iy("useRouteId")}function C_(){let e=x.useContext(zy),t=k_("useRouteError"),r=Iy("useRouteError");return e!==void 0?e:t.errors?.[r]}function E_(){let{router:e}=j_("useNavigate"),t=Iy("useNavigate"),r=x.useRef(!1);return b2(()=>{r.current=!0}),x.useCallback(async(o,l={})=>{Fr(r.current,y2),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var pk={};function v2(e,t,r){!t&&!pk[e]&&(pk[e]=!0,Fr(!1,r))}var gk={};function xk(e,t){!e&&!gk[t]&&(gk[t]=!0,console.warn(t))}function A_(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Fr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:x.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Fr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:x.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Fr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:x.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var T_=["HydrateFallback","hydrateFallbackElement"],R_=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function __({router:e,flushSync:t,unstable_onError:r}){let[a,o]=x.useState(e.state),[l,c]=x.useState(),[d,f]=x.useState({isTransitioning:!1}),[m,g]=x.useState(),[p,v]=x.useState(),[b,j]=x.useState(),k=x.useRef(new Map),N=x.useCallback(D=>{o(T=>(D.errors&&r&&Object.entries(D.errors).forEach(([B,X])=>{T.errors?.[B]!==X&&r(X)}),D))},[r]),S=x.useCallback((D,{deletedFetchers:T,flushSync:B,viewTransitionOpts:X})=>{D.fetchers.forEach((K,le)=>{K.data!==void 0&&k.current.set(le,K.data)}),T.forEach(K=>k.current.delete(K)),xk(B===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Y=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(xk(X==null||Y,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!X||!Y){t&&B?t(()=>N(D)):x.startTransition(()=>N(D));return}if(t&&B){t(()=>{p&&(m&&m.resolve(),p.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let K=e.window.document.startViewTransition(()=>{t(()=>N(D))});K.finished.finally(()=>{t(()=>{g(void 0),v(void 0),c(void 0),f({isTransitioning:!1})})}),t(()=>v(K));return}p?(m&&m.resolve(),p.skipTransition(),j({state:D,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(c(D),f({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[e.window,t,p,m,N]);x.useLayoutEffect(()=>e.subscribe(S),[e,S]),x.useEffect(()=>{d.isTransitioning&&!d.flushSync&&g(new R_)},[d]),x.useEffect(()=>{if(m&&l&&e.window){let D=l,T=m.promise,B=e.window.document.startViewTransition(async()=>{x.startTransition(()=>N(D)),await T});B.finished.finally(()=>{g(void 0),v(void 0),c(void 0),f({isTransitioning:!1})}),v(B)}},[l,m,e.window,N]),x.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,p,a.location,l]),x.useEffect(()=>{!d.isTransitioning&&b&&(c(b.state),f({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),j(void 0))},[d.isTransitioning,b]);let C=x.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:D=>e.navigate(D),push:(D,T,B)=>e.navigate(D,{state:T,preventScrollReset:B?.preventScrollReset}),replace:(D,T,B)=>e.navigate(D,{replace:!0,state:T,preventScrollReset:B?.preventScrollReset})}),[e]),A=e.basename||"/",I=x.useMemo(()=>({router:e,navigator:C,static:!1,basename:A,unstable_onError:r}),[e,C,A,r]);return x.createElement(x.Fragment,null,x.createElement(Qo.Provider,{value:I},x.createElement(sd.Provider,{value:a},x.createElement(x2.Provider,{value:k.current},x.createElement(Ly.Provider,{value:d},x.createElement(O_,{basename:A,location:a.location,navigationType:a.historyAction,navigator:C},x.createElement(D_,{routes:e.routes,future:e.future,state:a,unstable_onError:r})))))),null)}var D_=x.memo(M_);function M_({routes:e,future:t,state:r,unstable_onError:a}){return g_(e,void 0,r,a,t)}function yk({to:e,replace:t,state:r,relative:a}){_t(hc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(as);Fr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(ss),{pathname:c}=di(),d=Na(),f=pm(e,mm(l),c,a==="path"),m=JSON.stringify(f);return x.useEffect(()=>{d(JSON.parse(m),{replace:t,state:r,relative:a})},[d,m,a,t,r]),null}function Du(e){return p_(e.context)}function O_({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:o,static:l=!1}){_t(!hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=so(r));let{pathname:f="/",search:m="",hash:g="",state:p=null,key:v="default"}=r,b=x.useMemo(()=>{let j=Ua(f,c);return j==null?null:{location:{pathname:j,search:m,hash:g,state:p,key:v},navigationType:a}},[c,f,m,g,p,v,a]);return Fr(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(as.Provider,{value:d},x.createElement(gm.Provider,{children:t,value:b}))}var dh="get",fh="application/x-www-form-urlencoded";function xm(e){return e!=null&&typeof e.tagName=="string"}function P_(e){return xm(e)&&e.tagName.toLowerCase()==="button"}function L_(e){return xm(e)&&e.tagName.toLowerCase()==="form"}function z_(e){return xm(e)&&e.tagName.toLowerCase()==="input"}function F_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I_(e,t){return e.button===0&&(!t||t==="_self")&&!F_(e)}var Ff=null;function B_(){if(Ff===null)try{new FormData(document.createElement("form"),0),Ff=!1}catch{Ff=!0}return Ff}var $_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(e){return e!=null&&!$_.has(e)?(Fr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):e}function U_(e,t){let r,a,o,l,c;if(L_(e)){let d=e.getAttribute("action");a=d?Ua(d,t):null,r=e.getAttribute("method")||dh,o=b0(e.getAttribute("enctype"))||fh,l=new FormData(e)}else if(P_(e)||z_(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(a=f?Ua(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||dh,o=b0(e.getAttribute("formenctype"))||b0(d.getAttribute("enctype"))||fh,l=new FormData(d,e),!B_()){let{name:m,type:g,value:p}=e;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,p)}}else{if(xm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=dh,a=null,o=fh,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function H_(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Ua(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function q_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G_(e,t,r){let a=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await q_(l,r);return c.links?c.links():[]}return[]}));return W_(a.flat(1).filter(V_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bk(e,t,r,a,o,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,d=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{let g=a.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Y_(e,t,{includeHydrateFallback:r}={}){return K_(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function K_(e){return[...new Set(e)]}function X_(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function W_(e,t){let r=new Set;return new Set(t),e.reduce((a,o)=>{let l=JSON.stringify(X_(o));return r.has(l)||(r.add(l),a.push({key:l,link:o})),a},[])}function w2(){let e=x.useContext(Qo);return By(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q_(){let e=x.useContext(sd);return By(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $y=x.createContext(void 0);$y.displayName="FrameworkContext";function j2(){let e=x.useContext($y);return By(e,"You must render this element inside a <HydratedRouter> element"),e}function Z_(e,t){let r=x.useContext($y),[a,o]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:p}=t,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=S=>{S.forEach(C=>{c(C.isIntersecting)})},N=new IntersectionObserver(k,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),x.useEffect(()=>{if(a){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[a]);let b=()=>{o(!0)},j=()=>{o(!1),c(!1)};return r?e!=="intent"?[l,v,{}]:[l,v,{onFocus:bu(d,b),onBlur:bu(f,j),onMouseEnter:bu(m,b),onMouseLeave:bu(g,j),onTouchStart:bu(p,b)}]:[!1,v,{}]}function bu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function J_({page:e,...t}){let{router:r}=w2(),a=x.useMemo(()=>Ui(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?x.createElement(tD,{page:e,matches:a,...t}):null}function eD(e){let{manifest:t,routeModules:r}=j2(),[a,o]=x.useState([]);return x.useEffect(()=>{let l=!1;return G_(e,t,r).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,r]),a}function tD({page:e,matches:t,...r}){let a=di(),{manifest:o,routeModules:l}=j2(),{basename:c}=w2(),{loaderData:d,matches:f}=Q_(),m=x.useMemo(()=>bk(e,t,f,o,a,"data"),[e,t,f,o,a]),g=x.useMemo(()=>bk(e,t,f,o,a,"assets"),[e,t,f,o,a]),p=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,k=!1;if(t.forEach(S=>{let C=o.routes[S.route.id];!C||!C.hasLoader||(!m.some(A=>A.route.id===S.route.id)&&S.route.id in d&&l[S.route.id]?.shouldRevalidate||C.hasClientLoader?k=!0:j.add(S.route.id))}),j.size===0)return[];let N=H_(e,c,"data");return k&&j.size>0&&N.searchParams.set("_routes",t.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[c,d,a,o,m,t,e,l]),v=x.useMemo(()=>Y_(g,o),[g,o]),b=eD(g);return x.createElement(x.Fragment,null,p.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),v.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:k})=>x.createElement("link",{key:j,nonce:r.nonce,...k})))}function rD(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k2&&(window.__reactRouterVersion="7.9.4")}catch{}function nD(e,t){return UR({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:oR({window:t?.window}),hydrationData:aD(),routes:e,mapRouteProperties:A_,hydrationRouteProperties:T_,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function aD(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:sD(e.errors)}),e}function sD(e){if(!e)return null;let t=Object.entries(e),r={};for(let[a,o]of t)if(o&&o.__type==="RouteErrorResponse")r[a]=new Ph(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",r[a]=c}catch{}}if(r[a]==null){let l=new Error(o.message);l.stack="",r[a]=l}}else r[a]=o;return r}var N2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=x.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:p,...v},b){let{basename:j}=x.useContext(as),k=typeof m=="string"&&N2.test(m),N,S=!1;if(typeof m=="string"&&k&&(N=m,k2))try{let Y=new URL(window.location.href),K=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),le=Ua(K.pathname,j);K.origin===Y.origin&&le!=null?m=le+K.search+K.hash:S=!0}catch{Fr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=f_(m,{relative:o}),[A,I,D]=Z_(a,v),T=lD(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:p});function B(Y){t&&t(Y),Y.defaultPrevented||T(Y)}let X=x.createElement("a",{...v,...D,href:N||C,onClick:S||l?t:B,ref:rD(b,I),target:f,"data-discover":!k&&r==="render"?"true":void 0});return A&&!k?x.createElement(x.Fragment,null,X,x.createElement(J_,{page:C})):X});Wi.displayName="Link";var Fo=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:f,...m},g){let p=id(c,{relative:m.relative}),v=di(),b=x.useContext(sd),{navigator:j,basename:k}=x.useContext(as),N=b!=null&&hD(p)&&d===!0,S=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,C=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(C=C.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&k&&(A=Ua(A,k)||A);const I=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=C===S||!o&&C.startsWith(S)&&C.charAt(I)==="/",T=A!=null&&(A===S||!o&&A.startsWith(S)&&A.charAt(S.length)==="/"),B={isActive:D,isPending:T,isTransitioning:N},X=D?t:void 0,Y;typeof a=="function"?Y=a(B):Y=[a,D?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(B):l;return x.createElement(Wi,{...m,"aria-current":X,className:Y,ref:g,style:K,to:c,viewTransition:d},typeof f=="function"?f(B):f)});Fo.displayName="NavLink";var iD=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:o,state:l,method:c=dh,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:p,...v},b)=>{let j=dD(),k=fD(d,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",S=typeof d=="string"&&N2.test(d),C=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let I=A.nativeEvent.submitter,D=I?.getAttribute("formmethod")||c;j(I||A.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:p})};return x.createElement("form",{ref:b,method:N,action:k,onSubmit:a?f:C,...v,"data-discover":!S&&e==="render"?"true":void 0})});iD.displayName="Form";function oD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(e){let t=x.useContext(Qo);return _t(t,oD(e)),t}function lD(e,{target:t,replace:r,state:a,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Na(),f=di(),m=id(e,{relative:l});return x.useCallback(g=>{if(I_(g,t)){g.preventDefault();let p=r!==void 0?r:Xi(f)===Xi(m);d(e,{replace:p,state:a,preventScrollReset:o,relative:l,viewTransition:c})}},[f,d,m,r,a,t,e,o,l,c])}var cD=0,uD=()=>`__${String(++cD)}__`;function dD(){let{router:e}=S2("useSubmit"),{basename:t}=x.useContext(as),r=S_();return x.useCallback(async(a,o={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=U_(a,t);if(o.navigate===!1){let g=o.fetcherKey||uD();await e.fetch(g,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function fD(e,{relative:t}={}){let{basename:r}=x.useContext(as),a=x.useContext(ss);_t(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...id(e||".",{relative:t})},c=di();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(p=>p).forEach(p=>d.append("index",p));let g=d.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:ks([r,l.pathname])),Xi(l)}function hD(e,{relative:t}={}){let r=x.useContext(Ly);_t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=S2("useViewTransitionState"),o=id(e,{relative:t});if(!r.isTransitioning)return!1;let l=Ua(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Ua(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Oh(o.pathname,c)!=null||Oh(o.pathname,l)!=null}var mc=t2();const mD=ao(mc);function pD(e){return x.createElement(__,{flushSync:mc.flushSync,...e})}const Ss=Object.create(null);Ss.open="0";Ss.close="1";Ss.ping="2";Ss.pong="3";Ss.message="4";Ss.upgrade="5";Ss.noop="6";const hh=Object.create(null);Object.keys(Ss).forEach(e=>{hh[Ss[e]]=e});const kx={type:"error",data:"parser error"},C2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",E2=typeof ArrayBuffer=="function",A2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Uy=({type:e,data:t},r,a)=>C2&&t instanceof Blob?r?a(t):vk(t,a):E2&&(t instanceof ArrayBuffer||A2(t))?r?a(t):vk(new Blob([t]),a):a(Ss[e]+(t||"")),vk=(e,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(e)};function wk(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let v0;function gD(e,t){if(C2&&e.data instanceof Blob)return e.data.arrayBuffer().then(wk).then(t);if(E2&&(e.data instanceof ArrayBuffer||A2(e.data)))return t(wk(e.data));Uy(e,!1,r=>{v0||(v0=new TextEncoder),t(v0.encode(r))})}const jk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<jk.length;e++)Mu[jk.charCodeAt(e)]=e;const xD=e=>{let t=e.length*.75,r=e.length,a,o=0,l,c,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),g=new Uint8Array(m);for(a=0;a<r;a+=4)l=Mu[e.charCodeAt(a)],c=Mu[e.charCodeAt(a+1)],d=Mu[e.charCodeAt(a+2)],f=Mu[e.charCodeAt(a+3)],g[o++]=l<<2|c>>4,g[o++]=(c&15)<<4|d>>2,g[o++]=(d&3)<<6|f&63;return m},yD=typeof ArrayBuffer=="function",Hy=(e,t)=>{if(typeof e!="string")return{type:"message",data:T2(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:bD(e.substring(1),t)}:hh[r]?e.length>1?{type:hh[r],data:e.substring(1)}:{type:hh[r]}:kx},bD=(e,t)=>{if(yD){const r=xD(e);return T2(r,t)}else return{base64:!0,data:e}},T2=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},R2="",vD=(e,t)=>{const r=e.length,a=new Array(r);let o=0;e.forEach((l,c)=>{Uy(l,!1,d=>{a[c]=d,++o===r&&t(a.join(R2))})})},wD=(e,t)=>{const r=e.split(R2),a=[];for(let o=0;o<r.length;o++){const l=Hy(r[o],t);if(a.push(l),l.type==="error")break}return a};function jD(){return new TransformStream({transform(e,t){gD(e,r=>{const a=r.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,a)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}let w0;function If(e){return e.reduce((t,r)=>t+r.length,0)}function Bf(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let o=0;o<t;o++)r[o]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function kD(e,t){w0||(w0=new TextDecoder);const r=[];let a=0,o=-1,l=!1;return new TransformStream({transform(c,d){for(r.push(c);;){if(a===0){if(If(r)<1)break;const f=Bf(r,1);l=(f[0]&128)===128,o=f[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(If(r)<2)break;const f=Bf(r,2);o=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),a=3}else if(a===2){if(If(r)<8)break;const f=Bf(r,8),m=new DataView(f.buffer,f.byteOffset,f.length),g=m.getUint32(0);if(g>Math.pow(2,21)-1){d.enqueue(kx);break}o=g*Math.pow(2,32)+m.getUint32(4),a=3}else{if(If(r)<o)break;const f=Bf(r,o);d.enqueue(Hy(l?f:w0.decode(f),t)),a=0}if(o===0||o>e){d.enqueue(kx);break}}}})}const _2=4;function Kr(e){if(e)return ND(e)}function ND(e){for(var t in Kr.prototype)e[t]=Kr.prototype[t];return e}Kr.prototype.on=Kr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Kr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Kr.prototype.off=Kr.prototype.removeListener=Kr.prototype.removeAllListeners=Kr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,o=0;o<r.length;o++)if(a=r[o],a===t||a.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Kr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,o=r.length;a<o;++a)r[a].apply(this,t)}return this};Kr.prototype.emitReserved=Kr.prototype.emit;Kr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Kr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ym=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),La=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),SD="arraybuffer";function D2(e,...t){return t.reduce((r,a)=>(e.hasOwnProperty(a)&&(r[a]=e[a]),r),{})}const CD=La.setTimeout,ED=La.clearTimeout;function bm(e,t){t.useNativeTimers?(e.setTimeoutFn=CD.bind(La),e.clearTimeoutFn=ED.bind(La)):(e.setTimeoutFn=La.setTimeout.bind(La),e.clearTimeoutFn=La.clearTimeout.bind(La))}const AD=1.33;function TD(e){return typeof e=="string"?RD(e):Math.ceil((e.byteLength||e.size)*AD)}function RD(e){let t=0,r=0;for(let a=0,o=e.length;a<o;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}function M2(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _D(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function DD(e){let t={},r=e.split("&");for(let a=0,o=r.length;a<o;a++){let l=r[a].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class MD extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class qy extends Kr{constructor(t){super(),this.writable=!1,bm(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new MD(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Hy(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=_D(t);return r.length?"?"+r:""}}class OD extends qy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};wD(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,vD(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=M2()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let O2=!1;try{O2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const PD=O2;function LD(){}class zD extends OD{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}let Kl=class mh extends Kr{constructor(t,r,a){super(),this.createRequest=t,bm(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const r=D2(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=mh.requestsCount++,mh.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=LD,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete mh.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Kl.requestsCount=0;Kl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",kk);else if(typeof addEventListener=="function"){const e="onpagehide"in La?"pagehide":"unload";addEventListener(e,kk,!1)}}function kk(){for(let e in Kl.requests)Kl.requests.hasOwnProperty(e)&&Kl.requests[e].abort()}const FD=(function(){const e=P2({xdomain:!1});return e&&e.responseType!==null})();class ID extends zD{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=FD&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Kl(P2,this.uri(),t)}}function P2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||PD))return new XMLHttpRequest}catch{}if(!t)try{return new La[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const L2=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BD extends qy{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,a=L2?{}:D2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],o=r===t.length-1;Uy(a,this.supportsBinary,l=>{try{this.doWrite(a,l)}catch{}o&&ym(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=M2()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const j0=La.WebSocket||La.MozWebSocket;class $D extends BD{createSocket(t,r,a){return L2?new j0(t,r,a):r?new j0(t,r):new j0(t)}doWrite(t,r){this.ws.send(r)}}class UD extends qy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=kD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),o=jD();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const l=()=>{a.read().then(({done:d,value:f})=>{d||(this.onPacket(f),l())}).catch(d=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],o=r===t.length-1;this._writer.write(a).then(()=>{o&&ym(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const HD={websocket:$D,webtransport:UD,polling:ID},qD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,VD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nx(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");r!=-1&&a!=-1&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let o=qD.exec(e||""),l={},c=14;for(;c--;)l[VD[c]]=o[c]||"";return r!=-1&&a!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=GD(l,l.path),l.queryKey=YD(l,l.query),l}function GD(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function YD(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,l){o&&(r[o]=l)}),r}const Sx=typeof addEventListener=="function"&&typeof removeEventListener=="function",ph=[];Sx&&addEventListener("offline",()=>{ph.forEach(e=>e())},!1);class Gi extends Kr{constructor(t,r){if(super(),this.binaryType=SD,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const a=Nx(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Nx(r.host).host);bm(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const o=a.prototype.name;this.transports.push(o),this._transportsByName[o]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=DD(this.opts.query)),Sx&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ph.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=_2,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Gi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Gi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const o=this.writeBuffer[a].data;if(o&&(r+=TD(o)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ym(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,o){if(typeof r=="function"&&(o=r,r=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const l={type:t,data:r,options:a};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(Gi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Sx&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=ph.indexOf(this._offlineEventListener);a!==-1&&ph.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Gi.protocol=_2;class KD extends Gi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;Gi.priorWebsocketSuccess=!1;const o=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!a)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Gi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(g(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=r.name,this.emitReserved("upgradeError",v)}}))};function l(){a||(a=!0,g(),r.close(),r=null)}const c=p=>{const v=new Error("probe error: "+p);v.transport=r.name,l(),this.emitReserved("upgradeError",v)};function d(){c("transport closed")}function f(){c("socket closed")}function m(p){r&&p.name!==r.name&&l()}const g=()=>{r.removeListener("open",o),r.removeListener("error",c),r.removeListener("close",d),this.off("close",f),this.off("upgrading",m)};r.once("open",o),r.once("error",c),r.once("close",d),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}}let XD=class extends KD{constructor(t,r={}){const a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(o=>HD[o]).filter(o=>!!o)),super(t,a)}};function WD(e,t="",r){let a=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),a=Nx(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const l=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+l+":"+a.port+t,a.href=a.protocol+"://"+l+(r&&r.port===a.port?"":":"+a.port),a}const QD=typeof ArrayBuffer=="function",ZD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,z2=Object.prototype.toString,JD=typeof Blob=="function"||typeof Blob<"u"&&z2.call(Blob)==="[object BlobConstructor]",eM=typeof File=="function"||typeof File<"u"&&z2.call(File)==="[object FileConstructor]";function Vy(e){return QD&&(e instanceof ArrayBuffer||ZD(e))||JD&&e instanceof Blob||eM&&e instanceof File}function gh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(gh(e[r]))return!0;return!1}if(Vy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return gh(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&gh(e[r]))return!0;return!1}function tM(e){const t=[],r=e.data,a=e;return a.data=Cx(r,t),a.attachments=t.length,{packet:a,buffers:t}}function Cx(e,t){if(!e)return e;if(Vy(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=Cx(e[a],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=Cx(e[a],t));return r}return e}function rM(e,t){return e.data=Ex(e.data,t),delete e.attachments,e}function Ex(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ex(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ex(e[r],t));return e}const nM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],aM=5;var Ut;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ut||(Ut={}));class sM{constructor(t){this.replacer=t}encode(t){return(t.type===Ut.EVENT||t.type===Ut.ACK)&&gh(t)?this.encodeAsBinary({type:t.type===Ut.EVENT?Ut.BINARY_EVENT:Ut.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ut.BINARY_EVENT||t.type===Ut.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=tM(t),a=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(a),o}}function Nk(e){return Object.prototype.toString.call(e)==="[object Object]"}class Gy extends Kr{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===Ut.BINARY_EVENT;a||r.type===Ut.BINARY_ACK?(r.type=a?Ut.EVENT:Ut.ACK,this.reconstructor=new iM(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Vy(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(Ut[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Ut.BINARY_EVENT||a.type===Ut.BINARY_ACK){const l=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(l,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(c)}if(t.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(l,r)}else a.nsp="/";const o=t.charAt(r+1);if(o!==""&&Number(o)==o){const l=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}a.id=Number(t.substring(l,r+1))}if(t.charAt(++r)){const l=this.tryParse(t.substr(r));if(Gy.isPayloadValid(a.type,l))a.data=l;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ut.CONNECT:return Nk(r);case Ut.DISCONNECT:return r===void 0;case Ut.CONNECT_ERROR:return typeof r=="string"||Nk(r);case Ut.EVENT:case Ut.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&nM.indexOf(r[0])===-1);case Ut.ACK:case Ut.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class iM{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=rM(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const oM=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gy,Encoder:sM,get PacketType(){return Ut},protocol:aM},Symbol.toStringTag,{value:"Module"}));function Qa(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const lM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class F2 extends Kr{constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Qa(t,"open",this.onopen.bind(this)),Qa(t,"packet",this.onpacket.bind(this)),Qa(t,"error",this.onerror.bind(this)),Qa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,o,l;if(lM.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:Ut.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const g=this.ids++,p=r.pop();this._registerAckCallback(g,p),c.id=g}const d=(o=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||o===void 0?void 0:o.writable,f=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!d||(f?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var a;const o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);r.call(this,new Error("operation has timed out"))},o),c=(...d)=>{this.io.clearTimeoutFn(l),r.apply(this,d)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((a,o)=>{const l=(c,d)=>c?o(c):a(d);l.withError=!0,r.push(l),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...l)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...l)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ut.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ut.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ut.EVENT:case Ut.BINARY_EVENT:this.onevent(t);break;case Ut.ACK:case Ut.BINARY_ACK:this.onack(t);break;case Ut.DISCONNECT:this.ondisconnect();break;case Ut.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let a=!1;return function(...o){a||(a=!0,r.packet({type:Ut.ACK,id:t,data:o}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ut.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function pc(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}pc.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};pc.prototype.reset=function(){this.attempts=0};pc.prototype.setMin=function(e){this.ms=e};pc.prototype.setMax=function(e){this.max=e};pc.prototype.setJitter=function(e){this.jitter=e};class Ax extends Kr{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,bm(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new pc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const o=r.parser||oM;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new XD(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const o=Qa(r,"open",function(){a.onopen(),t&&t()}),l=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},c=Qa(r,"error",l);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),r.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Qa(t,"ping",this.onping.bind(this)),Qa(t,"data",this.ondata.bind(this)),Qa(t,"error",this.onerror.bind(this)),Qa(t,"close",this.onclose.bind(this)),Qa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){ym(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new F2(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const vu={};function Xl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=WD(e,t.path||"/socket.io"),a=r.source,o=r.id,l=r.path,c=vu[o]&&l in vu[o].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let f;return d?f=new Ax(a,t):(vu[o]||(vu[o]=new Ax(a,t)),f=vu[o]),r.query&&!t.query&&(t.query=r.queryKey),f.socket(r.path,t)}Object.assign(Xl,{Manager:Ax,Socket:F2,io:Xl,connect:Xl});var k0={exports:{}},N0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function cM(){if(Sk)return N0;Sk=1;var e=ad();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return N0.useSyncExternalStoreWithSelector=function(f,m,g,p,v){var b=o(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=c(function(){function N(D){if(!S){if(S=!0,C=D,D=p(D),v!==void 0&&j.hasValue){var T=j.value;if(v(T,D))return A=T}return A=D}if(T=A,r(C,D))return T;var B=p(D);return v!==void 0&&v(T,B)?(C=D,T):(C=D,A=B)}var S=!1,C,A,I=g===void 0?null:g;return[function(){return N(m())},I===null?void 0:function(){return N(I())}]},[m,g,p,v]);var k=a(f,b[0],b[1]);return l(function(){j.hasValue=!0,j.value=k},[k]),d(k),k},N0}var Ck;function uM(){return Ck||(Ck=1,k0.exports=cM()),k0.exports}var dM=uM();function fM(e){e()}function hM(){let e=null,t=null;return{clear(){e=null,t=null},notify(){fM(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Ek={notify(){},get:()=>[]};function mM(e,t){let r,a=Ek,o=0,l=!1;function c(k){g();const N=a.subscribe(k);let S=!1;return()=>{S||(S=!0,N(),p())}}function d(){a.notify()}function f(){j.onStateChange&&j.onStateChange()}function m(){return l}function g(){o++,r||(r=e.subscribe(f),a=hM())}function p(){o--,r&&o===0&&(r(),r=void 0,a.clear(),a=Ek)}function v(){l||(l=!0,g())}function b(){l&&(l=!1,p())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>a};return j}var pM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gM=pM(),xM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yM=xM(),bM=()=>gM||yM?x.useLayoutEffect:x.useEffect,vM=bM(),wM=Symbol.for("react-redux-context"),jM=typeof globalThis<"u"?globalThis:{};function kM(){if(!x.createContext)return{};const e=jM[wM]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Qi=kM();function NM(e){const{children:t,context:r,serverState:a,store:o}=e,l=x.useMemo(()=>{const f=mM(o);return{store:o,subscription:f,getServerState:a?()=>a:void 0}},[o,a]),c=x.useMemo(()=>o.getState(),[o]);vM(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==o.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||Qi;return x.createElement(d.Provider,{value:l},t)}var SM=NM;function Yy(e=Qi){return function(){return x.useContext(e)}}var I2=Yy();function B2(e=Qi){const t=e===Qi?I2:Yy(e),r=()=>{const{store:a}=t();return a};return Object.assign(r,{withTypes:()=>r}),r}var CM=B2();function EM(e=Qi){const t=e===Qi?CM:B2(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var sa=EM(),AM=(e,t)=>e===t;function TM(e=Qi){const t=e===Qi?I2:Yy(e),r=(a,o={})=>{const{equalityFn:l=AM}=typeof o=="function"?{equalityFn:o}:o,c=t(),{store:d,subscription:f,getServerState:m}=c;x.useRef(!0);const g=x.useCallback({[a.name](v){return a(v)}}[a.name],[a]),p=dM.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,m||d.getState,g,l);return x.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var it=TM();const $2=x.createContext(null),RM="https://fyp-buddy.up.railway.app/",Ak=RM,_M=({children:e})=>{const{user:t}=it(f=>f.auth),r=x.useRef(null),[a,o]=x.useState(!1),[l,c]=x.useState(null);x.useEffect(()=>{if(!t?._id||!Ak){r.current&&(console.log("[GLOBAL SOCKET] Disconnecting - user logged out"),r.current.disconnect(),r.current=null,o(!1));return}const f=localStorage.getItem("accessToken");if(!f){r.current&&(r.current.disconnect(),r.current=null,o(!1));return}if(r.current?.connected){console.log("[GLOBAL SOCKET] Socket already connected");return}console.log("[GLOBAL SOCKET] Creating new socket connection");const m=Xl(Ak,{auth:{token:f},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return m.on("connect",()=>{console.log("[GLOBAL SOCKET] Connected"),o(!0),c(null)}),m.on("disconnect",g=>{console.log("[GLOBAL SOCKET] Disconnected:",g),o(!1),g==="io server disconnect"&&m.connect()}),m.on("reconnect",g=>{console.log("[GLOBAL SOCKET] Reconnected after",g,"attempts"),o(!0),c(null)}),m.on("reconnect_error",g=>{console.error("[GLOBAL SOCKET] Reconnection error:",g),c("Reconnecting...")}),m.on("reconnect_failed",()=>{console.error("[GLOBAL SOCKET] Reconnection failed"),c("Unable to reconnect. Please refresh the page.")}),m.on("connect_error",g=>{console.error("[GLOBAL SOCKET] Connection error:",g),c(g.message||"Unable to connect"),o(!1)}),r.current=m,()=>{console.log("[GLOBAL SOCKET] Cleaning up socket connection"),r.current&&(r.current.disconnect(),r.current=null),o(!1)}},[t?._id]);const d={socket:r.current,isConnected:a,connectionError:l};return n.jsx($2.Provider,{value:d,children:e})},DM=()=>{const e=x.useContext($2);if(e===void 0)throw new Error("useSocket must be used within a SocketProvider");return e};function MM(e,t){const r=x.createContext(t),a=l=>{const{children:c,...d}=l,f=x.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:f,children:c})};a.displayName=e+"Provider";function o(l){const c=x.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,o]}function is(e,t=[]){let r=[];function a(l,c){const d=x.createContext(c),f=r.length;r=[...r,c];const m=p=>{const{scope:v,children:b,...j}=p,k=v?.[e]?.[f]||d,N=x.useMemo(()=>j,Object.values(j));return n.jsx(k.Provider,{value:N,children:b})};m.displayName=l+"Provider";function g(p,v){const b=v?.[e]?.[f]||d,j=x.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[m,g]}const o=()=>{const l=r.map(c=>x.createContext(c));return function(d){const f=d?.[e]||l;return x.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[a,OM(o,...t)]}function OM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=a.reduce((d,{useScope:f,scopeName:m})=>{const p=f(l)[`__scope${m}`];return{...d,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function ts(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}var nn=globalThis?.document?x.useLayoutEffect:()=>{};function Tk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function si(...e){return t=>{let r=!1;const a=e.map(o=>{const l=Tk(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():Tk(e[o],null)}}}}function Jt(...e){return x.useCallback(si(...e),e)}function Zi(e){const t=PM(e),r=x.forwardRef((a,o)=>{const{children:l,...c}=a,d=x.Children.toArray(l),f=d.find(zM);if(f){const m=f.props.children,g=d.map(p=>p===f?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:p);return n.jsx(t,{...c,ref:o,children:x.isValidElement(m)?x.cloneElement(m,void 0,g):null})}return n.jsx(t,{...c,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}var U2=Zi("Slot");function PM(e){const t=x.forwardRef((r,a)=>{const{children:o,...l}=r;if(x.isValidElement(o)){const c=IM(o),d=FM(l,o.props);return o.type!==x.Fragment&&(d.ref=a?si(a,c):c),x.cloneElement(o,d)}return x.Children.count(o)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H2=Symbol("radix.slottable");function LM(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=H2,t}function zM(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H2}function FM(e,t){const r={...t};for(const a in t){const o=e[a],l=t[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function IM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ut=BM.reduce((e,t)=>{const r=Zi(`Primitive.${t}`),a=x.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function q2(e,t){e&&mc.flushSync(()=>e.dispatchEvent(t))}var S0={exports:{}},C0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function $M(){if(Rk)return C0;Rk=1;var e=ad();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,o=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(p,v){var b=v(),j=a({inst:{value:b,getSnapshot:v}}),k=j[0].inst,N=j[1];return l(function(){k.value=b,k.getSnapshot=v,f(k)&&N({inst:k})},[p,b,v]),o(function(){return f(k)&&N({inst:k}),p(function(){f(k)&&N({inst:k})})},[p]),c(b),b}function f(p){var v=p.getSnapshot;p=p.value;try{var b=v();return!r(p,b)}catch{return!0}}function m(p,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return C0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,C0}var _k;function UM(){return _k||(_k=1,S0.exports=$M()),S0.exports}var HM=UM();function qM(){return HM.useSyncExternalStore(VM,()=>!0,()=>!1)}function VM(){return()=>{}}var Ky="Avatar",[GM]=is(Ky),[YM,V2]=GM(Ky),G2=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[o,l]=x.useState("idle");return n.jsx(YM,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:n.jsx(ut.span,{...a,ref:t})})});G2.displayName=Ky;var Y2="AvatarImage",K2=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:o=()=>{},...l}=e,c=V2(Y2,r),d=KM(a,l),f=ts(m=>{o(m),c.onImageLoadingStatusChange(m)});return nn(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?n.jsx(ut.img,{...l,ref:t,src:a}):null});K2.displayName=Y2;var X2="AvatarFallback",W2=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...o}=e,l=V2(X2,r),[c,d]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const f=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(f)}},[a]),c&&l.imageLoadingStatus!=="loaded"?n.jsx(ut.span,{...o,ref:t}):null});W2.displayName=X2;function Dk(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function KM(e,{referrerPolicy:t,crossOrigin:r}){const a=qM(),o=x.useRef(null),l=a?(o.current||(o.current=new window.Image),o.current):null,[c,d]=x.useState(()=>Dk(l,e));return nn(()=>{d(Dk(l,e))},[l,e]),nn(()=>{const f=p=>()=>{d(p)};if(!l)return;const m=f("loaded"),g=f("error");return l.addEventListener("load",m),l.addEventListener("error",g),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",g)}},[l,r,t]),c}var XM=G2,WM=K2,QM=W2;function Q2(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Q2(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Z2(){for(var e,t,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Q2(e))&&(a&&(a+=" "),a+=t);return a}const Xy="-",ZM=e=>{const t=eO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{const d=c.split(Xy);return d[0]===""&&d.length!==1&&d.shift(),J2(d,t)||JM(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&a[c]?[...f,...a[c]]:f}}},J2=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),o=a?J2(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(Xy);return t.validators.find(({validator:c})=>c(l))?.classGroupId},Mk=/^\[(.+)\]$/,JM=e=>{if(Mk.test(e)){const t=Mk.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},eO=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const o in r)Tx(r[o],a,o,t);return a},Tx=(e,t,r,a)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:Ok(t,o);l.classGroupId=r;return}if(typeof o=="function"){if(tO(o)){Tx(o(a),t,r,a);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{Tx(c,Ok(t,l),r,a)})})},Ok=(e,t)=>{let r=e;return t.split(Xy).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},tO=e=>e.isThemeGetter,rO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const o=(l,c)=>{r.set(l,c),t++,t>e&&(t=0,a=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=a.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},Rx="!",_x=":",nO=_x.length,aO=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=o=>{const l=[];let c=0,d=0,f=0,m;for(let j=0;j<o.length;j++){let k=o[j];if(c===0&&d===0){if(k===_x){l.push(o.slice(f,j)),f=j+nO;continue}if(k==="/"){m=j;continue}}k==="["?c++:k==="]"?c--:k==="("?d++:k===")"&&d--}const g=l.length===0?o:o.substring(f),p=sO(g),v=p!==g,b=m&&m>f?m-f:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:b}};if(t){const o=t+_x,l=a;a=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const o=a;a=l=>r({className:l,parseClassName:o})}return a},sO=e=>e.endsWith(Rx)?e.substring(0,e.length-1):e.startsWith(Rx)?e.substring(1):e,iO=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let l=[];return a.forEach(c=>{c[0]==="["||t[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},oO=e=>({cache:rO(e.cacheSize),parseClassName:aO(e),sortModifiers:iO(e),...ZM(e)}),lO=/\s+/,cO=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:l}=t,c=[],d=e.trim().split(lO);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:p,modifiers:v,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:k}=r(g);if(p){f=g+(f.length>0?" "+f:f);continue}let N=!!k,S=a(N?j.substring(0,k):j);if(!S){if(!N){f=g+(f.length>0?" "+f:f);continue}if(S=a(j),!S){f=g+(f.length>0?" "+f:f);continue}N=!1}const C=l(v).join(":"),A=b?C+Rx:C,I=A+S;if(c.includes(I))continue;c.push(I);const D=o(S,N);for(let T=0;T<D.length;++T){const B=D[T];c.push(A+B)}f=g+(f.length>0?" "+f:f)}return f};function uO(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=eC(t))&&(a&&(a+=" "),a+=r);return a}const eC=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=eC(e[a]))&&(r&&(r+=" "),r+=t);return r};function dO(e,...t){let r,a,o,l=c;function c(f){const m=t.reduce((g,p)=>p(g),e());return r=oO(m),a=r.cache.get,o=r.cache.set,l=d,d(f)}function d(f){const m=a(f);if(m)return m;const g=cO(f,r);return o(f,g),g}return function(){return l(uO.apply(null,arguments))}}const en=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fO=/^\d+\/\d+$/,hO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=e=>fO.test(e),Rt=e=>!!e&&!Number.isNaN(Number(e)),Fi=e=>!!e&&Number.isInteger(Number(e)),E0=e=>e.endsWith("%")&&Rt(e.slice(0,-1)),Qs=e=>hO.test(e),yO=()=>!0,bO=e=>mO.test(e)&&!pO.test(e),nC=()=>!1,vO=e=>gO.test(e),wO=e=>xO.test(e),jO=e=>!Ze(e)&&!Je(e),kO=e=>gc(e,iC,nC),Ze=e=>tC.test(e),Ro=e=>gc(e,oC,bO),A0=e=>gc(e,AO,Rt),Pk=e=>gc(e,aC,nC),NO=e=>gc(e,sC,wO),$f=e=>gc(e,lC,vO),Je=e=>rC.test(e),wu=e=>xc(e,oC),SO=e=>xc(e,TO),Lk=e=>xc(e,aC),CO=e=>xc(e,iC),EO=e=>xc(e,sC),Uf=e=>xc(e,lC,!0),gc=(e,t,r)=>{const a=tC.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},xc=(e,t,r=!1)=>{const a=rC.exec(e);return a?a[1]?t(a[1]):r:!1},aC=e=>e==="position"||e==="percentage",sC=e=>e==="image"||e==="url",iC=e=>e==="length"||e==="size"||e==="bg-size",oC=e=>e==="length",AO=e=>e==="number",TO=e=>e==="family-name",lC=e=>e==="shadow",RO=()=>{const e=en("color"),t=en("font"),r=en("text"),a=en("font-weight"),o=en("tracking"),l=en("leading"),c=en("breakpoint"),d=en("container"),f=en("spacing"),m=en("radius"),g=en("shadow"),p=en("inset-shadow"),v=en("text-shadow"),b=en("drop-shadow"),j=en("blur"),k=en("perspective"),N=en("aspect"),S=en("ease"),C=en("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...I(),Je,Ze],T=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],X=()=>[Je,Ze,f],Y=()=>[Dl,"full","auto",...X()],K=()=>[Fi,"none","subgrid",Je,Ze],le=()=>["auto",{span:["full",Fi,Je,Ze]},Fi,Je,Ze],L=()=>[Fi,"auto",Je,Ze],W=()=>["auto","min","max","fr",Je,Ze],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...X()],G=()=>[Dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...X()],F=()=>[e,Je,Ze],V=()=>[...I(),Lk,Pk,{position:[Je,Ze]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",CO,kO,{size:[Je,Ze]}],$=()=>[E0,wu,Ro],z=()=>["","none","full",m,Je,Ze],ue=()=>["",Rt,wu,Ro],ve=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Rt,E0,Lk,Pk],Me=()=>["","none",j,Je,Ze],Ne=()=>["none",Rt,Je,Ze],Ce=()=>["none",Rt,Je,Ze],Ee=()=>[Rt,Je,Ze],Re=()=>[Dl,"full",...X()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[yO],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[jO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",Rt],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dl,Ze,Je,N]}],container:["container"],columns:[{columns:[Rt,Ze,Je,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[Fi,"auto",Je,Ze]}],basis:[{basis:[Dl,"full","auto",d,...X()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Rt,Dl,"auto","initial","none",Ze]}],grow:[{grow:["",Rt,Je,Ze]}],shrink:[{shrink:["",Rt,Je,Ze]}],order:[{order:[Fi,"first","last","none",Je,Ze]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:le()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:le()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:X()}],px:[{px:X()}],py:[{py:X()}],ps:[{ps:X()}],pe:[{pe:X()}],pt:[{pt:X()}],pr:[{pr:X()}],pb:[{pb:X()}],pl:[{pl:X()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":X()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":X()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[d,"screen",...G()]}],"min-w":[{"min-w":[d,"screen","none",...G()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",r,wu,Ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Je,A0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",E0,Ze]}],"font-family":[{font:[SO,Ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Je,Ze]}],"line-clamp":[{"line-clamp":[Rt,"none",Je,A0]}],leading:[{leading:[l,...X()]}],"list-image":[{"list-image":["none",Je,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Rt,"from-font","auto",Je,Ro]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Rt,"auto",Je,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fi,Je,Ze],radial:["",Je,Ze],conic:[Fi,Je,Ze]},EO,NO]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Rt,Je,Ze]}],"outline-w":[{outline:["",Rt,wu,Ro]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",g,Uf,$f]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",p,Uf,$f]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Rt,Ro]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",v,Uf,$f]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Rt,Je,Ze]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Je,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ze]}],filter:[{filter:["","none",Je,Ze]}],blur:[{blur:Me()}],brightness:[{brightness:[Rt,Je,Ze]}],contrast:[{contrast:[Rt,Je,Ze]}],"drop-shadow":[{"drop-shadow":["","none",b,Uf,$f]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Rt,Je,Ze]}],"hue-rotate":[{"hue-rotate":[Rt,Je,Ze]}],invert:[{invert:["",Rt,Je,Ze]}],saturate:[{saturate:[Rt,Je,Ze]}],sepia:[{sepia:["",Rt,Je,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ze]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Rt,Je,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[Rt,Je,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Rt,Je,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Rt,Je,Ze]}],"backdrop-invert":[{"backdrop-invert":["",Rt,Je,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[Rt,Je,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[Rt,Je,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Rt,Je,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":X()}],"border-spacing-x":[{"border-spacing-x":X()}],"border-spacing-y":[{"border-spacing-y":X()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Rt,"initial",Je,Ze]}],ease:[{ease:["linear","initial",S,Je,Ze]}],delay:[{delay:[Rt,Je,Ze]}],animate:[{animate:["none",C,Je,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Je,Ze]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[Je,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ze]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Rt,wu,Ro,A0]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_O=dO(RO);function ot(...e){return _O(Z2(e))}function tr({className:e,...t}){return n.jsx(XM,{"data-slot":"avatar",className:ot("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Rr({className:e,...t}){return n.jsx(WM,{"data-slot":"avatar-image",className:ot("aspect-square size-full",e),...t})}function wn({className:e,...t}){return n.jsx(QM,{"data-slot":"avatar-fallback",className:ot("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),zk=e=>{const t=MO(e);return t.charAt(0).toUpperCase()+t.slice(1)},cC=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),OO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d},f)=>x.createElement("svg",{ref:f,...PO,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:cC("lucide",o),...!l&&!OO(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>x.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=x.forwardRef(({className:a,...o},l)=>x.createElement(LO,{ref:l,iconNode:t,className:cC(`lucide-${DO(zk(e))}`,`lucide-${e}`,a),...o}));return r.displayName=zk(e),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xh=Ue("arrow-left",zO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dx=Ue("arrow-right",FO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],BO=Ue("arrow-up",IO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vm=Ue("award",$O);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ja=Ue("book-open",UO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Wy=Ue("bot",HO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qy=Ue("briefcase",qO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],On=Ue("calendar",VO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],uC=Ue("camera",GO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],KO=Ue("chart-column",YO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zo=Ue("check",XO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dC=Ue("chevron-down",WO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ZO=Ue("chevron-up",QO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],eP=Ue("chevrons-up-down",JO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bo=Ue("circle-alert",tP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ji=Ue("circle-check",rP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ku=Ue("circle-x",nP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fC=Ue("clipboard-check",aP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fa=Ue("clock",sP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],yh=Ue("cloud-upload",iP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zh=Ue("crown",oP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fh=Ue("download",lP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fk=Ue("ellipsis-vertical",cP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yi=Ue("eye-off",uP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ba=Ue("eye",dP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],hP=Ue("facebook",fP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],qi=Ue("file-check",mP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hn=Ue("file-text",pP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Mx=Ue("file",gP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],hC=Ue("folder-open",xP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],bP=Ue("github",yP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mC=Ue("globe",vP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],fn=Ue("graduation-cap",wP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kP=Ue("image",jP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],SP=Ue("instagram",NP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bs=Ue("layout-dashboard",CP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],AP=Ue("lightbulb",EP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],RP=Ue("linkedin",TP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ox=Ue("list",_P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wt=Ue("loader-circle",DP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vl=Ue("log-out",MP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sc=Ue("lock",OP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],Ik=Ue("mail-plus",PP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ba=Ue("mail",LP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],FP=Ue("map-pin",zP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],BP=Ue("maximize-2",IP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],eo=Ue("megaphone",$P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pC=Ue("menu",UP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ni=Ue("message-circle",HP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wm=Ue("message-square",qP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Gl=Ue("mic-off",VP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Po=Ue("mic",GP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],T0=Ue("minimize-2",YP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gC=Ue("pen",KP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xC=Ue("pencil",XP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],QP=Ue("phone-off",WP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ii=Ue("phone",ZP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jm=Ue("plus",JP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yC=Ue("refresh-cw",eL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rL=Ue("save",tL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ki=Ue("search",nL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bC=Ue("send",aL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vC=Ue("settings",sL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],oL=Ue("shield-alert",iL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bk=Ue("shield-check",lL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],km=Ue("shield",cL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],dL=Ue("sparkles",uL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hL=Ue("square-pen",fL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pL=Ue("target",mL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ia=Ue("trash-2",gL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Px=Ue("trending-up",xL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bL=Ue("triangle-alert",yL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wC=Ue("trophy",vL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ic=Ue("upload",wL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zy=Ue("user-cog",jL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bh=Ue("user-plus",kL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],SL=Ue("user-round",NL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rn=Ue("users",CL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rn=Ue("user",EL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$k=Ue("video-off",AL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],oc=Ue("video",TL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tn=Ue("x",RL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],DL=Ue("zap",_L),Ir="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQECWAJYAAD/2wCEAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDIBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/CABEIAMgAyAMBIgACEQEDEQH/xAAvAAEAAgMBAQAAAAAAAAAAAAAABQYCBAcDAQEBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAADv4AABiZIODLw5ppnVcuTZHV3NJMvCDmjIAAAAABhSCcqGmAAAAG5pi9z3Jp8vTDMAAAYZ0U1okAAB6Hm3dY8wAAS3QOUz5egADEg6JuaYAA9fO9s1Zv6S+fTIOpdJjVUN9+KAAvc9zLpZkBCTdHK8AACbudesKQSABS4W21JYNAX2hWEvAHM+mcoMQAAWyxUe8JBIAFdqctErBoDd0sjq4MeUdZ5QYgAAXak5M6YrM+n3PA94bSrLcQoAAZHVWQc06XRyvAAAMpwgV7kGc48+nYM5ovcE2BZYtAAb2jYS8AQk3icobmmANz5fWeG6JBgAGlSuheKubtvUUAvtO6WZAAgaJ1mikATJZZAQDAAAAI+g9OpSoYn1Tk8AADDMc8nbHrsBAAAAACEm/jaR0BmsAAAADz8dozUe+CfN9+AMPubfP77ejfP0FAAAAAAAAAAAAAAAAf/EADwQAAIBAgIECgkDBAMBAAAAAAECAwQRAAUGITFBEhMgIjBCUWFxwRAUMlKBkaGx0SMk8EBicuEVU4KS/9oACAEBAAE/AOjvbHDX3h88Xv8A0bOqKWYgKNpJsBis0py+lusbNUON0ez57MVGl9bLcQRRQjcTzj9dWJs4zKe/GVs2vcrcEfTDSyObvI7H+5icfHCyyIbpI6n+1iMQ5xmUFuLrZrDczcIfXFNpfWxECeKKYbyBwT9NWKLSnL6qyyM1O53S7Pnswjq6hlIKnYQbg9Nmmk9NRExQATzjUbHmr4nyGK7NKzMXvUTFl3INSj4dFQ5pWZc96eYhd6HWp+GMq0npq4rFOBBOdQuea3gfI9HLNHBE0srhI1F2YmwAxnOkktcWgpS0VNsLbGf8Du6bJdJJaErBVFpafYG2sn5HdiGaOeJZYnDxsLqym4I6CWaOCJpZWCRoLsx2AYzrO5c0m4C3SlQ8xPe7z/NX9Bkmdy5XNwGu9Kx56e73j+a8QzRzxLLEweNhdWGwjl6SZya2c0kDft4zziOuw8h0ENPNUG0MMkn+Ck4/4jMbX9Sn/wDnEtPNAbTQyR/5qR0GjWcminFJO37eQ6ieo34PK0nzX1KiFPE1p5wRcdVd58uXT081XOsMCF5G2AfzVjLtGqamUPVWnl7D7A+G/wCOFUIoVQFUbABYehlDqVYBlO0EXGMw0apqkF6W1PL2D2D8N3wxUU81JO0M6FJF2g/fw5ejGa+u0Rp5WvPAALnrLuPlyGZUUsxsoFyTuGMzrmzHMJag+yTZB2KNn87+UqlmCqCWJsAN5xk+VpltLYgGdxeRvIdw5WcZWmZUpAAE6a428j3HDAqxVgQymxB3HlZXXNl2YRVAvwQbOO1Tt/ndhGV1DKbqRcEbx6dKaz1XKGjU2ec8WPDf9Pvy9GKQT5kZmF1gXhC/vHUPPoNJqQQZkJlFlnXhH/Iaj5cvRas9ayhY2N3gPFnw2j6fb06X1PG5nHADzYY7nxOv7W5eiSAUVQ+9pQPkP99BpagNFTyb1lI+Y/1y9EKniszkgJ5s0erxGv7X9OcTesZxVyXv+qQPAavLl6IyA0lTFvWQN8CP9dBpbIBS00V9bSFvkP8AfLyeb1fOaSS9v1QD4HV5+jYMSMXmkc9ZifmeXo7WCkzRVc2jmHFnuO76/foNIawVeZsqG8cI4sd53/X7cuJik0bDqsD9cDZh/YbwPQ5FnC18AglYCpjGu/XHb+eVnucLQQGCJgalxqt1B2/joBtwnsL4DG7EilJZFPVYj5HoEdo5FdGKupuGBsQcZdpQOCI69Df/ALUG3xH4xBW01Ut4J45P8WF/ljX2HE9bTUoJnnjjt7zC/wAsZhpQOCY6BDf/ALXGzwH5w7vI7O7FnY3LE3JPQRKXmRR1mA+ZwBYejOIfV84q47WHGkjwOvz6Iazq1nuxefg7Zrf+sbDr1Hv6LJ4ePzmkjtf9UE+A1+Xp0vpuKzOOcDmzR2J711fa3LRGkcIilmJsFUXJxRaL1MwD1UggQ9Ua2/AxT5BltOB+gJWHWlPC+mzEcMUQtHGiD+1QMfHDwxSi0kaOOxlBxUZBltQD+hxTHrRHg/TZis0XqIQXpXE6e6dTfg4dGjco6lWXUVYWI5eiFNxuZyTkc2GPV4nV9r+nSmj9ayhpFF3gPGDw2H6fblZdls+ZT8XELKvtyHYo/PdjL8rpstjtCt5COdI3tH8Du6DMMrpsyjtMtpAObIvtD8juxmOWz5bPxcwup9iQbGH57uVotRmlyhZGFnnPGHw2D6ff0squpVhdSLEHeMZpQtl2Yy0xvwQboe1Ts5GXZfLmVWsEeobXe2pR24pKWGip1ggXgovzJ7T39FVUsNbTtBOvCRvmD2jvxmOXy5bVNDJrG1H3MO3kZXQtmOYRU4vwSbuexRt/nfhEVFCqLKBYAbhyNJ8q9dohURLeeAE2HWXePP0gEmwBJOoAb8ZPly5bQhCBxz86Q9/Z8OkzjLlzKhaMAccnOjPf2fHBBBIIII1EHd6dGMqNFRGolW084Bsequ4efK0kyY0U5q4F/byHWB1G/B9GjdGKrM+NcXjgHD/9bvz8Om0kohS5kZVFknHD8G3/AJ+Po0ayY104q51/bxnmg9dvwOXLDHPE0Uqh43FmU7CMZ1kkuVzcNLvTOeY/u9x/mvGjFNxOVGUjnTOW+A1Dz6bSen47KhKBzoXDfA6j5YyTJJc0m4b3SlQ89/e7h/NWIYY4IliiUJGosqjYB0EsMc8TRSoHjYWZSNRGEplpoUiiW0aKFUdg6aSlSrgeKYfpOOCw7RiGGOCJYokCRqLKoFgB0bxA6xqOGUrtHRKpbYMJEBrOs9MRfBhU92DC26xwVYdU8gKx2KcCFjtsMLEo26zgC39Jbpf/xAAUEQEAAAAAAAAAAAAAAAAAAABw/9oACAECAQE/ACn/xAAcEQEAAgMAAwAAAAAAAAAAAAABESAAEDASQFD/2gAIAQMBAT8A+Wux5NDi0OKZGg5znlk8VqPYbNy8ZG4wPS//2Q==";let ML={data:""},OL=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ML},PL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LL=/\/\*[^]*?\*\/|  +/g,Uk=/\n+/g,Vi=(e,t)=>{let r="",a="",o="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+c+";":a+=l[1]=="f"?Vi(c,l):l+"{"+Vi(c,l[1]=="k"?"":t)+"}":typeof c=="object"?a+=Vi(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Vi.p?Vi.p(l,c):l+":"+c+";")}return r+(t&&o?t+"{"+o+"}":o)+a},Zs={},jC=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+jC(e[r]);return t}return e},zL=(e,t,r,a,o)=>{let l=jC(e),c=Zs[l]||(Zs[l]=(f=>{let m=0,g=11;for(;m<f.length;)g=101*g+f.charCodeAt(m++)>>>0;return"go"+g})(l));if(!Zs[c]){let f=l!==e?e:(m=>{let g,p,v=[{}];for(;g=PL.exec(m.replace(LL,""));)g[4]?v.shift():g[3]?(p=g[3].replace(Uk," ").trim(),v.unshift(v[0][p]=v[0][p]||{})):v[0][g[1]]=g[2].replace(Uk," ").trim();return v[0]})(e);Zs[c]=Vi(o?{["@keyframes "+c]:f}:f,r?"":"."+c)}let d=r&&Zs.g?Zs.g:null;return r&&(Zs.g=Zs[c]),((f,m,g,p)=>{p?m.data=m.data.replace(p,f):m.data.indexOf(f)===-1&&(m.data=g?f+m.data:m.data+f)})(Zs[c],t,a,d),c},FL=(e,t,r)=>e.reduce((a,o,l)=>{let c=t[l];if(c&&c.call){let d=c(r),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=f?"."+f:d&&typeof d=="object"?d.props?"":Vi(d,""):d===!1?"":d}return a+o+(c??"")},"");function Nm(e){let t=this||{},r=e.call?e(t.p):e;return zL(r.unshift?r.raw?FL(r,[].slice.call(arguments,1),t.p):r.reduce((a,o)=>Object.assign(a,o&&o.call?o(t.p):o),{}):r,OL(t.target),t.g,t.o,t.k)}let kC,Lx,zx;Nm.bind({g:1});let oi=Nm.bind({k:1});function IL(e,t,r,a){Vi.p=t,kC=e,Lx=r,zx=a}function io(e,t){let r=this||{};return function(){let a=arguments;function o(l,c){let d=Object.assign({},l),f=d.className||o.className;r.p=Object.assign({theme:Lx&&Lx()},d),r.o=/ *go\d+/.test(f),d.className=Nm.apply(r,a)+(f?" "+f:"");let m=e;return e[0]&&(m=d.as||e,delete d.as),zx&&m[0]&&zx(d),kC(m,d)}return o}}var BL=e=>typeof e=="function",Ih=(e,t)=>BL(e)?e(t):e,$L=(()=>{let e=0;return()=>(++e).toString()})(),NC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),UL=20,Jy="default",SC=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:a}=t;return SC(e,{type:e.toasts.find(c=>c.id===a.id)?1:0,toast:a});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},vh=[],CC={toasts:[],pausedAt:void 0,settings:{toastLimit:UL}},ws={},EC=(e,t=Jy)=>{ws[t]=SC(ws[t]||CC,e),vh.forEach(([r,a])=>{r===t&&a(ws[t])})},AC=e=>Object.keys(ws).forEach(t=>EC(e,t)),HL=e=>Object.keys(ws).find(t=>ws[t].toasts.some(r=>r.id===e)),Sm=(e=Jy)=>t=>{EC(t,e)},qL={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VL=(e={},t=Jy)=>{let[r,a]=x.useState(ws[t]||CC),o=x.useRef(ws[t]);x.useEffect(()=>(o.current!==ws[t]&&a(ws[t]),vh.push([t,a]),()=>{let c=vh.findIndex(([d])=>d===t);c>-1&&vh.splice(c,1)}),[t]);let l=r.toasts.map(c=>{var d,f,m;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((d=e[c.type])==null?void 0:d.removeDelay)||e?.removeDelay,duration:c.duration||((f=e[c.type])==null?void 0:f.duration)||e?.duration||qL[c.type],style:{...e.style,...(m=e[c.type])==null?void 0:m.style,...c.style}}});return{...r,toasts:l}},GL=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||$L()}),od=e=>(t,r)=>{let a=GL(t,e,r);return Sm(a.toasterId||HL(a.id))({type:2,toast:a}),a.id},Wt=(e,t)=>od("blank")(e,t);Wt.error=od("error");Wt.success=od("success");Wt.loading=od("loading");Wt.custom=od("custom");Wt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Sm(t)(r):AC(r)};Wt.dismissAll=e=>Wt.dismiss(void 0,e);Wt.remove=(e,t)=>{let r={type:4,toastId:e};t?Sm(t)(r):AC(r)};Wt.removeAll=e=>Wt.remove(void 0,e);Wt.promise=(e,t,r)=>{let a=Wt.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let l=t.success?Ih(t.success,o):void 0;return l?Wt.success(l,{id:a,...r,...r?.success}):Wt.dismiss(a),o}).catch(o=>{let l=t.error?Ih(t.error,o):void 0;l?Wt.error(l,{id:a,...r,...r?.error}):Wt.dismiss(a)}),e};var YL=1e3,KL=(e,t="default")=>{let{toasts:r,pausedAt:a}=VL(e,t),o=x.useRef(new Map).current,l=x.useCallback((p,v=YL)=>{if(o.has(p))return;let b=setTimeout(()=>{o.delete(p),c({type:4,toastId:p})},v);o.set(p,b)},[]);x.useEffect(()=>{if(a)return;let p=Date.now(),v=r.map(b=>{if(b.duration===1/0)return;let j=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(j<0){b.visible&&Wt.dismiss(b.id);return}return setTimeout(()=>Wt.dismiss(b.id,t),j)});return()=>{v.forEach(b=>b&&clearTimeout(b))}},[r,a,t]);let c=x.useCallback(Sm(t),[t]),d=x.useCallback(()=>{c({type:5,time:Date.now()})},[c]),f=x.useCallback((p,v)=>{c({type:1,toast:{id:p,height:v}})},[c]),m=x.useCallback(()=>{a&&c({type:6,time:Date.now()})},[a,c]),g=x.useCallback((p,v)=>{let{reverseOrder:b=!1,gutter:j=8,defaultPosition:k}=v||{},N=r.filter(A=>(A.position||k)===(p.position||k)&&A.height),S=N.findIndex(A=>A.id===p.id),C=N.filter((A,I)=>I<S&&A.visible).length;return N.filter(A=>A.visible).slice(...b?[C+1]:[0,C]).reduce((A,I)=>A+(I.height||0)+j,0)},[r]);return x.useEffect(()=>{r.forEach(p=>{if(p.dismissed)l(p.id,p.removeDelay);else{let v=o.get(p.id);v&&(clearTimeout(v),o.delete(p.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:f,startPause:d,endPause:m,calculateOffset:g}}},XL=oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WL=oi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QL=oi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZL=io("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JL=oi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,e7=io("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${JL} 1s linear infinite;
`,t7=oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,r7=oi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,n7=io("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${t7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${r7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,a7=io("div")`
  position: absolute;
`,s7=io("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,i7=oi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,o7=io("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${i7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,l7=({toast:e})=>{let{icon:t,type:r,iconTheme:a}=e;return t!==void 0?typeof t=="string"?x.createElement(o7,null,t):t:r==="blank"?null:x.createElement(s7,null,x.createElement(e7,{...a}),r!=="loading"&&x.createElement(a7,null,r==="error"?x.createElement(ZL,{...a}):x.createElement(n7,{...a})))},c7=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,u7=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,d7="0%{opacity:0;} 100%{opacity:1;}",f7="0%{opacity:1;} 100%{opacity:0;}",h7=io("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,m7=io("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,p7=(e,t)=>{let r=e.includes("top")?1:-1,[a,o]=NC()?[d7,f7]:[c7(r),u7(r)];return{animation:t?`${oi(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${oi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},g7=x.memo(({toast:e,position:t,style:r,children:a})=>{let o=e.height?p7(e.position||t||"top-center",e.visible):{opacity:0},l=x.createElement(l7,{toast:e}),c=x.createElement(m7,{...e.ariaProps},Ih(e.message,e));return x.createElement(h7,{className:e.className,style:{...o,...r,...e.style}},typeof a=="function"?a({icon:l,message:c}):x.createElement(x.Fragment,null,l,c))});IL(x.createElement);var x7=({id:e,className:t,style:r,onHeightUpdate:a,children:o})=>{let l=x.useCallback(c=>{if(c){let d=()=>{let f=c.getBoundingClientRect().height;a(e,f)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return x.createElement("div",{ref:l,className:t,style:r},o)},y7=(e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:NC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...a,...o}},b7=Nm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hf=16,v7=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:a,children:o,toasterId:l,containerStyle:c,containerClassName:d})=>{let{toasts:f,handlers:m}=KL(r,l);return x.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Hf,left:Hf,right:Hf,bottom:Hf,pointerEvents:"none",...c},className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(g=>{let p=g.position||t,v=m.calculateOffset(g,{reverseOrder:e,gutter:a,defaultPosition:t}),b=y7(p,v);return x.createElement(x7,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?b7:"",style:b},g.type==="custom"?Ih(g.message,g):o?o(g):x.createElement(g7,{toast:g,position:p}))}))},ee=Wt;const w7=()=>{const{socket:e,isConnected:t}=DM(),{user:r}=it(c=>c.auth),a=Na(),o=di(),l=pr.useRef(null);return x.useEffect(()=>{const c=new Audio("https://www.soundjay.com/phone/sounds/telephone-ring-04.mp3");return c.loop=!0,c.preload="auto",l.current=c,()=>{l.current&&(l.current.pause(),l.current.currentTime=0)}},[]),x.useEffect(()=>{if(!e||!t||!r?._id)return;const c=f=>{const{from:m,roomKey:g,peers:p,isAudioOnly:v,caller:b}=f||{};if(!m||!g)return;if(console.log("[GLOBAL CALL HANDLER] Incoming call from",m,"in room",g),o.pathname.includes("/team-chat")){console.log("[GLOBAL CALL HANDLER] On TeamChat page, letting page handle the call");return}l.current&&(l.current.play().catch(S=>{console.log("Could not play ringtone:",S)}),setTimeout(()=>{l.current&&(l.current.pause(),l.current.currentTime=0)},3e4));const k=b?.username||"Someone",N=v?"Audio":"Video";ee.custom(S=>n.jsx("div",{className:`${S.visible?"animate-enter":"animate-leave"} max-w-md w-full bg-gradient-to-br from-blue-600 to-purple-600 shadow-2xl rounded-2xl pointer-events-auto flex ring-2 ring-white cursor-pointer hover:shadow-3xl transition-all hover:scale-105`,onClick:()=>{l.current&&(l.current.pause(),l.current.currentTime=0),ee.dismiss(S.id),console.log("[GLOBAL CALL HANDLER] Storing call data:",f),sessionStorage.setItem("incomingCall",JSON.stringify(f)),sessionStorage.setItem("openRoomKey",g);const C=r?.role;console.log("[GLOBAL CALL HANDLER] Navigating to TeamChat for role:",C),C==="student"?a("/student/team-chat"):C==="supervisor"&&a("/supervisor/team-chat")},children:n.jsx("div",{className:"flex-1 w-0 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("div",{className:"relative",children:[n.jsxs(tr,{className:"h-12 w-12 border-2 border-white",children:[n.jsx(Rr,{src:b?.profilePic||Ir,alt:k}),n.jsx(wn,{className:"bg-white text-purple-600 font-bold",children:k[0]?.toUpperCase()||"U"})]}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1",children:v?n.jsx(ii,{className:"w-3 h-3 text-green-600"}):n.jsx(oc,{className:"w-3 h-3 text-blue-600"})})]})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm font-bold text-white",children:["Incoming ",N," Call"]}),n.jsx("p",{className:"text-sm text-white/90 truncate",children:k}),n.jsx("p",{className:"text-xs text-white/70 mt-1",children:"Tap to answer"})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(ii,{className:"w-6 h-6 text-white animate-bounce"})})]})})}),{duration:3e4,position:"top-right"})},d=f=>{if(!f||!f.roomKey)return;if(o.pathname.includes("/team-chat")){console.log("[GLOBAL CALL HANDLER] On TeamChat page, letting page handle the message");return}if(f.sender?.id!==r?._id){const g=f.sender?.username||"Someone";ee.custom(p=>n.jsxs("div",{className:`${p.visible?"animate-enter":"animate-leave"} max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5 cursor-pointer hover:shadow-xl transition-shadow`,onClick:()=>{ee.dismiss(p.id),sessionStorage.setItem("openRoomKey",f.roomKey);const v=r?.role;v==="student"?a("/student/team-chat"):v==="supervisor"&&a("/supervisor/team-chat")},children:[n.jsx("div",{className:"flex-1 w-0 p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 pt-0.5",children:n.jsxs(tr,{className:"h-10 w-10",children:[n.jsx(Rr,{src:f.sender?.profilePic||Ir,alt:g}),n.jsx(wn,{children:g[0]?.toUpperCase()||"U"})]})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:g}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"New message"})]})]})}),n.jsx("div",{className:"flex border-l border-gray-200 dark:border-gray-700",children:n.jsx("button",{onClick:v=>{v.stopPropagation(),ee.dismiss(p.id)},className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",children:"Close"})})]}),{duration:5e3,position:"top-right"})}};return e.on("rtc:ring",c),e.on("chat:new-message",d),()=>{e.off("rtc:ring",c),e.off("chat:new-message",d)}},[e,t,r?._id,o.pathname,a,r?.role]),null};var TC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hk=pr.createContext&&pr.createContext(TC),j7=["attr","size","title"];function k7(e,t){if(e==null)return{};var r=N7(e,t),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function N7(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bh.apply(this,arguments)}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(a){S7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function S7(e,t,r){return t=C7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RC(e){return e&&e.map((t,r)=>pr.createElement(t.tag,$h({key:r},t.attr),RC(t.child)))}function yc(e){return t=>pr.createElement(A7,Bh({attr:$h({},e.attr)},t),RC(e.child))}function A7(e){var t=r=>{var{attr:a,size:o,title:l}=e,c=k7(e,j7),d=o||r.size||"1em",f;return r.className&&(f=r.className),e.className&&(f=(f?f+" ":"")+e.className),pr.createElement("svg",Bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,c,{className:f,style:$h($h({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&pr.createElement("title",null,l),e.children)};return Hk!==void 0?pr.createElement(Hk.Consumer,null,r=>t(r)):t(TC)}function T7(e){return yc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function R7(e){return yc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function Uh(e){return yc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function _7(e){return yc({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function D7(e){return yc({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function M7(e){return yc({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(e)}const Vk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gk=Z2,_C=(e,t)=>r=>{var a;if(t?.variants==null)return Gk(e,r?.class,r?.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(m=>{const g=r?.[m],p=l?.[m];if(g===null)return null;const v=Vk(g)||Vk(p);return o[m][v]}),d=r&&Object.entries(r).reduce((m,g)=>{let[p,v]=g;return v===void 0||(m[p]=v),m},{}),f=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,g)=>{let{class:p,className:v,...b}=g;return Object.entries(b).every(j=>{let[k,N]=j;return Array.isArray(N)?N.includes({...l,...d}[k]):{...l,...d}[k]===N})?[...m,p,v]:m},[]);return Gk(e,c,f,r?.class,r?.className)},eb=_C("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Pe({className:e,variant:t,size:r,asChild:a=!1,...o}){const l=a?U2:"button";return n.jsx(l,{"data-slot":"button",className:ot(eb({variant:t,size:r,className:e})),...o})}const tb="/assets/logo-BpfxItjA.jpeg";function Qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}var O7=e2[" useInsertionEffect ".trim().toString()]||nn;function $o({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[o,l,c]=P7({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:o;{const g=x.useRef(e!==void 0);x.useEffect(()=>{const p=g.current;p!==d&&console.warn(`${a} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,a])}const m=x.useCallback(g=>{if(d){const p=L7(g)?g(e):g;p!==e&&c.current?.(p)}else l(g)},[d,e,l,c]);return[f,m]}function P7({defaultProp:e,onChange:t}){const[r,a]=x.useState(e),o=x.useRef(r),l=x.useRef(t);return O7(()=>{l.current=t},[t]),x.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,a,l]}function L7(e){return typeof e=="function"}function rb(e){const t=e+"CollectionProvider",[r,a]=is(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=k=>{const{scope:N,children:S}=k,C=pr.useRef(null),A=pr.useRef(new Map).current;return n.jsx(o,{scope:N,itemMap:A,collectionRef:C,children:S})};c.displayName=t;const d=e+"CollectionSlot",f=Zi(d),m=pr.forwardRef((k,N)=>{const{scope:S,children:C}=k,A=l(d,S),I=Jt(N,A.collectionRef);return n.jsx(f,{ref:I,children:C})});m.displayName=d;const g=e+"CollectionItemSlot",p="data-radix-collection-item",v=Zi(g),b=pr.forwardRef((k,N)=>{const{scope:S,children:C,...A}=k,I=pr.useRef(null),D=Jt(N,I),T=l(g,S);return pr.useEffect(()=>(T.itemMap.set(I,{ref:I,...A}),()=>void T.itemMap.delete(I))),n.jsx(v,{[p]:"",ref:D,children:C})});b.displayName=g;function j(k){const N=l(e+"CollectionConsumer",k);return pr.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const A=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((T,B)=>A.indexOf(T.ref.current)-A.indexOf(B.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},j,a]}var z7=x.createContext(void 0);function Cm(e){const t=x.useContext(z7);return e||t||"ltr"}function F7(e,t=globalThis?.document){const r=ts(e);x.useEffect(()=>{const a=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var I7="DismissableLayer",Fx="dismissableLayer.update",B7="dismissableLayer.pointerDownOutside",$7="dismissableLayer.focusOutside",Yk,DC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,m=x.useContext(DC),[g,p]=x.useState(null),v=g?.ownerDocument??globalThis?.document,[,b]=x.useState({}),j=Jt(t,B=>p(B)),k=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),S=k.indexOf(N),C=g?k.indexOf(g):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,I=C>=S,D=q7(B=>{const X=B.target,Y=[...m.branches].some(K=>K.contains(X));!I||Y||(o?.(B),c?.(B),B.defaultPrevented||d?.())},v),T=V7(B=>{const X=B.target;[...m.branches].some(K=>K.contains(X))||(l?.(B),c?.(B),B.defaultPrevented||d?.())},v);return F7(B=>{C===m.layers.size-1&&(a?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},v),x.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Yk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Kk(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Yk)}},[g,v,r,m]),x.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Kk())},[g,m]),x.useEffect(()=>{const B=()=>b({});return document.addEventListener(Fx,B),()=>document.removeEventListener(Fx,B)},[]),n.jsx(ut.div,{...f,ref:j,style:{pointerEvents:A?I?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,D.onPointerDownCapture)})});ld.displayName=I7;var U7="DismissableLayerBranch",H7=x.forwardRef((e,t)=>{const r=x.useContext(DC),a=x.useRef(null),o=Jt(t,a);return x.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(ut.div,{...e,ref:o})});H7.displayName=U7;function q7(e,t=globalThis?.document){const r=ts(e),a=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let f=function(){MC(B7,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function V7(e,t=globalThis?.document){const r=ts(e),a=x.useRef(!1);return x.useEffect(()=>{const o=l=>{l.target&&!a.current&&MC($7,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Kk(){const e=new CustomEvent(Fx);document.dispatchEvent(e)}function MC(e,t,r,{discrete:a}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),a?q2(o,l):o.dispatchEvent(l)}var R0=0;function Em(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xk()),document.body.insertAdjacentElement("beforeend",e[1]??Xk()),R0++,()=>{R0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),R0--}},[])}function Xk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _0="focusScope.autoFocusOnMount",D0="focusScope.autoFocusOnUnmount",Wk={bubbles:!1,cancelable:!0},G7="FocusScope",cd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[d,f]=x.useState(null),m=ts(o),g=ts(l),p=x.useRef(null),v=Jt(t,k=>f(k)),b=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let k=function(A){if(b.paused||!d)return;const I=A.target;d.contains(I)?p.current=I:$i(p.current,{select:!0})},N=function(A){if(b.paused||!d)return;const I=A.relatedTarget;I!==null&&(d.contains(I)||$i(p.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&$i(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",N);const C=new MutationObserver(S);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",N),C.disconnect()}}},[a,d,b.paused]),x.useEffect(()=>{if(d){Zk.add(b);const k=document.activeElement;if(!d.contains(k)){const S=new CustomEvent(_0,Wk);d.addEventListener(_0,m),d.dispatchEvent(S),S.defaultPrevented||(Y7(Z7(OC(d)),{select:!0}),document.activeElement===k&&$i(d))}return()=>{d.removeEventListener(_0,m),setTimeout(()=>{const S=new CustomEvent(D0,Wk);d.addEventListener(D0,g),d.dispatchEvent(S),S.defaultPrevented||$i(k??document.body,{select:!0}),d.removeEventListener(D0,g),Zk.remove(b)},0)}}},[d,m,g,b]);const j=x.useCallback(k=>{if(!r&&!a||b.paused)return;const N=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,S=document.activeElement;if(N&&S){const C=k.currentTarget,[A,I]=K7(C);A&&I?!k.shiftKey&&S===I?(k.preventDefault(),r&&$i(A,{select:!0})):k.shiftKey&&S===A&&(k.preventDefault(),r&&$i(I,{select:!0})):S===C&&k.preventDefault()}},[r,a,b.paused]);return n.jsx(ut.div,{tabIndex:-1,...c,ref:v,onKeyDown:j})});cd.displayName=G7;function Y7(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if($i(a,{select:t}),document.activeElement!==r)return}function K7(e){const t=OC(e),r=Qk(t,e),a=Qk(t.reverse(),e);return[r,a]}function OC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qk(e,t){for(const r of e)if(!X7(r,{upTo:t}))return r}function X7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function W7(e){return e instanceof HTMLInputElement&&"select"in e}function $i(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&W7(e)&&t&&e.select()}}var Zk=Q7();function Q7(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Jk(e,t),e.unshift(t)},remove(t){e=Jk(e,t),e[0]?.resume()}}}function Jk(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function Z7(e){return e.filter(t=>t.tagName!=="A")}var J7=e2[" useId ".trim().toString()]||(()=>{}),e8=0;function jn(e){const[t,r]=x.useState(J7());return nn(()=>{r(a=>a??String(e8++))},[e]),e||(t?`radix-${t}`:"")}const t8=["top","right","bottom","left"],to=Math.min,ya=Math.max,Hh=Math.round,qf=Math.floor,Ns=e=>({x:e,y:e}),r8={left:"right",right:"left",bottom:"top",top:"bottom"},n8={start:"end",end:"start"};function Ix(e,t,r){return ya(e,to(t,r))}function li(e,t){return typeof e=="function"?e(t):e}function ci(e){return e.split("-")[0]}function bc(e){return e.split("-")[1]}function nb(e){return e==="x"?"y":"x"}function ab(e){return e==="y"?"height":"width"}const a8=new Set(["top","bottom"]);function js(e){return a8.has(ci(e))?"y":"x"}function sb(e){return nb(js(e))}function s8(e,t,r){r===void 0&&(r=!1);const a=bc(e),o=sb(e),l=ab(o);let c=o==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=qh(c)),[c,qh(c)]}function i8(e){const t=qh(e);return[Bx(e),t,Bx(t)]}function Bx(e){return e.replace(/start|end/g,t=>n8[t])}const eN=["left","right"],tN=["right","left"],o8=["top","bottom"],l8=["bottom","top"];function c8(e,t,r){switch(e){case"top":case"bottom":return r?t?tN:eN:t?eN:tN;case"left":case"right":return t?o8:l8;default:return[]}}function u8(e,t,r,a){const o=bc(e);let l=c8(ci(e),r==="start",a);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(Bx)))),l}function qh(e){return e.replace(/left|right|bottom|top/g,t=>r8[t])}function d8(e){return{top:0,right:0,bottom:0,left:0,...e}}function PC(e){return typeof e!="number"?d8(e):{top:e,right:e,bottom:e,left:e}}function Vh(e){const{x:t,y:r,width:a,height:o}=e;return{width:a,height:o,top:r,left:t,right:t+a,bottom:r+o,x:t,y:r}}function rN(e,t,r){let{reference:a,floating:o}=e;const l=js(t),c=sb(t),d=ab(c),f=ci(t),m=l==="y",g=a.x+a.width/2-o.width/2,p=a.y+a.height/2-o.height/2,v=a[d]/2-o[d]/2;let b;switch(f){case"top":b={x:g,y:a.y-o.height};break;case"bottom":b={x:g,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y:p};break;case"left":b={x:a.x-o.width,y:p};break;default:b={x:a.x,y:a.y}}switch(bc(t)){case"start":b[c]-=v*(r&&m?-1:1);break;case"end":b[c]+=v*(r&&m?-1:1);break}return b}const f8=async(e,t,r)=>{const{placement:a="bottom",strategy:o="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:p}=rN(m,a,f),v=a,b={},j=0;for(let k=0;k<d.length;k++){const{name:N,fn:S}=d[k],{x:C,y:A,data:I,reset:D}=await S({x:g,y:p,initialPlacement:a,placement:v,strategy:o,middlewareData:b,rects:m,platform:c,elements:{reference:e,floating:t}});g=C??g,p=A??p,b={...b,[N]:{...b[N],...I}},D&&j<=50&&(j++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(m=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:g,y:p}=rN(m,v,f)),k=-1)}return{x:g,y:p,placement:v,strategy:o,middlewareData:b}};async function Xu(e,t){var r;t===void 0&&(t={});const{x:a,y:o,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:v=!1,padding:b=0}=li(t,e),j=PC(b),N=d[v?p==="floating"?"reference":"floating":p],S=Vh(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(N)))==null||r?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:f})),C=p==="floating"?{x:a,y:o,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),I=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Vh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:A,strategy:f}):C);return{top:(S.top-D.top+j.top)/I.y,bottom:(D.bottom-S.bottom+j.bottom)/I.y,left:(S.left-D.left+j.left)/I.x,right:(D.right-S.right+j.right)/I.x}}const h8=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:m,padding:g=0}=li(e,t)||{};if(m==null)return{};const p=PC(g),v={x:r,y:a},b=sb(o),j=ab(b),k=await c.getDimensions(m),N=b==="y",S=N?"top":"left",C=N?"bottom":"right",A=N?"clientHeight":"clientWidth",I=l.reference[j]+l.reference[b]-v[b]-l.floating[j],D=v[b]-l.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let B=T?T[A]:0;(!B||!await(c.isElement==null?void 0:c.isElement(T)))&&(B=d.floating[A]||l.floating[j]);const X=I/2-D/2,Y=B/2-k[j]/2-1,K=to(p[S],Y),le=to(p[C],Y),L=K,W=B-k[j]-le,Q=B/2-k[j]/2+X,Z=Ix(L,Q,W),U=!f.arrow&&bc(o)!=null&&Q!==Z&&l.reference[j]/2-(Q<L?K:le)-k[j]/2<0,G=U?Q<L?Q-L:Q-W:0;return{[b]:v[b]+G,data:{[b]:Z,centerOffset:Q-Z-G,...U&&{alignmentOffset:G}},reset:U}}}),m8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:k=!0,...N}=li(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const S=ci(o),C=js(d),A=ci(d)===d,I=await(f.isRTL==null?void 0:f.isRTL(m.floating)),D=v||(A||!k?[qh(d)]:i8(d)),T=j!=="none";!v&&T&&D.push(...u8(d,k,j,I));const B=[d,...D],X=await Xu(t,N),Y=[];let K=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&Y.push(X[S]),p){const Q=s8(o,c,I);Y.push(X[Q[0]],X[Q[1]])}if(K=[...K,{placement:o,overflows:Y}],!Y.every(Q=>Q<=0)){var le,L;const Q=(((le=l.flip)==null?void 0:le.index)||0)+1,Z=B[Q];if(Z&&(!(p==="alignment"?C!==js(Z):!1)||K.every(F=>js(F.placement)===C?F.overflows[0]>0:!0)))return{data:{index:Q,overflows:K},reset:{placement:Z}};let U=(L=K.filter(G=>G.overflows[0]<=0).sort((G,F)=>G.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(b){case"bestFit":{var W;const G=(W=K.filter(F=>{if(T){const V=js(F.placement);return V===C||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,R)=>V+R,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:W[0];G&&(U=G);break}case"initialPlacement":U=d;break}if(o!==U)return{reset:{placement:U}}}return{}}}};function nN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aN(e){return t8.some(t=>e[t]>=0)}const p8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...o}=li(e,t);switch(a){case"referenceHidden":{const l=await Xu(t,{...o,elementContext:"reference"}),c=nN(l,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:aN(c)}}}case"escaped":{const l=await Xu(t,{...o,altBoundary:!0}),c=nN(l,r.floating);return{data:{escapedOffsets:c,escaped:aN(c)}}}default:return{}}}}},LC=new Set(["left","top"]);async function g8(e,t){const{placement:r,platform:a,elements:o}=e,l=await(a.isRTL==null?void 0:a.isRTL(o.floating)),c=ci(r),d=bc(r),f=js(r)==="y",m=LC.has(c)?-1:1,g=l&&f?-1:1,p=li(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),f?{x:b*g,y:v*m}:{x:v*m,y:b*g}}const x8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:o,y:l,placement:c,middlewareData:d}=t,f=await g8(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},y8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:S,y:C}=N;return{x:S,y:C}}},...f}=li(e,t),m={x:r,y:a},g=await Xu(t,f),p=js(ci(o)),v=nb(p);let b=m[v],j=m[p];if(l){const N=v==="y"?"top":"left",S=v==="y"?"bottom":"right",C=b+g[N],A=b-g[S];b=Ix(C,b,A)}if(c){const N=p==="y"?"top":"left",S=p==="y"?"bottom":"right",C=j+g[N],A=j-g[S];j=Ix(C,j,A)}const k=d.fn({...t,[v]:b,[p]:j});return{...k,data:{x:k.x-r,y:k.y-a,enabled:{[v]:l,[p]:c}}}}}},b8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:o,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=li(e,t),g={x:r,y:a},p=js(o),v=nb(p);let b=g[v],j=g[p];const k=li(d,t),N=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(f){const A=v==="y"?"height":"width",I=l.reference[v]-l.floating[A]+N.mainAxis,D=l.reference[v]+l.reference[A]-N.mainAxis;b<I?b=I:b>D&&(b=D)}if(m){var S,C;const A=v==="y"?"width":"height",I=LC.has(ci(o)),D=l.reference[p]-l.floating[A]+(I&&((S=c.offset)==null?void 0:S[p])||0)+(I?0:N.crossAxis),T=l.reference[p]+l.reference[A]+(I?0:((C=c.offset)==null?void 0:C[p])||0)-(I?N.crossAxis:0);j<D?j=D:j>T&&(j=T)}return{[v]:b,[p]:j}}}},v8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:o,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...m}=li(e,t),g=await Xu(t,m),p=ci(o),v=bc(o),b=js(o)==="y",{width:j,height:k}=l.floating;let N,S;p==="top"||p==="bottom"?(N=p,S=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(S=p,N=v==="end"?"top":"bottom");const C=k-g.top-g.bottom,A=j-g.left-g.right,I=to(k-g[N],C),D=to(j-g[S],A),T=!t.middlewareData.shift;let B=I,X=D;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(X=A),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(B=C),T&&!v){const K=ya(g.left,0),le=ya(g.right,0),L=ya(g.top,0),W=ya(g.bottom,0);b?X=j-2*(K!==0||le!==0?K+le:ya(g.left,g.right)):B=k-2*(L!==0||W!==0?L+W:ya(g.top,g.bottom))}await f({...t,availableWidth:X,availableHeight:B});const Y=await c.getDimensions(d.floating);return j!==Y.width||k!==Y.height?{reset:{rects:!0}}:{}}}};function Am(){return typeof window<"u"}function vc(e){return zC(e)?(e.nodeName||"").toLowerCase():"#document"}function va(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(zC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zC(e){return Am()?e instanceof Node||e instanceof va(e).Node:!1}function rs(e){return Am()?e instanceof Element||e instanceof va(e).Element:!1}function Cs(e){return Am()?e instanceof HTMLElement||e instanceof va(e).HTMLElement:!1}function sN(e){return!Am()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof va(e).ShadowRoot}const w8=new Set(["inline","contents"]);function ud(e){const{overflow:t,overflowX:r,overflowY:a,display:o}=ns(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!w8.has(o)}const j8=new Set(["table","td","th"]);function k8(e){return j8.has(vc(e))}const N8=[":popover-open",":modal"];function Tm(e){return N8.some(t=>{try{return e.matches(t)}catch{return!1}})}const S8=["transform","translate","scale","rotate","perspective"],C8=["transform","translate","scale","rotate","perspective","filter"],E8=["paint","layout","strict","content"];function ib(e){const t=ob(),r=rs(e)?ns(e):e;return S8.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||C8.some(a=>(r.willChange||"").includes(a))||E8.some(a=>(r.contain||"").includes(a))}function A8(e){let t=ro(e);for(;Cs(t)&&!lc(t);){if(ib(t))return t;if(Tm(t))return null;t=ro(t)}return null}function ob(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const T8=new Set(["html","body","#document"]);function lc(e){return T8.has(vc(e))}function ns(e){return va(e).getComputedStyle(e)}function Rm(e){return rs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ro(e){if(vc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sN(e)&&e.host||_s(e);return sN(t)?t.host:t}function FC(e){const t=ro(e);return lc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cs(t)&&ud(t)?t:FC(t)}function Wu(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=FC(e),l=o===((a=e.ownerDocument)==null?void 0:a.body),c=va(o);if(l){const d=$x(c);return t.concat(c,c.visualViewport||[],ud(o)?o:[],d&&r?Wu(d):[])}return t.concat(o,Wu(o,[],r))}function $x(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function IC(e){const t=ns(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const o=Cs(e),l=o?e.offsetWidth:r,c=o?e.offsetHeight:a,d=Hh(r)!==l||Hh(a)!==c;return d&&(r=l,a=c),{width:r,height:a,$:d}}function lb(e){return rs(e)?e:e.contextElement}function Wl(e){const t=lb(e);if(!Cs(t))return Ns(1);const r=t.getBoundingClientRect(),{width:a,height:o,$:l}=IC(t);let c=(l?Hh(r.width):r.width)/a,d=(l?Hh(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const R8=Ns(0);function BC(e){const t=va(e);return!ob()||!t.visualViewport?R8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==va(e)?!1:t}function Uo(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),l=lb(e);let c=Ns(1);t&&(a?rs(a)&&(c=Wl(a)):c=Wl(e));const d=_8(l,r,a)?BC(l):Ns(0);let f=(o.left+d.x)/c.x,m=(o.top+d.y)/c.y,g=o.width/c.x,p=o.height/c.y;if(l){const v=va(l),b=a&&rs(a)?va(a):a;let j=v,k=$x(j);for(;k&&a&&b!==j;){const N=Wl(k),S=k.getBoundingClientRect(),C=ns(k),A=S.left+(k.clientLeft+parseFloat(C.paddingLeft))*N.x,I=S.top+(k.clientTop+parseFloat(C.paddingTop))*N.y;f*=N.x,m*=N.y,g*=N.x,p*=N.y,f+=A,m+=I,j=va(k),k=$x(j)}}return Vh({width:g,height:p,x:f,y:m})}function _m(e,t){const r=Rm(e).scrollLeft;return t?t.left+r:Uo(_s(e)).left+r}function $C(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-_m(e,r),o=r.top+t.scrollTop;return{x:a,y:o}}function D8(e){let{elements:t,rect:r,offsetParent:a,strategy:o}=e;const l=o==="fixed",c=_s(a),d=t?Tm(t.floating):!1;if(a===c||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=Ns(1);const g=Ns(0),p=Cs(a);if((p||!p&&!l)&&((vc(a)!=="body"||ud(c))&&(f=Rm(a)),Cs(a))){const b=Uo(a);m=Wl(a),g.x=b.x+a.clientLeft,g.y=b.y+a.clientTop}const v=c&&!p&&!l?$C(c,f):Ns(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+g.x+v.x,y:r.y*m.y-f.scrollTop*m.y+g.y+v.y}}function M8(e){return Array.from(e.getClientRects())}function O8(e){const t=_s(e),r=Rm(e),a=e.ownerDocument.body,o=ya(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=ya(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let c=-r.scrollLeft+_m(e);const d=-r.scrollTop;return ns(a).direction==="rtl"&&(c+=ya(t.clientWidth,a.clientWidth)-o),{width:o,height:l,x:c,y:d}}const iN=25;function P8(e,t){const r=va(e),a=_s(e),o=r.visualViewport;let l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const g=ob();(!g||g&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const m=_m(a);if(m<=0){const g=a.ownerDocument,p=g.body,v=getComputedStyle(p),b=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,j=Math.abs(a.clientWidth-p.clientWidth-b);j<=iN&&(l-=j)}else m<=iN&&(l+=m);return{width:l,height:c,x:d,y:f}}const L8=new Set(["absolute","fixed"]);function z8(e,t){const r=Uo(e,!0,t==="fixed"),a=r.top+e.clientTop,o=r.left+e.clientLeft,l=Cs(e)?Wl(e):Ns(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,m=a*l.y;return{width:c,height:d,x:f,y:m}}function oN(e,t,r){let a;if(t==="viewport")a=P8(e,r);else if(t==="document")a=O8(_s(e));else if(rs(t))a=z8(t,r);else{const o=BC(e);a={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Vh(a)}function UC(e,t){const r=ro(e);return r===t||!rs(r)||lc(r)?!1:ns(r).position==="fixed"||UC(r,t)}function F8(e,t){const r=t.get(e);if(r)return r;let a=Wu(e,[],!1).filter(d=>rs(d)&&vc(d)!=="body"),o=null;const l=ns(e).position==="fixed";let c=l?ro(e):e;for(;rs(c)&&!lc(c);){const d=ns(c),f=ib(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&L8.has(o.position)||ud(c)&&!f&&UC(e,c))?a=a.filter(g=>g!==c):o=d,c=ro(c)}return t.set(e,a),a}function I8(e){let{element:t,boundary:r,rootBoundary:a,strategy:o}=e;const c=[...r==="clippingAncestors"?Tm(t)?[]:F8(t,this._c):[].concat(r),a],d=c[0],f=c.reduce((m,g)=>{const p=oN(t,g,o);return m.top=ya(p.top,m.top),m.right=to(p.right,m.right),m.bottom=to(p.bottom,m.bottom),m.left=ya(p.left,m.left),m},oN(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function B8(e){const{width:t,height:r}=IC(e);return{width:t,height:r}}function $8(e,t,r){const a=Cs(t),o=_s(t),l=r==="fixed",c=Uo(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=Ns(0);function m(){f.x=_m(o)}if(a||!a&&!l)if((vc(t)!=="body"||ud(o))&&(d=Rm(t)),a){const b=Uo(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else o&&m();l&&!a&&o&&m();const g=o&&!a&&!l?$C(o,d):Ns(0),p=c.left+d.scrollLeft-f.x-g.x,v=c.top+d.scrollTop-f.y-g.y;return{x:p,y:v,width:c.width,height:c.height}}function M0(e){return ns(e).position==="static"}function lN(e,t){if(!Cs(e)||ns(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _s(e)===r&&(r=r.ownerDocument.body),r}function HC(e,t){const r=va(e);if(Tm(e))return r;if(!Cs(e)){let o=ro(e);for(;o&&!lc(o);){if(rs(o)&&!M0(o))return o;o=ro(o)}return r}let a=lN(e,t);for(;a&&k8(a)&&M0(a);)a=lN(a,t);return a&&lc(a)&&M0(a)&&!ib(a)?r:a||A8(e)||r}const U8=async function(e){const t=this.getOffsetParent||HC,r=this.getDimensions,a=await r(e.floating);return{reference:$8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function H8(e){return ns(e).direction==="rtl"}const q8={convertOffsetParentRelativeRectToViewportRelativeRect:D8,getDocumentElement:_s,getClippingRect:I8,getOffsetParent:HC,getElementRects:U8,getClientRects:M8,getDimensions:B8,getScale:Wl,isElement:rs,isRTL:H8};function qC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function V8(e,t){let r=null,a;const o=_s(e);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:g,top:p,width:v,height:b}=m;if(d||t(),!v||!b)return;const j=qf(p),k=qf(o.clientWidth-(g+v)),N=qf(o.clientHeight-(p+b)),S=qf(g),A={rootMargin:-j+"px "+-k+"px "+-N+"px "+-S+"px",threshold:ya(0,to(1,f))||1};let I=!0;function D(T){const B=T[0].intersectionRatio;if(B!==f){if(!I)return c();B?c(!1,B):a=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!qC(m,e.getBoundingClientRect())&&c(),I=!1}try{r=new IntersectionObserver(D,{...A,root:o.ownerDocument})}catch{r=new IntersectionObserver(D,A)}r.observe(e)}return c(!0),l}function G8(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=a,m=lb(e),g=o||l?[...m?Wu(m):[],...Wu(t)]:[];g.forEach(S=>{o&&S.addEventListener("scroll",r,{passive:!0}),l&&S.addEventListener("resize",r)});const p=m&&d?V8(m,r):null;let v=-1,b=null;c&&(b=new ResizeObserver(S=>{let[C]=S;C&&C.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),r()}),m&&!f&&b.observe(m),b.observe(t));let j,k=f?Uo(e):null;f&&N();function N(){const S=Uo(e);k&&!qC(k,S)&&r(),k=S,j=requestAnimationFrame(N)}return r(),()=>{var S;g.forEach(C=>{o&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),p?.(),(S=b)==null||S.disconnect(),b=null,f&&cancelAnimationFrame(j)}}const Y8=x8,K8=y8,X8=m8,W8=v8,Q8=p8,cN=h8,Z8=b8,J8=(e,t,r)=>{const a=new Map,o={platform:q8,...r},l={...o.platform,_c:a};return f8(e,t,{...o,platform:l})};var ez=typeof document<"u",tz=function(){},wh=ez?x.useLayoutEffect:tz;function Gh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Gh(e[a],t[a]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=r;a--!==0;){const l=o[a];if(!(l==="_owner"&&e.$$typeof)&&!Gh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function VC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uN(e,t){const r=VC(e);return Math.round(t*r)/r}function O0(e){const t=x.useRef(e);return wh(()=>{t.current=e}),t}function rz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[g,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=x.useState(a);Gh(v,a)||b(a);const[j,k]=x.useState(null),[N,S]=x.useState(null),C=x.useCallback(F=>{F!==T.current&&(T.current=F,k(F))},[]),A=x.useCallback(F=>{F!==B.current&&(B.current=F,S(F))},[]),I=l||j,D=c||N,T=x.useRef(null),B=x.useRef(null),X=x.useRef(g),Y=f!=null,K=O0(f),le=O0(o),L=O0(m),W=x.useCallback(()=>{if(!T.current||!B.current)return;const F={placement:t,strategy:r,middleware:v};le.current&&(F.platform=le.current),J8(T.current,B.current,F).then(V=>{const R={...V,isPositioned:L.current!==!1};Q.current&&!Gh(X.current,R)&&(X.current=R,mc.flushSync(()=>{p(R)}))})},[v,t,r,le,L]);wh(()=>{m===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[m]);const Q=x.useRef(!1);wh(()=>(Q.current=!0,()=>{Q.current=!1}),[]),wh(()=>{if(I&&(T.current=I),D&&(B.current=D),I&&D){if(K.current)return K.current(I,D,W);W()}},[I,D,W,K,Y]);const Z=x.useMemo(()=>({reference:T,floating:B,setReference:C,setFloating:A}),[C,A]),U=x.useMemo(()=>({reference:I,floating:D}),[I,D]),G=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!U.floating)return F;const V=uN(U.floating,g.x),R=uN(U.floating,g.y);return d?{...F,transform:"translate("+V+"px, "+R+"px)",...VC(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:R}},[r,d,U.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:W,refs:Z,elements:U,floatingStyles:G}),[g,W,Z,U,G])}const nz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:o}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?cN({element:a.current,padding:o}).fn(r):{}:a?cN({element:a,padding:o}).fn(r):{}}}},az=(e,t)=>({...Y8(e),options:[e,t]}),sz=(e,t)=>({...K8(e),options:[e,t]}),iz=(e,t)=>({...Z8(e),options:[e,t]}),oz=(e,t)=>({...X8(e),options:[e,t]}),lz=(e,t)=>({...W8(e),options:[e,t]}),cz=(e,t)=>({...Q8(e),options:[e,t]}),uz=(e,t)=>({...nz(e),options:[e,t]});var dz="Arrow",GC=x.forwardRef((e,t)=>{const{children:r,width:a=10,height:o=5,...l}=e;return n.jsx(ut.svg,{...l,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});GC.displayName=dz;var fz=GC;function hz(e){const[t,r]=x.useState(void 0);return nn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var cb="Popper",[YC,wc]=is(cb),[mz,KC]=YC(cb),XC=e=>{const{__scopePopper:t,children:r}=e,[a,o]=x.useState(null);return n.jsx(mz,{scope:t,anchor:a,onAnchorChange:o,children:r})};XC.displayName=cb;var WC="PopperAnchor",QC=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...o}=e,l=KC(WC,r),c=x.useRef(null),d=Jt(t,c),f=x.useRef(null);return x.useEffect(()=>{const m=f.current;f.current=a?.current||c.current,m!==f.current&&l.onAnchorChange(f.current)}),a?null:n.jsx(ut.div,{...o,ref:d})});QC.displayName=WC;var ub="PopperContent",[pz,gz]=YC(ub),ZC=x.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:j,...k}=e,N=KC(ub,r),[S,C]=x.useState(null),A=Jt(t,ce=>C(ce)),[I,D]=x.useState(null),T=hz(I),B=T?.width??0,X=T?.height??0,Y=a+(l!=="center"?"-"+l:""),K=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},le=Array.isArray(m)?m:[m],L=le.length>0,W={padding:K,boundary:le.filter(yz),altBoundary:L},{refs:Q,floatingStyles:Z,placement:U,isPositioned:G,middlewareData:F}=rz({strategy:"fixed",placement:Y,whileElementsMounted:(...ce)=>G8(...ce,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[az({mainAxis:o+X,alignmentAxis:c}),f&&sz({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?iz():void 0,...W}),f&&oz({...W}),lz({...W,apply:({elements:ce,rects:Me,availableWidth:Ne,availableHeight:Ce})=>{const{width:Ee,height:Re}=Me.reference,Be=ce.floating.style;Be.setProperty("--radix-popper-available-width",`${Ne}px`),Be.setProperty("--radix-popper-available-height",`${Ce}px`),Be.setProperty("--radix-popper-anchor-width",`${Ee}px`),Be.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),I&&uz({element:I,padding:d}),bz({arrowWidth:B,arrowHeight:X}),v&&cz({strategy:"referenceHidden",...W})]}),[V,R]=tE(U),_=ts(j);nn(()=>{G&&_?.()},[G,_]);const $=F.arrow?.x,z=F.arrow?.y,ue=F.arrow?.centerOffset!==0,[ve,re]=x.useState();return nn(()=>{S&&re(window.getComputedStyle(S).zIndex)},[S]),n.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:G?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(pz,{scope:r,placedSide:V,onArrowChange:D,arrowX:$,arrowY:z,shouldHideArrow:ue,children:n.jsx(ut.div,{"data-side":V,"data-align":R,...k,ref:A,style:{...k.style,animation:G?void 0:"none"}})})})});ZC.displayName=ub;var JC="PopperArrow",xz={top:"bottom",right:"left",bottom:"top",left:"right"},eE=x.forwardRef(function(t,r){const{__scopePopper:a,...o}=t,l=gz(JC,a),c=xz[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(fz,{...o,ref:r,style:{...o.style,display:"block"}})})});eE.displayName=JC;function yz(e){return e!==null}var bz=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,g]=tE(r),p={start:"0%",center:"50%",end:"100%"}[g],v=(o.arrow?.x??0)+d/2,b=(o.arrow?.y??0)+f/2;let j="",k="";return m==="bottom"?(j=c?p:`${v}px`,k=`${-f}px`):m==="top"?(j=c?p:`${v}px`,k=`${a.floating.height+f}px`):m==="right"?(j=`${-f}px`,k=c?p:`${b}px`):m==="left"&&(j=`${a.floating.width+f}px`,k=c?p:`${b}px`),{data:{x:j,y:k}}}});function tE(e){const[t,r="center"]=e.split("-");return[t,r]}var db=XC,Dm=QC,fb=ZC,hb=eE,vz="Portal",dd=x.forwardRef((e,t)=>{const{container:r,...a}=e,[o,l]=x.useState(!1);nn(()=>l(!0),[]);const c=r||o&&globalThis?.document?.body;return c?mD.createPortal(n.jsx(ut.div,{...a,ref:t}),c):null});dd.displayName=vz;function wz(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var os=e=>{const{present:t,children:r}=e,a=jz(t),o=typeof r=="function"?r({present:a.isPresent}):x.Children.only(r),l=Jt(a.ref,kz(o));return typeof r=="function"||a.isPresent?x.cloneElement(o,{ref:l}):null};os.displayName="Presence";function jz(e){const[t,r]=x.useState(),a=x.useRef(null),o=x.useRef(e),l=x.useRef("none"),c=e?"mounted":"unmounted",[d,f]=wz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Vf(a.current);l.current=d==="mounted"?m:"none"},[d]),nn(()=>{const m=a.current,g=o.current;if(g!==e){const v=l.current,b=Vf(m);e?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(g&&v!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),nn(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,p=b=>{const k=Vf(a.current).includes(CSS.escape(b.animationName));if(b.target===t&&k&&(f("ANIMATION_END"),!o.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=b=>{b.target===t&&(l.current=Vf(a.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(m=>{a.current=m?getComputedStyle(m):null,r(m)},[])}}function Vf(e){return e?.animationName||"none"}function kz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var P0="rovingFocusGroup.onEntryFocus",Nz={bubbles:!1,cancelable:!0},fd="RovingFocusGroup",[Ux,rE,Sz]=rb(fd),[Cz,Mm]=is(fd,[Sz]),[Ez,Az]=Cz(fd),nE=x.forwardRef((e,t)=>n.jsx(Ux.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Ux.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Tz,{...e,ref:t})})}));nE.displayName=fd;var Tz=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...p}=e,v=x.useRef(null),b=Jt(t,v),j=Cm(l),[k,N]=$o({prop:c,defaultProp:d??null,onChange:f,caller:fd}),[S,C]=x.useState(!1),A=ts(m),I=rE(r),D=x.useRef(!1),[T,B]=x.useState(0);return x.useEffect(()=>{const X=v.current;if(X)return X.addEventListener(P0,A),()=>X.removeEventListener(P0,A)},[A]),n.jsx(Ez,{scope:r,orientation:a,dir:j,loop:o,currentTabStopId:k,onItemFocus:x.useCallback(X=>N(X),[N]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>B(X=>X+1),[]),onFocusableItemRemove:x.useCallback(()=>B(X=>X-1),[]),children:n.jsx(ut.div,{tabIndex:S||T===0?-1:0,"data-orientation":a,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{D.current=!0}),onFocus:Qe(e.onFocus,X=>{const Y=!D.current;if(X.target===X.currentTarget&&Y&&!S){const K=new CustomEvent(P0,Nz);if(X.currentTarget.dispatchEvent(K),!K.defaultPrevented){const le=I().filter(U=>U.focusable),L=le.find(U=>U.active),W=le.find(U=>U.id===k),Z=[L,W,...le].filter(Boolean).map(U=>U.ref.current);iE(Z,g)}}D.current=!1}),onBlur:Qe(e.onBlur,()=>C(!1))})})}),aE="RovingFocusGroupItem",sE=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:o=!1,tabStopId:l,children:c,...d}=e,f=jn(),m=l||f,g=Az(aE,r),p=g.currentTabStopId===m,v=rE(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:k}=g;return x.useEffect(()=>{if(a)return b(),()=>j()},[a,b,j]),n.jsx(Ux.ItemSlot,{scope:r,id:m,focusable:a,active:o,children:n.jsx(ut.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:Qe(e.onMouseDown,N=>{a?g.onItemFocus(m):N.preventDefault()}),onFocus:Qe(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:Qe(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const S=Dz(N,g.orientation,g.dir);if(S!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=v().filter(I=>I.focusable).map(I=>I.ref.current);if(S==="last")A.reverse();else if(S==="prev"||S==="next"){S==="prev"&&A.reverse();const I=A.indexOf(N.currentTarget);A=g.loop?Mz(A,I+1):A.slice(I+1)}setTimeout(()=>iE(A))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:k!=null}):c})})});sE.displayName=aE;var Rz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _z(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dz(e,t,r){const a=_z(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Rz[a]}function iE(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function Mz(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var oE=nE,lE=sE,Oz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ml=new WeakMap,Gf=new WeakMap,Yf={},L0=0,cE=function(e){return e&&(e.host||cE(e.parentNode))},Pz=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=cE(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lz=function(e,t,r,a){var o=Pz(t,Array.isArray(e)?e:[e]);Yf[r]||(Yf[r]=new WeakMap);var l=Yf[r],c=[],d=new Set,f=new Set(o),m=function(p){!p||d.has(p)||(d.add(p),m(p.parentNode))};o.forEach(m);var g=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(v){if(d.has(v))g(v);else try{var b=v.getAttribute(a),j=b!==null&&b!=="false",k=(Ml.get(v)||0)+1,N=(l.get(v)||0)+1;Ml.set(v,k),l.set(v,N),c.push(v),k===1&&j&&Gf.set(v,!0),N===1&&v.setAttribute(r,"true"),j||v.setAttribute(a,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return g(t),d.clear(),L0++,function(){c.forEach(function(p){var v=Ml.get(p)-1,b=l.get(p)-1;Ml.set(p,v),l.set(p,b),v||(Gf.has(p)||p.removeAttribute(a),Gf.delete(p)),b||p.removeAttribute(r)}),L0--,L0||(Ml=new WeakMap,Ml=new WeakMap,Gf=new WeakMap,Yf={})}},Om=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=Oz(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live], script"))),Lz(a,o,r,"aria-hidden")):function(){return null}},vs=function(){return vs=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},vs.apply(this,arguments)};function uE(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function zz(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,l;a<o;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var jh="right-scroll-bar-position",kh="width-before-scroll-bar",Fz="with-scroll-bars-hidden",Iz="--removed-body-scroll-bar-size";function z0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Bz(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var o=r.value;o!==a&&(r.value=a,r.callback(a,o))}}}})[0];return r.callback=t,r.facade}var $z=typeof window<"u"?x.useLayoutEffect:x.useEffect,dN=new WeakMap;function Uz(e,t){var r=Bz(null,function(a){return e.forEach(function(o){return z0(o,a)})});return $z(function(){var a=dN.get(r);if(a){var o=new Set(a),l=new Set(e),c=r.current;o.forEach(function(d){l.has(d)||z0(d,null)}),l.forEach(function(d){o.has(d)||z0(d,c)})}dN.set(r,e)},[e]),r}function Hz(e){return e}function qz(e,t){t===void 0&&(t=Hz);var r=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var c=t(l,a);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(a=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var f=function(){var g=c;c=[],g.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),r}}}};return o}function Vz(e){e===void 0&&(e={});var t=qz(null);return t.options=vs({async:!0,ssr:!1},e),t}var dE=function(e){var t=e.sideCar,r=uE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,vs({},r))};dE.isSideCarExport=!0;function Gz(e,t){return e.useMedium(t),dE}var fE=Vz(),F0=function(){},Pm=x.forwardRef(function(e,t){var r=x.useRef(null),a=x.useState({onScrollCapture:F0,onWheelCapture:F0,onTouchMoveCapture:F0}),o=a[0],l=a[1],c=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,g=e.enabled,p=e.shards,v=e.sideCar,b=e.noRelative,j=e.noIsolation,k=e.inert,N=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,A=e.gapMode,I=uE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,T=Uz([r,t]),B=vs(vs({},I),o);return x.createElement(x.Fragment,null,g&&x.createElement(D,{sideCar:fE,removeScrollBar:m,shards:p,noRelative:b,noIsolation:j,inert:k,setCallbacks:l,allowPinchZoom:!!N,lockRef:r,gapMode:A}),c?x.cloneElement(x.Children.only(d),vs(vs({},B),{ref:T})):x.createElement(C,vs({},B,{className:f,ref:T}),d))});Pm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pm.classNames={fullWidth:kh,zeroRight:jh};var Yz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Yz();return t&&e.setAttribute("nonce",t),e}function Xz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qz=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Kz())&&(Xz(t,r),Wz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zz=function(){var e=Qz();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},hE=function(){var e=Zz(),t=function(r){var a=r.styles,o=r.dynamic;return e(a,o),null};return t},Jz={left:0,top:0,right:0,gap:0},I0=function(e){return parseInt(e||"",10)||0},e9=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[I0(r),I0(a),I0(o)]},t9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jz;var t=e9(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},r9=hE(),Ql="data-scroll-locked",n9=function(e,t,r,a){var o=e.left,l=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Fz,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jh,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(kh,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(kh," .").concat(kh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(Iz,": ").concat(d,`px;
  }
`)},fN=function(){var e=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(e)?e:0},a9=function(){x.useEffect(function(){return document.body.setAttribute(Ql,(fN()+1).toString()),function(){var e=fN()-1;e<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,e.toString())}},[])},s9=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;a9();var l=x.useMemo(function(){return t9(o)},[o]);return x.createElement(r9,{styles:n9(l,!t,o,r?"":"!important")})},Hx=!1;if(typeof window<"u")try{var Kf=Object.defineProperty({},"passive",{get:function(){return Hx=!0,!0}});window.addEventListener("test",Kf,Kf),window.removeEventListener("test",Kf,Kf)}catch{Hx=!1}var Ol=Hx?{passive:!1}:!1,i9=function(e){return e.tagName==="TEXTAREA"},mE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!i9(e)&&r[t]==="visible")},o9=function(e){return mE(e,"overflowY")},l9=function(e){return mE(e,"overflowX")},hN=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=pE(e,a);if(o){var l=gE(e,a),c=l[1],d=l[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},c9=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},u9=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},pE=function(e,t){return e==="v"?o9(t):l9(t)},gE=function(e,t){return e==="v"?c9(t):u9(t)},d9=function(e,t){return e==="h"&&t==="rtl"?-1:1},f9=function(e,t,r,a,o){var l=d9(e,window.getComputedStyle(t).direction),c=l*a,d=r.target,f=t.contains(d),m=!1,g=c>0,p=0,v=0;do{if(!d)break;var b=gE(e,d),j=b[0],k=b[1],N=b[2],S=k-N-l*j;(j||S)&&pE(e,d)&&(p+=S,v+=j);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(p)<1||!g&&Math.abs(v)<1)&&(m=!0),m},Xf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mN=function(e){return[e.deltaX,e.deltaY]},pN=function(e){return e&&"current"in e?e.current:e},h9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},m9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},p9=0,Pl=[];function g9(e){var t=x.useRef([]),r=x.useRef([0,0]),a=x.useRef(),o=x.useState(p9++)[0],l=x.useState(hE)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var k=zz([e.lockRef.current],(e.shards||[]).map(pN),!0).filter(Boolean);return k.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),k.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=x.useCallback(function(k,N){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!c.current.allowPinchZoom;var S=Xf(k),C=r.current,A="deltaX"in k?k.deltaX:C[0]-S[0],I="deltaY"in k?k.deltaY:C[1]-S[1],D,T=k.target,B=Math.abs(A)>Math.abs(I)?"h":"v";if("touches"in k&&B==="h"&&T.type==="range")return!1;var X=hN(B,T);if(!X)return!0;if(X?D=B:(D=B==="v"?"h":"v",X=hN(B,T)),!X)return!1;if(!a.current&&"changedTouches"in k&&(A||I)&&(a.current=D),!D)return!0;var Y=a.current||D;return f9(Y,N,k,Y==="h"?A:I)},[]),f=x.useCallback(function(k){var N=k;if(!(!Pl.length||Pl[Pl.length-1]!==l)){var S="deltaY"in N?mN(N):Xf(N),C=t.current.filter(function(D){return D.name===N.type&&(D.target===N.target||N.target===D.shadowParent)&&h9(D.delta,S)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var A=(c.current.shards||[]).map(pN).filter(Boolean).filter(function(D){return D.contains(N.target)}),I=A.length>0?d(N,A[0]):!c.current.noIsolation;I&&N.cancelable&&N.preventDefault()}}},[]),m=x.useCallback(function(k,N,S,C){var A={name:k,delta:N,target:S,should:C,shadowParent:x9(S)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(I){return I!==A})},1)},[]),g=x.useCallback(function(k){r.current=Xf(k),a.current=void 0},[]),p=x.useCallback(function(k){m(k.type,mN(k),k.target,d(k,e.lockRef.current))},[]),v=x.useCallback(function(k){m(k.type,Xf(k),k.target,d(k,e.lockRef.current))},[]);x.useEffect(function(){return Pl.push(l),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Ol),document.addEventListener("touchmove",f,Ol),document.addEventListener("touchstart",g,Ol),function(){Pl=Pl.filter(function(k){return k!==l}),document.removeEventListener("wheel",f,Ol),document.removeEventListener("touchmove",f,Ol),document.removeEventListener("touchstart",g,Ol)}},[]);var b=e.removeScrollBar,j=e.inert;return x.createElement(x.Fragment,null,j?x.createElement(l,{styles:m9(o)}):null,b?x.createElement(s9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function x9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y9=Gz(fE,g9);var hd=x.forwardRef(function(e,t){return x.createElement(Pm,vs({},e,{ref:t,sideCar:y9}))});hd.classNames=Pm.classNames;var qx=["Enter"," "],b9=["ArrowDown","PageUp","Home"],xE=["ArrowUp","PageDown","End"],v9=[...b9,...xE],w9={ltr:[...qx,"ArrowRight"],rtl:[...qx,"ArrowLeft"]},j9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},md="Menu",[Qu,k9,N9]=rb(md),[Jo,yE]=is(md,[N9,wc,Mm]),Lm=wc(),bE=Mm(),[S9,el]=Jo(md),[C9,pd]=Jo(md),vE=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:o,onOpenChange:l,modal:c=!0}=e,d=Lm(t),[f,m]=x.useState(null),g=x.useRef(!1),p=ts(l),v=Cm(o);return x.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(db,{...d,children:n.jsx(S9,{scope:t,open:r,onOpenChange:p,content:f,onContentChange:m,children:n.jsx(C9,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:g,dir:v,modal:c,children:a})})})};vE.displayName=md;var E9="MenuAnchor",mb=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,o=Lm(r);return n.jsx(Dm,{...o,...a,ref:t})});mb.displayName=E9;var pb="MenuPortal",[A9,wE]=Jo(pb,{forceMount:void 0}),jE=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:o}=e,l=el(pb,t);return n.jsx(A9,{scope:t,forceMount:r,children:n.jsx(os,{present:r||l.open,children:n.jsx(dd,{asChild:!0,container:o,children:a})})})};jE.displayName=pb;var $a="MenuContent",[T9,gb]=Jo($a),kE=x.forwardRef((e,t)=>{const r=wE($a,e.__scopeMenu),{forceMount:a=r.forceMount,...o}=e,l=el($a,e.__scopeMenu),c=pd($a,e.__scopeMenu);return n.jsx(Qu.Provider,{scope:e.__scopeMenu,children:n.jsx(os,{present:a||l.open,children:n.jsx(Qu.Slot,{scope:e.__scopeMenu,children:c.modal?n.jsx(R9,{...o,ref:t}):n.jsx(_9,{...o,ref:t})})})})}),R9=x.forwardRef((e,t)=>{const r=el($a,e.__scopeMenu),a=x.useRef(null),o=Jt(t,a);return x.useEffect(()=>{const l=a.current;if(l)return Om(l)},[]),n.jsx(xb,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Qe(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),_9=x.forwardRef((e,t)=>{const r=el($a,e.__scopeMenu);return n.jsx(xb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),D9=Zi("MenuContent.ScrollLock"),xb=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:v,onDismiss:b,disableOutsideScroll:j,...k}=e,N=el($a,r),S=pd($a,r),C=Lm(r),A=bE(r),I=k9(r),[D,T]=x.useState(null),B=x.useRef(null),X=Jt(t,B,N.onContentChange),Y=x.useRef(0),K=x.useRef(""),le=x.useRef(0),L=x.useRef(null),W=x.useRef("right"),Q=x.useRef(0),Z=j?hd:x.Fragment,U=j?{as:D9,allowPinchZoom:!0}:void 0,G=V=>{const R=K.current+V,_=I().filter(ce=>!ce.disabled),$=document.activeElement,z=_.find(ce=>ce.ref.current===$)?.textValue,ue=_.map(ce=>ce.textValue),ve=q9(ue,R,z),re=_.find(ce=>ce.textValue===ve)?.ref.current;(function ce(Me){K.current=Me,window.clearTimeout(Y.current),Me!==""&&(Y.current=window.setTimeout(()=>ce(""),1e3))})(R),re&&setTimeout(()=>re.focus())};x.useEffect(()=>()=>window.clearTimeout(Y.current),[]),Em();const F=x.useCallback(V=>W.current===L.current?.side&&G9(V,L.current?.area),[]);return n.jsx(T9,{scope:r,searchRef:K,onItemEnter:x.useCallback(V=>{F(V)&&V.preventDefault()},[F]),onItemLeave:x.useCallback(V=>{F(V)||(B.current?.focus(),T(null))},[F]),onTriggerLeave:x.useCallback(V=>{F(V)&&V.preventDefault()},[F]),pointerGraceTimerRef:le,onPointerGraceIntentChange:x.useCallback(V=>{L.current=V},[]),children:n.jsx(Z,{...U,children:n.jsx(cd,{asChild:!0,trapped:o,onMountAutoFocus:Qe(l,V=>{V.preventDefault(),B.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:n.jsx(ld,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:v,onDismiss:b,children:n.jsx(oE,{asChild:!0,...A,dir:S.dir,orientation:"vertical",loop:a,currentTabStopId:D,onCurrentTabStopIdChange:T,onEntryFocus:Qe(f,V=>{S.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(fb,{role:"menu","aria-orientation":"vertical","data-state":IE(N.open),"data-radix-menu-content":"",dir:S.dir,...C,...k,ref:X,style:{outline:"none",...k.style},onKeyDown:Qe(k.onKeyDown,V=>{const _=V.target.closest("[data-radix-menu-content]")===V.currentTarget,$=V.ctrlKey||V.altKey||V.metaKey,z=V.key.length===1;_&&(V.key==="Tab"&&V.preventDefault(),!$&&z&&G(V.key));const ue=B.current;if(V.target!==ue||!v9.includes(V.key))return;V.preventDefault();const re=I().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);xE.includes(V.key)&&re.reverse(),U9(re)}),onBlur:Qe(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(Y.current),K.current="")}),onPointerMove:Qe(e.onPointerMove,Zu(V=>{const R=V.target,_=Q.current!==V.clientX;if(V.currentTarget.contains(R)&&_){const $=V.clientX>Q.current?"right":"left";W.current=$,Q.current=V.clientX}}))})})})})})})});kE.displayName=$a;var M9="MenuGroup",yb=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(ut.div,{role:"group",...a,ref:t})});yb.displayName=M9;var O9="MenuLabel",NE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(ut.div,{...a,ref:t})});NE.displayName=O9;var Yh="MenuItem",gN="menu.itemSelect",zm=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...o}=e,l=x.useRef(null),c=pd(Yh,e.__scopeMenu),d=gb(Yh,e.__scopeMenu),f=Jt(t,l),m=x.useRef(!1),g=()=>{const p=l.current;if(!r&&p){const v=new CustomEvent(gN,{bubbles:!0,cancelable:!0});p.addEventListener(gN,b=>a?.(b),{once:!0}),q2(p,v),v.defaultPrevented?m.current=!1:c.onClose()}};return n.jsx(SE,{...o,ref:f,disabled:r,onClick:Qe(e.onClick,g),onPointerDown:p=>{e.onPointerDown?.(p),m.current=!0},onPointerUp:Qe(e.onPointerUp,p=>{m.current||p.currentTarget?.click()}),onKeyDown:Qe(e.onKeyDown,p=>{const v=d.searchRef.current!=="";r||v&&p.key===" "||qx.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});zm.displayName=Yh;var SE=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:o,...l}=e,c=gb(Yh,r),d=bE(r),f=x.useRef(null),m=Jt(t,f),[g,p]=x.useState(!1),[v,b]=x.useState("");return x.useEffect(()=>{const j=f.current;j&&b((j.textContent??"").trim())},[l.children]),n.jsx(Qu.ItemSlot,{scope:r,disabled:a,textValue:o??v,children:n.jsx(lE,{asChild:!0,...d,focusable:!a,children:n.jsx(ut.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:m,onPointerMove:Qe(e.onPointerMove,Zu(j=>{a?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(e.onPointerLeave,Zu(j=>c.onItemLeave(j))),onFocus:Qe(e.onFocus,()=>p(!0)),onBlur:Qe(e.onBlur,()=>p(!1))})})})}),P9="MenuCheckboxItem",CE=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...o}=e;return n.jsx(_E,{scope:e.__scopeMenu,checked:r,children:n.jsx(zm,{role:"menuitemcheckbox","aria-checked":Kh(r)?"mixed":r,...o,ref:t,"data-state":vb(r),onSelect:Qe(o.onSelect,()=>a?.(Kh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});CE.displayName=P9;var EE="MenuRadioGroup",[L9,z9]=Jo(EE,{value:void 0,onValueChange:()=>{}}),AE=x.forwardRef((e,t)=>{const{value:r,onValueChange:a,...o}=e,l=ts(a);return n.jsx(L9,{scope:e.__scopeMenu,value:r,onValueChange:l,children:n.jsx(yb,{...o,ref:t})})});AE.displayName=EE;var TE="MenuRadioItem",RE=x.forwardRef((e,t)=>{const{value:r,...a}=e,o=z9(TE,e.__scopeMenu),l=r===o.value;return n.jsx(_E,{scope:e.__scopeMenu,checked:l,children:n.jsx(zm,{role:"menuitemradio","aria-checked":l,...a,ref:t,"data-state":vb(l),onSelect:Qe(a.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});RE.displayName=TE;var bb="MenuItemIndicator",[_E,F9]=Jo(bb,{checked:!1}),DE=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...o}=e,l=F9(bb,r);return n.jsx(os,{present:a||Kh(l.checked)||l.checked===!0,children:n.jsx(ut.span,{...o,ref:t,"data-state":vb(l.checked)})})});DE.displayName=bb;var I9="MenuSeparator",ME=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(ut.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});ME.displayName=I9;var B9="MenuArrow",OE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,o=Lm(r);return n.jsx(hb,{...o,...a,ref:t})});OE.displayName=B9;var $9="MenuSub",[iZ,PE]=Jo($9),Ou="MenuSubTrigger",LE=x.forwardRef((e,t)=>{const r=el(Ou,e.__scopeMenu),a=pd(Ou,e.__scopeMenu),o=PE(Ou,e.__scopeMenu),l=gb(Ou,e.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,m={__scopeMenu:e.__scopeMenu},g=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),f(null)}},[d,f]),n.jsx(mb,{asChild:!0,...m,children:n.jsx(SE,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":IE(r.open),...e,ref:si(t,o.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Qe(e.onPointerMove,Zu(p=>{l.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:Qe(e.onPointerLeave,Zu(p=>{g();const v=r.content?.getBoundingClientRect();if(v){const b=r.content?.dataset.side,j=b==="right",k=j?-5:5,N=v[j?"left":"right"],S=v[j?"right":"left"];l.onPointerGraceIntentChange({area:[{x:p.clientX+k,y:p.clientY},{x:N,y:v.top},{x:S,y:v.top},{x:S,y:v.bottom},{x:N,y:v.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(p),p.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(e.onKeyDown,p=>{const v=l.searchRef.current!=="";e.disabled||v&&p.key===" "||w9[a.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});LE.displayName=Ou;var zE="MenuSubContent",FE=x.forwardRef((e,t)=>{const r=wE($a,e.__scopeMenu),{forceMount:a=r.forceMount,...o}=e,l=el($a,e.__scopeMenu),c=pd($a,e.__scopeMenu),d=PE(zE,e.__scopeMenu),f=x.useRef(null),m=Jt(t,f);return n.jsx(Qu.Provider,{scope:e.__scopeMenu,children:n.jsx(os,{present:a||l.open,children:n.jsx(Qu.Slot,{scope:e.__scopeMenu,children:n.jsx(xb,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{c.isUsingKeyboardRef.current&&f.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Qe(e.onFocusOutside,g=>{g.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Qe(e.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:Qe(e.onKeyDown,g=>{const p=g.currentTarget.contains(g.target),v=j9[c.dir].includes(g.key);p&&v&&(l.onOpenChange(!1),d.trigger?.focus(),g.preventDefault())})})})})})});FE.displayName=zE;function IE(e){return e?"open":"closed"}function Kh(e){return e==="indeterminate"}function vb(e){return Kh(e)?"indeterminate":e?"checked":"unchecked"}function U9(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function H9(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function q9(e,t,r){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=H9(e,Math.max(l,0));o.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function V9(e,t){const{x:r,y:a}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],m=d.x,g=d.y,p=f.x,v=f.y;g>a!=v>a&&r<(p-m)*(a-g)/(v-g)+m&&(o=!o)}return o}function G9(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return V9(r,t)}function Zu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Y9=vE,K9=mb,X9=jE,W9=kE,Q9=yb,Z9=NE,J9=zm,eF=CE,tF=AE,rF=RE,nF=DE,aF=ME,sF=OE,iF=LE,oF=FE,Fm="DropdownMenu",[lF]=is(Fm,[yE]),qn=yE(),[cF,BE]=lF(Fm),$E=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:o,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,f=qn(t),m=x.useRef(null),[g,p]=$o({prop:o,defaultProp:l??!1,onChange:c,caller:Fm});return n.jsx(cF,{scope:t,triggerId:jn(),triggerRef:m,contentId:jn(),open:g,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(v=>!v),[p]),modal:d,children:n.jsx(Y9,{...f,open:g,onOpenChange:p,dir:a,modal:d,children:r})})};$E.displayName=Fm;var UE="DropdownMenuTrigger",HE=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...o}=e,l=BE(UE,r),c=qn(r);return n.jsx(K9,{asChild:!0,...c,children:n.jsx(ut.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...o,ref:si(t,l.triggerRef),onPointerDown:Qe(e.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Qe(e.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});HE.displayName=UE;var uF="DropdownMenuPortal",qE=e=>{const{__scopeDropdownMenu:t,...r}=e,a=qn(t);return n.jsx(X9,{...a,...r})};qE.displayName=uF;var VE="DropdownMenuContent",GE=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=BE(VE,r),l=qn(r),c=x.useRef(!1);return n.jsx(W9,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...a,ref:t,onCloseAutoFocus:Qe(e.onCloseAutoFocus,d=>{c.current||o.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Qe(e.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;(!o.modal||g)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GE.displayName=VE;var dF="DropdownMenuGroup",fF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(Q9,{...o,...a,ref:t})});fF.displayName=dF;var hF="DropdownMenuLabel",YE=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(Z9,{...o,...a,ref:t})});YE.displayName=hF;var mF="DropdownMenuItem",KE=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(J9,{...o,...a,ref:t})});KE.displayName=mF;var pF="DropdownMenuCheckboxItem",gF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(eF,{...o,...a,ref:t})});gF.displayName=pF;var xF="DropdownMenuRadioGroup",yF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(tF,{...o,...a,ref:t})});yF.displayName=xF;var bF="DropdownMenuRadioItem",vF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(rF,{...o,...a,ref:t})});vF.displayName=bF;var wF="DropdownMenuItemIndicator",jF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(nF,{...o,...a,ref:t})});jF.displayName=wF;var kF="DropdownMenuSeparator",XE=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(aF,{...o,...a,ref:t})});XE.displayName=kF;var NF="DropdownMenuArrow",SF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(sF,{...o,...a,ref:t})});SF.displayName=NF;var CF="DropdownMenuSubTrigger",EF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(iF,{...o,...a,ref:t})});EF.displayName=CF;var AF="DropdownMenuSubContent",TF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,o=qn(r);return n.jsx(oF,{...o,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TF.displayName=AF;var RF=$E,_F=HE,DF=qE,MF=GE,OF=YE,PF=KE,LF=XE;function Vx({...e}){return n.jsx(RF,{"data-slot":"dropdown-menu",...e})}function Gx({...e}){return n.jsx(_F,{"data-slot":"dropdown-menu-trigger",...e})}function Yx({className:e,sideOffset:t=4,...r}){return n.jsx(DF,{children:n.jsx(MF,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ot("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function zu({className:e,inset:t,variant:r="default",...a}){return n.jsx(PF,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:ot("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function zF({className:e,inset:t,...r}){return n.jsx(OF,{"data-slot":"dropdown-menu-label","data-inset":t,className:ot("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function Kx({className:e,...t}){return n.jsx(LF,{"data-slot":"dropdown-menu-separator",className:ot("bg-border -mx-1 my-1 h-px",e),...t})}var Im="Dialog",[WE,QE]=is(Im),[FF,ls]=WE(Im),ZE=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=x.useRef(null),f=x.useRef(null),[m,g]=$o({prop:a,defaultProp:o??!1,onChange:l,caller:Im});return n.jsx(FF,{scope:t,triggerRef:d,contentRef:f,contentId:jn(),titleId:jn(),descriptionId:jn(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(p=>!p),[g]),modal:c,children:r})};ZE.displayName=Im;var JE="DialogTrigger",eA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,o=ls(JE,r),l=Jt(t,o.triggerRef);return n.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":kb(o.open),...a,ref:l,onClick:Qe(e.onClick,o.onOpenToggle)})});eA.displayName=JE;var wb="DialogPortal",[IF,tA]=WE(wb,{forceMount:void 0}),rA=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:o}=e,l=ls(wb,t);return n.jsx(IF,{scope:t,forceMount:r,children:x.Children.map(a,c=>n.jsx(os,{present:r||l.open,children:n.jsx(dd,{asChild:!0,container:o,children:c})}))})};rA.displayName=wb;var Xh="DialogOverlay",nA=x.forwardRef((e,t)=>{const r=tA(Xh,e.__scopeDialog),{forceMount:a=r.forceMount,...o}=e,l=ls(Xh,e.__scopeDialog);return l.modal?n.jsx(os,{present:a||l.open,children:n.jsx($F,{...o,ref:t})}):null});nA.displayName=Xh;var BF=Zi("DialogOverlay.RemoveScroll"),$F=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,o=ls(Xh,r);return n.jsx(hd,{as:BF,allowPinchZoom:!0,shards:[o.contentRef],children:n.jsx(ut.div,{"data-state":kb(o.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Ho="DialogContent",aA=x.forwardRef((e,t)=>{const r=tA(Ho,e.__scopeDialog),{forceMount:a=r.forceMount,...o}=e,l=ls(Ho,e.__scopeDialog);return n.jsx(os,{present:a||l.open,children:l.modal?n.jsx(UF,{...o,ref:t}):n.jsx(HF,{...o,ref:t})})});aA.displayName=Ho;var UF=x.forwardRef((e,t)=>{const r=ls(Ho,e.__scopeDialog),a=x.useRef(null),o=Jt(t,r.contentRef,a);return x.useEffect(()=>{const l=a.current;if(l)return Om(l)},[]),n.jsx(sA,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,l=>l.preventDefault())})}),HF=x.forwardRef((e,t)=>{const r=ls(Ho,e.__scopeDialog),a=x.useRef(!1),o=x.useRef(!1);return n.jsx(sA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),sA=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,d=ls(Ho,r),f=x.useRef(null),m=Jt(t,f);return Em(),n.jsxs(n.Fragment,{children:[n.jsx(cd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:n.jsx(ld,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":kb(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(VF,{titleId:d.titleId}),n.jsx(YF,{contentRef:f,descriptionId:d.descriptionId})]})]})}),jb="DialogTitle",iA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,o=ls(jb,r);return n.jsx(ut.h2,{id:o.titleId,...a,ref:t})});iA.displayName=jb;var oA="DialogDescription",lA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,o=ls(oA,r);return n.jsx(ut.p,{id:o.descriptionId,...a,ref:t})});lA.displayName=oA;var cA="DialogClose",uA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,o=ls(cA,r);return n.jsx(ut.button,{type:"button",...a,ref:t,onClick:Qe(e.onClick,()=>o.onOpenChange(!1))})});uA.displayName=cA;function kb(e){return e?"open":"closed"}var dA="DialogTitleWarning",[qF,fA]=MM(dA,{contentName:Ho,titleName:jb,docsSlug:"dialog"}),VF=({titleId:e})=>{const t=fA(dA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},GF="DialogDescriptionWarning",YF=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fA(GF).contentName}}.`;return x.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Nb=ZE,hA=eA,Sb=rA,Cb=nA,Eb=aA,mA=iA,pA=lA,Bm=uA;function _r({...e}){return n.jsx(Nb,{"data-slot":"dialog",...e})}function Fu({...e}){return n.jsx(hA,{"data-slot":"dialog-trigger",...e})}function KF({...e}){return n.jsx(Sb,{"data-slot":"dialog-portal",...e})}function gA({...e}){return n.jsx(Bm,{"data-slot":"dialog-close",...e})}function XF({className:e,...t}){return n.jsx(Cb,{"data-slot":"dialog-overlay",className:ot("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Xr({className:e,children:t,showCloseButton:r=!0,fullScreen:a=!1,...o}){return n.jsxs(KF,{"data-slot":"dialog-portal",children:[n.jsx(XF,{}),n.jsxs(Eb,{"data-slot":"dialog-content",className:ot(a?"fixed inset-0 z-50 w-screen h-screen bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0":"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[t,r&&!a&&n.jsxs(Bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(tn,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function an({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-header",className:ot("flex flex-col gap-2 text-center sm:text-left",e),...t})}function WF({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-footer",className:ot("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function sn({className:e,...t}){return n.jsx(mA,{"data-slot":"dialog-title",className:ot("text-lg leading-none font-semibold",e),...t})}function Ha({className:e,...t}){return n.jsx(pA,{"data-slot":"dialog-description",className:ot("text-muted-foreground text-sm",e),...t})}function Te({className:e,...t}){return n.jsx("div",{"data-slot":"card",className:ot("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Zl({className:e,...t}){return n.jsx("div",{"data-slot":"card-header",className:ot("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Jl({className:e,...t}){return n.jsx("div",{"data-slot":"card-title",className:ot("leading-none font-semibold",e),...t})}function Dn({className:e,...t}){return n.jsx("div",{"data-slot":"card-content",className:ot("px-6",e),...t})}function st({className:e,type:t,...r}){return n.jsx("input",{type:t,"data-slot":"input",className:ot("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var QF="Label",xA=x.forwardRef((e,t)=>n.jsx(ut.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xA.displayName=QF;var ZF=xA;function Ht({className:e,...t}){return n.jsx(ZF,{"data-slot":"label",className:ot("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function yA(e,t){return function(){return e.apply(t,arguments)}}const{toString:JF}=Object.prototype,{getPrototypeOf:Ab}=Object,{iterator:$m,toStringTag:bA}=Symbol,Um=(e=>t=>{const r=JF.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cs=e=>(e=e.toLowerCase(),t=>Um(t)===e),Hm=e=>t=>typeof t===e,{isArray:jc}=Array,cc=Hm("undefined");function gd(e){return e!==null&&!cc(e)&&e.constructor!==null&&!cc(e.constructor)&&ra(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vA=cs("ArrayBuffer");function eI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vA(e.buffer),t}const tI=Hm("string"),ra=Hm("function"),wA=Hm("number"),xd=e=>e!==null&&typeof e=="object",rI=e=>e===!0||e===!1,Nh=e=>{if(Um(e)!=="object")return!1;const t=Ab(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bA in e)&&!($m in e)},nI=e=>{if(!xd(e)||gd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},aI=cs("Date"),sI=cs("File"),iI=cs("Blob"),oI=cs("FileList"),lI=e=>xd(e)&&ra(e.pipe),cI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ra(e.append)&&((t=Um(e))==="formdata"||t==="object"&&ra(e.toString)&&e.toString()==="[object FormData]"))},uI=cs("URLSearchParams"),[dI,fI,hI,mI]=["ReadableStream","Request","Response","Headers"].map(cs),pI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,o;if(typeof e!="object"&&(e=[e]),jc(e))for(a=0,o=e.length;a<o;a++)t.call(null,e[a],a,e);else{if(gd(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let d;for(a=0;a<c;a++)d=l[a],t.call(null,e[d],d,e)}}function jA(e,t){if(gd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,o;for(;a-- >0;)if(o=r[a],t===o.toLowerCase())return o;return null}const zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kA=e=>!cc(e)&&e!==zo;function Xx(){const{caseless:e,skipUndefined:t}=kA(this)&&this||{},r={},a=(o,l)=>{const c=e&&jA(r,l)||l;Nh(r[c])&&Nh(o)?r[c]=Xx(r[c],o):Nh(o)?r[c]=Xx({},o):jc(o)?r[c]=o.slice():(!t||!cc(o))&&(r[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&yd(arguments[o],a);return r}const gI=(e,t,r,{allOwnKeys:a}={})=>(yd(t,(o,l)=>{r&&ra(o)?e[l]=yA(o,r):e[l]=o},{allOwnKeys:a}),e),xI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yI=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},bI=(e,t,r,a)=>{let o,l,c;const d={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!a||a(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=r!==!1&&Ab(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vI=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},wI=e=>{if(!e)return null;if(jc(e))return e;let t=e.length;if(!wA(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},jI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ab(Uint8Array)),kI=(e,t)=>{const a=(e&&e[$m]).call(e);let o;for(;(o=a.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},NI=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},SI=cs("HTMLFormElement"),CI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,o){return a.toUpperCase()+o}),xN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),EI=cs("RegExp"),NA=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};yd(r,(o,l)=>{let c;(c=t(o,l,e))!==!1&&(a[l]=c||o)}),Object.defineProperties(e,a)},AI=e=>{NA(e,(t,r)=>{if(ra(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(ra(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},TI=(e,t)=>{const r={},a=o=>{o.forEach(l=>{r[l]=!0})};return jc(e)?a(e):a(String(e).split(t)),r},RI=()=>{},_I=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function DI(e){return!!(e&&ra(e.append)&&e[bA]==="FormData"&&e[$m])}const MI=e=>{const t=new Array(10),r=(a,o)=>{if(xd(a)){if(t.indexOf(a)>=0)return;if(gd(a))return a;if(!("toJSON"in a)){t[o]=a;const l=jc(a)?[]:{};return yd(a,(c,d)=>{const f=r(c,o+1);!cc(f)&&(l[d]=f)}),t[o]=void 0,l}}return a};return r(e,0)},OI=cs("AsyncFunction"),PI=e=>e&&(xd(e)||ra(e))&&ra(e.then)&&ra(e.catch),SA=((e,t)=>e?setImmediate:t?((r,a)=>(zo.addEventListener("message",({source:o,data:l})=>{o===zo&&l===r&&a.length&&a.shift()()},!1),o=>{a.push(o),zo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ra(zo.postMessage)),LI=typeof queueMicrotask<"u"?queueMicrotask.bind(zo):typeof process<"u"&&process.nextTick||SA,zI=e=>e!=null&&ra(e[$m]),we={isArray:jc,isArrayBuffer:vA,isBuffer:gd,isFormData:cI,isArrayBufferView:eI,isString:tI,isNumber:wA,isBoolean:rI,isObject:xd,isPlainObject:Nh,isEmptyObject:nI,isReadableStream:dI,isRequest:fI,isResponse:hI,isHeaders:mI,isUndefined:cc,isDate:aI,isFile:sI,isBlob:iI,isRegExp:EI,isFunction:ra,isStream:lI,isURLSearchParams:uI,isTypedArray:jI,isFileList:oI,forEach:yd,merge:Xx,extend:gI,trim:pI,stripBOM:xI,inherits:yI,toFlatObject:bI,kindOf:Um,kindOfTest:cs,endsWith:vI,toArray:wI,forEachEntry:kI,matchAll:NI,isHTMLForm:SI,hasOwnProperty:xN,hasOwnProp:xN,reduceDescriptors:NA,freezeMethods:AI,toObjectSet:TI,toCamelCase:CI,noop:RI,toFiniteNumber:_I,findKey:jA,global:zo,isContextDefined:kA,isSpecCompliantForm:DI,toJSONObject:MI,isAsyncFn:OI,isThenable:PI,setImmediate:SA,asap:LI,isIterable:zI};function St(e,t,r,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}we.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});const CA=St.prototype,EA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EA[e]={value:e}});Object.defineProperties(St,EA);Object.defineProperty(CA,"isAxiosError",{value:!0});St.from=(e,t,r,a,o,l)=>{const c=Object.create(CA);we.toFlatObject(e,c,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const d=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return St.call(c,d,f,r,a,o),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",l&&Object.assign(c,l),c};const FI=null;function Wx(e){return we.isPlainObject(e)||we.isArray(e)}function AA(e){return we.endsWith(e,"[]")?e.slice(0,-2):e}function yN(e,t,r){return e?e.concat(t).map(function(o,l){return o=AA(o),!r&&l?"["+o+"]":o}).join(r?".":""):t}function II(e){return we.isArray(e)&&!e.some(Wx)}const BI=we.toFlatObject(we,{},null,function(t){return/^is[A-Z]/.test(t)});function qm(e,t,r){if(!we.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=we.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,N){return!we.isUndefined(N[k])});const a=r.metaTokens,o=r.visitor||g,l=r.dots,c=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(t);if(!we.isFunction(o))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(we.isDate(j))return j.toISOString();if(we.isBoolean(j))return j.toString();if(!f&&we.isBlob(j))throw new St("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(j)||we.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function g(j,k,N){let S=j;if(j&&!N&&typeof j=="object"){if(we.endsWith(k,"{}"))k=a?k:k.slice(0,-2),j=JSON.stringify(j);else if(we.isArray(j)&&II(j)||(we.isFileList(j)||we.endsWith(k,"[]"))&&(S=we.toArray(j)))return k=AA(k),S.forEach(function(A,I){!(we.isUndefined(A)||A===null)&&t.append(c===!0?yN([k],I,l):c===null?k:k+"[]",m(A))}),!1}return Wx(j)?!0:(t.append(yN(N,k,l),m(j)),!1)}const p=[],v=Object.assign(BI,{defaultVisitor:g,convertValue:m,isVisitable:Wx});function b(j,k){if(!we.isUndefined(j)){if(p.indexOf(j)!==-1)throw Error("Circular reference detected in "+k.join("."));p.push(j),we.forEach(j,function(S,C){(!(we.isUndefined(S)||S===null)&&o.call(t,S,we.isString(C)?C.trim():C,k,v))===!0&&b(S,k?k.concat(C):[C])}),p.pop()}}if(!we.isObject(e))throw new TypeError("data must be an object");return b(e),t}function bN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Tb(e,t){this._pairs=[],e&&qm(e,this,t)}const TA=Tb.prototype;TA.append=function(t,r){this._pairs.push([t,r])};TA.toString=function(t){const r=t?function(a){return t.call(this,a,bN)}:bN;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function $I(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RA(e,t,r){if(!t)return e;const a=r&&r.encode||$I;we.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let l;if(o?l=o(t,r):l=we.isURLSearchParams(t)?t.toString():new Tb(t,r).toString(a),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class vN{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){we.forEach(this.handlers,function(a){a!==null&&t(a)})}}const _A={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UI=typeof URLSearchParams<"u"?URLSearchParams:Tb,HI=typeof FormData<"u"?FormData:null,qI=typeof Blob<"u"?Blob:null,VI={isBrowser:!0,classes:{URLSearchParams:UI,FormData:HI,Blob:qI},protocols:["http","https","file","blob","url","data"]},Rb=typeof window<"u"&&typeof document<"u",Qx=typeof navigator=="object"&&navigator||void 0,GI=Rb&&(!Qx||["ReactNative","NativeScript","NS"].indexOf(Qx.product)<0),YI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KI=Rb&&window.location.href||"http://localhost",XI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rb,hasStandardBrowserEnv:GI,hasStandardBrowserWebWorkerEnv:YI,navigator:Qx,origin:KI},Symbol.toStringTag,{value:"Module"})),Tn={...XI,...VI};function WI(e,t){return qm(e,new Tn.classes.URLSearchParams,{visitor:function(r,a,o,l){return Tn.isNode&&we.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function QI(e){return we.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ZI(e){const t={},r=Object.keys(e);let a;const o=r.length;let l;for(a=0;a<o;a++)l=r[a],t[l]=e[l];return t}function DA(e){function t(r,a,o,l){let c=r[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=l>=r.length;return c=!c&&we.isArray(o)?o.length:c,f?(we.hasOwnProp(o,c)?o[c]=[o[c],a]:o[c]=a,!d):((!o[c]||!we.isObject(o[c]))&&(o[c]=[]),t(r,a,o[c],l)&&we.isArray(o[c])&&(o[c]=ZI(o[c])),!d)}if(we.isFormData(e)&&we.isFunction(e.entries)){const r={};return we.forEachEntry(e,(a,o)=>{t(QI(a),o,r,0)}),r}return null}function JI(e,t,r){if(we.isString(e))try{return(t||JSON.parse)(e),we.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const bd={transitional:_A,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",o=a.indexOf("application/json")>-1,l=we.isObject(t);if(l&&we.isHTMLForm(t)&&(t=new FormData(t)),we.isFormData(t))return o?JSON.stringify(DA(t)):t;if(we.isArrayBuffer(t)||we.isBuffer(t)||we.isStream(t)||we.isFile(t)||we.isBlob(t)||we.isReadableStream(t))return t;if(we.isArrayBufferView(t))return t.buffer;if(we.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return WI(t,this.formSerializer).toString();if((d=we.isFileList(t))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return qm(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||o?(r.setContentType("application/json",!1),JI(t)):t}],transformResponse:[function(t){const r=this.transitional||bd.transitional,a=r&&r.forcedJSONParsing,o=this.responseType==="json";if(we.isResponse(t)||we.isReadableStream(t))return t;if(t&&we.isString(t)&&(a&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?St.from(d,St.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],e=>{bd.headers[e]={}});const eB=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tB=e=>{const t={};let r,a,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),a=c.substring(o+1).trim(),!(!r||t[r]&&eB[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},wN=Symbol("internals");function ju(e){return e&&String(e).trim().toLowerCase()}function Sh(e){return e===!1||e==null?e:we.isArray(e)?e.map(Sh):String(e)}function rB(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const nB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function B0(e,t,r,a,o){if(we.isFunction(a))return a.call(this,t,r);if(o&&(t=r),!!we.isString(t)){if(we.isString(a))return t.indexOf(a)!==-1;if(we.isRegExp(a))return a.test(t)}}function aB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function sB(e,t){const r=we.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(o,l,c){return this[a].call(this,t,o,l,c)},configurable:!0})})}let na=class{constructor(t){t&&this.set(t)}set(t,r,a){const o=this;function l(d,f,m){const g=ju(f);if(!g)throw new Error("header name must be a non-empty string");const p=we.findKey(o,g);(!p||o[p]===void 0||m===!0||m===void 0&&o[p]!==!1)&&(o[p||f]=Sh(d))}const c=(d,f)=>we.forEach(d,(m,g)=>l(m,g,f));if(we.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(we.isString(t)&&(t=t.trim())&&!nB(t))c(tB(t),r);else if(we.isObject(t)&&we.isIterable(t)){let d={},f,m;for(const g of t){if(!we.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(f=d[m])?we.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}c(d,r)}else t!=null&&l(r,t,a);return this}get(t,r){if(t=ju(t),t){const a=we.findKey(this,t);if(a){const o=this[a];if(!r)return o;if(r===!0)return rB(o);if(we.isFunction(r))return r.call(this,o,a);if(we.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ju(t),t){const a=we.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||B0(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let o=!1;function l(c){if(c=ju(c),c){const d=we.findKey(a,c);d&&(!r||B0(a,a[d],d,r))&&(delete a[d],o=!0)}}return we.isArray(t)?t.forEach(l):l(t),o}clear(t){const r=Object.keys(this);let a=r.length,o=!1;for(;a--;){const l=r[a];(!t||B0(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const r=this,a={};return we.forEach(this,(o,l)=>{const c=we.findKey(a,l);if(c){r[c]=Sh(o),delete r[l];return}const d=t?aB(l):String(l).trim();d!==l&&delete r[l],r[d]=Sh(o),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return we.forEach(this,(a,o)=>{a!=null&&a!==!1&&(r[o]=t&&we.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(o=>a.set(o)),a}static accessor(t){const a=(this[wN]=this[wN]={accessors:{}}).accessors,o=this.prototype;function l(c){const d=ju(c);a[d]||(sB(o,c),a[d]=!0)}return we.isArray(t)?t.forEach(l):l(t),this}};na.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(na.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});we.freezeMethods(na);function $0(e,t){const r=this||bd,a=t||r,o=na.from(a.headers);let l=a.data;return we.forEach(e,function(d){l=d.call(r,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function MA(e){return!!(e&&e.__CANCEL__)}function kc(e,t,r){St.call(this,e??"canceled",St.ERR_CANCELED,t,r),this.name="CanceledError"}we.inherits(kc,St,{__CANCEL__:!0});function OA(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new St("Request failed with status code "+r.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function iB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oB(e,t){e=e||10;const r=new Array(e),a=new Array(e);let o=0,l=0,c;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),g=a[l];c||(c=m),r[o]=f,a[o]=m;let p=l,v=0;for(;p!==o;)v+=r[p++],p=p%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),m-c<t)return;const b=g&&m-g;return b?Math.round(v*1e3/b):void 0}}function lB(e,t){let r=0,a=1e3/t,o,l;const c=(m,g=Date.now())=>{r=g,o=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const g=Date.now(),p=g-r;p>=a?c(m,g):(o=m,l||(l=setTimeout(()=>{l=null,c(o)},a-p)))},()=>o&&c(o)]}const Wh=(e,t,r=3)=>{let a=0;const o=oB(50,250);return lB(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,f=c-a,m=o(f),g=c<=d;a=c;const p={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&g?(d-c)/m:void 0,event:l,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(p)},r)},jN=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},kN=e=>(...t)=>we.asap(()=>e(...t)),cB=Tn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Tn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,uB=Tn.hasStandardBrowserEnv?{write(e,t,r,a,o,l){const c=[e+"="+encodeURIComponent(t)];we.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),we.isString(a)&&c.push("path="+a),we.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function PA(e,t,r){let a=!dB(t);return e&&(a||r==!1)?fB(e,t):t}const NN=e=>e instanceof na?{...e}:e;function qo(e,t){t=t||{};const r={};function a(m,g,p,v){return we.isPlainObject(m)&&we.isPlainObject(g)?we.merge.call({caseless:v},m,g):we.isPlainObject(g)?we.merge({},g):we.isArray(g)?g.slice():g}function o(m,g,p,v){if(we.isUndefined(g)){if(!we.isUndefined(m))return a(void 0,m,p,v)}else return a(m,g,p,v)}function l(m,g){if(!we.isUndefined(g))return a(void 0,g)}function c(m,g){if(we.isUndefined(g)){if(!we.isUndefined(m))return a(void 0,m)}else return a(void 0,g)}function d(m,g,p){if(p in t)return a(m,g);if(p in e)return a(void 0,m)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,g,p)=>o(NN(m),NN(g),p,!0)};return we.forEach(Object.keys({...e,...t}),function(g){const p=f[g]||o,v=p(e[g],t[g],g);we.isUndefined(v)&&p!==d||(r[g]=v)}),r}const LA=e=>{const t=qo({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:d}=t;if(t.headers=c=na.from(c),t.url=RA(PA(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),we.isFormData(r)){if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(we.isFunction(r.getHeaders)){const f=r.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([g,p])=>{m.includes(g.toLowerCase())&&c.set(g,p)})}}if(Tn.hasStandardBrowserEnv&&(a&&we.isFunction(a)&&(a=a(t)),a||a!==!1&&cB(t.url))){const f=o&&l&&uB.read(l);f&&c.set(o,f)}return t},hB=typeof XMLHttpRequest<"u",mB=hB&&function(e){return new Promise(function(r,a){const o=LA(e);let l=o.data;const c=na.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,g,p,v,b,j;function k(){b&&b(),j&&j(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function S(){if(!N)return;const A=na.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),D={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:A,config:e,request:N};OA(function(B){r(B),k()},function(B){a(B),k()},D),N=null}"onloadend"in N?N.onloadend=S:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(S)},N.onabort=function(){N&&(a(new St("Request aborted",St.ECONNABORTED,e,N)),N=null)},N.onerror=function(I){const D=I&&I.message?I.message:"Network Error",T=new St(D,St.ERR_NETWORK,e,N);T.event=I||null,a(T),N=null},N.ontimeout=function(){let I=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const D=o.transitional||_A;o.timeoutErrorMessage&&(I=o.timeoutErrorMessage),a(new St(I,D.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&we.forEach(c.toJSON(),function(I,D){N.setRequestHeader(D,I)}),we.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),d&&d!=="json"&&(N.responseType=o.responseType),m&&([v,j]=Wh(m,!0),N.addEventListener("progress",v)),f&&N.upload&&([p,b]=Wh(f),N.upload.addEventListener("progress",p),N.upload.addEventListener("loadend",b)),(o.cancelToken||o.signal)&&(g=A=>{N&&(a(!A||A.type?new kc(null,e,N):A),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const C=iB(o.url);if(C&&Tn.protocols.indexOf(C)===-1){a(new St("Unsupported protocol "+C+":",St.ERR_BAD_REQUEST,e));return}N.send(l||null)})},pB=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,o;const l=function(m){if(!o){o=!0,d();const g=m instanceof Error?m:this.reason;a.abort(g instanceof St?g:new kc(g instanceof Error?g.message:g))}};let c=t&&setTimeout(()=>{c=null,l(new St(`timeout ${t} of ms exceeded`,St.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:f}=a;return f.unsubscribe=()=>we.asap(d),f}},gB=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,o;for(;a<r;)o=a+t,yield e.slice(a,o),a=o},xB=async function*(e,t){for await(const r of yB(e))yield*gB(r,t)},yB=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},SN=(e,t,r,a)=>{const o=xB(e,t);let l=0,c,d=f=>{c||(c=!0,a&&a(f))};return new ReadableStream({async pull(f){try{const{done:m,value:g}=await o.next();if(m){d(),f.close();return}let p=g.byteLength;if(r){let v=l+=p;r(v)}f.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},CN=64*1024,{isFunction:Wf}=we,bB=(({Request:e,Response:t})=>({Request:e,Response:t}))(we.global),{ReadableStream:EN,TextEncoder:AN}=we.global,TN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vB=e=>{e=we.merge.call({skipUndefined:!0},bB,e);const{fetch:t,Request:r,Response:a}=e,o=t?Wf(t):typeof fetch=="function",l=Wf(r),c=Wf(a);if(!o)return!1;const d=o&&Wf(EN),f=o&&(typeof AN=="function"?(j=>k=>j.encode(k))(new AN):async j=>new Uint8Array(await new r(j).arrayBuffer())),m=l&&d&&TN(()=>{let j=!1;const k=new r(Tn.origin,{body:new EN,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!k}),g=c&&d&&TN(()=>we.isReadableStream(new a("").body)),p={stream:g&&(j=>j.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!p[j]&&(p[j]=(k,N)=>{let S=k&&k[j];if(S)return S.call(k);throw new St(`Response type '${j}' is not supported`,St.ERR_NOT_SUPPORT,N)})});const v=async j=>{if(j==null)return 0;if(we.isBlob(j))return j.size;if(we.isSpecCompliantForm(j))return(await new r(Tn.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(we.isArrayBufferView(j)||we.isArrayBuffer(j))return j.byteLength;if(we.isURLSearchParams(j)&&(j=j+""),we.isString(j))return(await f(j)).byteLength},b=async(j,k)=>{const N=we.toFiniteNumber(j.getContentLength());return N??v(k)};return async j=>{let{url:k,method:N,data:S,signal:C,cancelToken:A,timeout:I,onDownloadProgress:D,onUploadProgress:T,responseType:B,headers:X,withCredentials:Y="same-origin",fetchOptions:K}=LA(j),le=t||fetch;B=B?(B+"").toLowerCase():"text";let L=pB([C,A&&A.toAbortSignal()],I),W=null;const Q=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let Z;try{if(T&&m&&N!=="get"&&N!=="head"&&(Z=await b(X,S))!==0){let _=new r(k,{method:"POST",body:S,duplex:"half"}),$;if(we.isFormData(S)&&($=_.headers.get("content-type"))&&X.setContentType($),_.body){const[z,ue]=jN(Z,Wh(kN(T)));S=SN(_.body,CN,z,ue)}}we.isString(Y)||(Y=Y?"include":"omit");const U=l&&"credentials"in r.prototype,G={...K,signal:L,method:N.toUpperCase(),headers:X.normalize().toJSON(),body:S,duplex:"half",credentials:U?Y:void 0};W=l&&new r(k,G);let F=await(l?le(W,K):le(k,G));const V=g&&(B==="stream"||B==="response");if(g&&(D||V&&Q)){const _={};["status","statusText","headers"].forEach(ve=>{_[ve]=F[ve]});const $=we.toFiniteNumber(F.headers.get("content-length")),[z,ue]=D&&jN($,Wh(kN(D),!0))||[];F=new a(SN(F.body,CN,z,()=>{ue&&ue(),Q&&Q()}),_)}B=B||"text";let R=await p[we.findKey(p,B)||"text"](F,j);return!V&&Q&&Q(),await new Promise((_,$)=>{OA(_,$,{data:R,headers:na.from(F.headers),status:F.status,statusText:F.statusText,config:j,request:W})})}catch(U){throw Q&&Q(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new St("Network Error",St.ERR_NETWORK,j,W),{cause:U.cause||U}):St.from(U,U&&U.code,j,W)}}},wB=new Map,zA=e=>{let t=e?e.env:{};const{fetch:r,Request:a,Response:o}=t,l=[a,o,r];let c=l.length,d=c,f,m,g=wB;for(;d--;)f=l[d],m=g.get(f),m===void 0&&g.set(f,m=d?new Map:vB(t)),g=m;return m};zA();const Zx={http:FI,xhr:mB,fetch:{get:zA}};we.forEach(Zx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const RN=e=>`- ${e}`,jB=e=>we.isFunction(e)||e===null||e===!1,FA={getAdapter:(e,t)=>{e=we.isArray(e)?e:[e];const{length:r}=e;let a,o;const l={};for(let c=0;c<r;c++){a=e[c];let d;if(o=a,!jB(a)&&(o=Zx[(d=String(a)).toLowerCase()],o===void 0))throw new St(`Unknown adapter '${d}'`);if(o&&(we.isFunction(o)||(o=o.get(t))))break;l[d||"#"+c]=o}if(!o){const c=Object.entries(l).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=r?c.length>1?`since :
`+c.map(RN).join(`
`):" "+RN(c[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:Zx};function U0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kc(null,e)}function _N(e){return U0(e),e.headers=na.from(e.headers),e.data=$0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),FA.getAdapter(e.adapter||bd.adapter,e)(e).then(function(a){return U0(e),a.data=$0.call(e,e.transformResponse,a),a.headers=na.from(a.headers),a},function(a){return MA(a)||(U0(e),a&&a.response&&(a.response.data=$0.call(e,e.transformResponse,a.response),a.response.headers=na.from(a.response.headers))),Promise.reject(a)})}const IA="1.12.2",Vm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vm[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const DN={};Vm.transitional=function(t,r,a){function o(l,c){return"[Axios v"+IA+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,d)=>{if(t===!1)throw new St(o(c," has been removed"+(r?" in "+r:"")),St.ERR_DEPRECATED);return r&&!DN[c]&&(DN[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,c,d):!0}};Vm.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function kB(e,t,r){if(typeof e!="object")throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let o=a.length;for(;o-- >0;){const l=a[o],c=t[l];if(c){const d=e[l],f=d===void 0||c(d,l,e);if(f!==!0)throw new St("option "+l+" must be "+f,St.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new St("Unknown option "+l,St.ERR_BAD_OPTION)}}const Ch={assertOptions:kB,validators:Vm},gs=Ch.validators;let Io=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vN,response:new vN}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=qo(this.defaults,r);const{transitional:a,paramsSerializer:o,headers:l}=r;a!==void 0&&Ch.assertOptions(a,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),o!=null&&(we.isFunction(o)?r.paramsSerializer={serialize:o}:Ch.assertOptions(o,{encode:gs.function,serialize:gs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ch.assertOptions(r,{baseUrl:gs.spelling("baseURL"),withXsrfToken:gs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&we.merge(l.common,l[r.method]);l&&we.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),r.headers=na.concat(c,l);const d=[];let f=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(f=f&&k.synchronous,d.unshift(k.fulfilled,k.rejected))});const m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let g,p=0,v;if(!f){const j=[_N.bind(this),void 0];for(j.unshift(...d),j.push(...m),v=j.length,g=Promise.resolve(r);p<v;)g=g.then(j[p++],j[p++]);return g}v=d.length;let b=r;for(;p<v;){const j=d[p++],k=d[p++];try{b=j(b)}catch(N){k.call(this,N);break}}try{g=_N.call(this,b)}catch(j){return Promise.reject(j)}for(p=0,v=m.length;p<v;)g=g.then(m[p++],m[p++]);return g}getUri(t){t=qo(this.defaults,t);const r=PA(t.baseURL,t.url,t.allowAbsoluteUrls);return RA(r,t.params,t.paramsSerializer)}};we.forEach(["delete","get","head","options"],function(t){Io.prototype[t]=function(r,a){return this.request(qo(a||{},{method:t,url:r,data:(a||{}).data}))}});we.forEach(["post","put","patch"],function(t){function r(a){return function(l,c,d){return this.request(qo(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Io.prototype[t]=r(),Io.prototype[t+"Form"]=r(!0)});let NB=class BA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(o=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](o);a._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(d=>{a.subscribe(d),l=d}).then(o);return c.cancel=function(){a.unsubscribe(l)},c},t(function(l,c,d){a.reason||(a.reason=new kc(l,c,d),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new BA(function(o){t=o}),cancel:t}}};function SB(e){return function(r){return e.apply(null,r)}}function CB(e){return we.isObject(e)&&e.isAxiosError===!0}const Jx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jx).forEach(([e,t])=>{Jx[t]=e});function $A(e){const t=new Io(e),r=yA(Io.prototype.request,t);return we.extend(r,Io.prototype,t,{allOwnKeys:!0}),we.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return $A(qo(e,o))},r}const De=$A(bd);De.Axios=Io;De.CanceledError=kc;De.CancelToken=NB;De.isCancel=MA;De.VERSION=IA;De.toFormData=qm;De.AxiosError=St;De.Cancel=De.CanceledError;De.all=function(t){return Promise.all(t)};De.spread=SB;De.isAxiosError=CB;De.mergeConfig=qo;De.AxiosHeaders=na;De.formToJSON=e=>DA(we.isHTMLForm(e)?new FormData(e):e);De.getAdapter=FA.getAdapter;De.HttpStatusCode=Jx;De.default=De;const{Axios:cZ,AxiosError:uZ,CanceledError:dZ,isCancel:fZ,CancelToken:hZ,VERSION:mZ,all:pZ,Cancel:gZ,isAxiosError:xZ,spread:yZ,toFormData:bZ,AxiosHeaders:vZ,HttpStatusCode:wZ,formToJSON:jZ,getAdapter:kZ,mergeConfig:NZ}=De;function EB({open:e,onClose:t,onBackToLogin:r,email:a}){const{theme:o}=it(A=>A.theme),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(""),[p,v]=x.useState(""),[b,j]=x.useState(!1),[k,N]=x.useState(!1),S=A=>{if(!A||!A.includes("@"))return"your email";const[I,D]=A.split("@"),T=I.slice(0,2),B="*".repeat(Math.max(I.length-2,3));return`${T}${B}@${D}`},C=async A=>{if(A.preventDefault(),!m.trim()||!p.trim()){ee.error("Please fill out both password fields.");return}const I=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@]).{8,}$/;if(!I.test(m)||!I.test(p)){ee.error("Password must be at least 8 characters and include 1 uppercase, 1 lowercase, 1 digit, and @ symbol.");return}if(m!==p){ee.error("Passwords do not match.");return}try{N(!0),ee.loading("Resetting password...");const T=await De.post(`https://fyp-buddy.up.railway.app//user/reset-password/${a}`,{newPassword:m,confirmPassword:p});ee.dismiss(),T.data.success&&(ee.success(T.data.message),j(!0),g(""),v(""),setTimeout(()=>{j(!1),t(),setTimeout(()=>r(),500)},2500))}catch(D){ee.dismiss(),console.log(D),D.response?.data?.message&&ee.error(D.response.data.message)}finally{N(!1)}};return n.jsx(_r,{open:e,onOpenChange:t,children:n.jsx(Xr,{className:`sm:max-w-md rounded-3xl backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-2xl p-0 overflow-hidden border-0 transition-all duration-300 ${o==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-3xl bg-gradient-to-br from-white to-purple-50/30 dark:from-gray-800 dark:to-gray-900 transition-all duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-8",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 dark:from-purple-400 dark:to-indigo-500 flex items-center justify-center mb-4 shadow-lg",children:n.jsx(sc,{className:"h-8 w-8 text-white"})}),n.jsxs(an,{className:"text-center",children:[n.jsx(sn,{className:"text-3xl font-bold text-center mb-2",children:n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 dark:from-purple-400 dark:via-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Reset Password"})}),n.jsxs(Ha,{className:"text-gray-600 dark:text-gray-300 text-center text-sm leading-relaxed",children:["Create a new password for"," ",n.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:S(a)})]})]})]}),b?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4 animate-in fade-in duration-500",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center shadow-lg animate-in zoom-in duration-300",children:n.jsx(sc,{className:"h-10 w-10 text-white"})}),n.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-center font-medium leading-relaxed max-w-xs",children:"Password reset successfully! Redirecting to login..."})]}):n.jsxs("form",{onSubmit:C,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{className:"dark:text-gray-100 font-semibold text-sm",htmlFor:"password",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"password",type:l?"text":"password",value:m,onChange:A=>g(A.target.value),placeholder:"Enter new password",required:!0,className:"h-12 border-2 focus:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 dark:bg-gray-700/50 dark:text-gray-100 dark:border-gray-600 pr-12 rounded-xl transition-all duration-200 hover:border-purple-400 dark:hover:border-purple-500"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors duration-200 p-1",children:l?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(ba,{className:"h-5 w-5"})})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Must include uppercase, lowercase, digit, and @ symbol"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{className:"dark:text-gray-100 font-semibold text-sm",htmlFor:"confirm",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"confirm",type:d?"text":"password",value:p,onChange:A=>v(A.target.value),placeholder:"Re-enter your password",required:!0,className:"h-12 border-2 focus:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 dark:bg-gray-700/50 dark:text-gray-100 dark:border-gray-600 pr-12 rounded-xl transition-all duration-200 hover:border-purple-400 dark:hover:border-purple-500"}),n.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors duration-200 p-1",children:d?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(ba,{className:"h-5 w-5"})})]})]}),n.jsx(Pe,{type:"submit",disabled:k,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 dark:from-purple-500 dark:to-indigo-500 dark:hover:from-purple-600 dark:hover:to-indigo-600 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] mt-6",children:k?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"animate-spin h-5 w-5"}),"Saving..."]}):"Save Password"})]}),n.jsx("div",{className:"pt-6 mt-4 border-t border-gray-200 dark:border-gray-700 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Ready to log in?"," ",n.jsx("button",{type:"button",onClick:()=>{t(),setTimeout(()=>r(),300)},className:"text-purple-600 dark:text-purple-400 font-semibold hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Back to Login"})]})})]})})})})}function AB({open:e,onClose:t,onBackToLogin:r,email:a,onBackToChangeEmail:o}){const{theme:l}=it(B=>B.theme),[c,d]=x.useState(["","","","","",""]),[f,m]=x.useState(!1),[g,p]=x.useState(!1),[v,b]=x.useState(60),[j,k]=x.useState(!1),N=x.useRef([]),S=B=>{if(!B||!B.includes("@"))return"your email";const[X,Y]=B.split("@"),K=X.slice(0,2),le="*".repeat(Math.max(X.length-2,3));return`${K}${le}@${Y}`};x.useEffect(()=>{e&&b(60)},[e]),x.useEffect(()=>{let B;return v>0&&(B=setInterval(()=>b(X=>X-1),1e3)),()=>clearInterval(B)},[v]);const C=(B,X)=>{if(/^[0-9]?$/.test(X)){const Y=[...c];Y[B]=X,d(Y),X&&B<5&&N.current[B+1].focus()}},A=(B,X)=>{X.key==="Backspace"&&!c[B]&&B>0&&N.current[B-1].focus()},I=()=>{d(["","","","","",""]),N.current.forEach(B=>{B&&(B.value="")})},D=async B=>{B.preventDefault();const X=c.join("");if(X.length!==6)return ee.error("Enter all 6 digits");try{k(!0);const K=await De.post(`https://fyp-buddy.up.railway.app//user/verify-otp/${a}`,{otp:X});K.data.success&&(ee.success(K.data.message),m(!0),I(),setTimeout(()=>{p(!0),t()},1e3))}catch(Y){console.log(Y),Y.response?.data?.message&&ee.error(Y.response.data.message)}finally{k(!1)}},T=async()=>{try{const X=await De.post("https://fyp-buddy.up.railway.app//user/forgot-password",{email:a});X.data.success&&(ee.success(X.data.message),I(),b(60))}catch(B){console.log(B),B.response?.data?.message&&ee.error(B.response.data.message)}};return n.jsxs(n.Fragment,{children:[n.jsx(_r,{open:e,onOpenChange:t,children:n.jsx(Xr,{className:`sm:max-w-md rounded-3xl backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-2xl p-0 overflow-hidden border-0 transition-all duration-300 ${l==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-3xl bg-gradient-to-br from-white to-purple-50/30 dark:from-gray-800 dark:to-gray-900 transition-all duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-8",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 dark:from-purple-400 dark:to-indigo-500 flex items-center justify-center mb-4 shadow-lg",children:n.jsx(Bk,{className:"h-8 w-8 text-white"})}),n.jsxs(an,{className:"text-center",children:[n.jsx(sn,{className:"text-3xl font-bold text-center mb-2",children:n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 dark:from-purple-400 dark:via-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Verify OTP"})}),n.jsxs(Ha,{className:"text-gray-600 dark:text-gray-300 text-center text-sm leading-relaxed",children:["Enter the 6-digit code sent to"," ",n.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:S(a)})]})]})]}),f?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4 animate-in fade-in duration-500",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center shadow-lg animate-in zoom-in duration-300",children:n.jsx(Bk,{className:"h-10 w-10 text-white"})}),n.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-center font-medium leading-relaxed max-w-xs",children:"OTP verified successfully! Redirecting to password reset..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center gap-2 sm:gap-3",children:c.map((B,X)=>n.jsx(st,{ref:Y=>N.current[X]=Y,type:"text",inputMode:"numeric",maxLength:1,value:B,onChange:Y=>C(X,Y.target.value),onKeyDown:Y=>A(X,Y),className:"w-12 h-14 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-xl dark:bg-gray-700/50 dark:text-gray-100 focus:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 transition-all duration-200 hover:border-purple-400 dark:hover:border-purple-500"},X))}),n.jsx(Pe,{type:"submit",disabled:j,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 dark:from-purple-500 dark:to-indigo-500 dark:hover:from-purple-600 dark:hover:to-indigo-600 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:j?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Verifying..."]}):"Verify OTP"})]}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsx("div",{className:"flex items-center justify-center gap-2 text-sm",children:v>0?n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700/50 px-4 py-2 rounded-lg",children:[n.jsx("span",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-pulse"}),"Resend in"," ",n.jsxs("span",{className:"font-bold text-purple-600 dark:text-purple-400 tabular-nums",children:[v,"s"]})]}):n.jsx("button",{type:"button",onClick:T,className:"text-purple-600 dark:text-purple-400 font-semibold hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Resend OTP"})}),n.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-300",children:["Wrong email?"," ",n.jsx("button",{type:"button",onClick:()=>{I(),t(),setTimeout(()=>o(),300)},className:"text-purple-600 dark:text-purple-400 font-semibold hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Change Email"})]})]})]}),n.jsx("div",{className:"pt-6 mt-4 border-t border-gray-200 dark:border-gray-700 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Want to go back?"," ",n.jsx("button",{type:"button",onClick:()=>{I(),t(),setTimeout(()=>r(),300)},className:"text-purple-600 dark:text-purple-400 font-semibold hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Back to Login"})]})})]})})})}),n.jsx(EB,{open:g,onClose:()=>p(!1),onBackToLogin:r,email:a})]})}function TB({open:e,onClose:t,onBackToLogin:r}){const{theme:a}=it(k=>k.theme),[o,l]=x.useState(""),[c,d]=x.useState(!1),[f,m]=x.useState(!1),[g,p]=x.useState(e),[v,b]=x.useState(!1);x.useEffect(()=>{p(e)},[e]);const j=async k=>{if(k.preventDefault(),!o)return ee.error("Please enter your registered email");const N="https://fyp-buddy.up.railway.app/",S=ee.loading("Sending OTP...");try{b(!0);const C=await De.post(`${N}/user/forgot-password`,{email:o});C.data.success&&(ee.success(C.data.message),ee.dismiss(S),setTimeout(()=>{d(!0),setTimeout(()=>{d(!1),p(!1),setTimeout(()=>m(!0),300)},1e3)}))}catch(C){console.error(C),ee.dismiss(S),ee.error(C.response?.data?.message||"Failed to send OTP. Try again.")}finally{b(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(_r,{open:g,onOpenChange:p,children:n.jsx(Xr,{className:`sm:max-w-md rounded-3xl backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-2xl p-0 overflow-hidden border-0 transition-all duration-300 ${a==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-3xl bg-gradient-to-br from-white to-purple-50/30 dark:from-gray-800 dark:to-gray-900 transition-all duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-8",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 dark:from-purple-400 dark:to-indigo-500 flex items-center justify-center mb-4 shadow-lg",children:n.jsx(Ba,{className:"h-8 w-8 text-white"})}),n.jsxs(an,{className:"text-center",children:[n.jsx(sn,{className:"text-3xl font-bold text-center mb-2",children:n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 dark:from-purple-400 dark:via-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Forgot Password"})}),n.jsx(Ha,{className:"text-gray-600 dark:text-gray-300 text-center text-sm leading-relaxed",children:"Enter your registered email to receive an OTP for password reset"})]})]}),c?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4 animate-in fade-in duration-500",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center shadow-lg animate-in zoom-in duration-300",children:n.jsx(Ba,{className:"h-10 w-10 text-white"})}),n.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-center font-medium leading-relaxed max-w-xs",children:"OTP has been sent to your email. Please check your inbox."})]}):n.jsxs("form",{onSubmit:j,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"email",className:"dark:text-gray-100 font-semibold text-sm",children:"Registered Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"email",type:"email",value:o,onChange:k=>l(k.target.value),placeholder:"Enter your registered email",disabled:v,className:"h-12 border-2 pr-12 dark:bg-gray-700/50 dark:border-gray-600 dark:text-gray-100 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 rounded-xl transition-all duration-200 hover:border-purple-400 dark:hover:border-purple-500"}),n.jsx(Ba,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-400 h-5 w-5"})]})]}),n.jsx(Pe,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 dark:from-purple-500 dark:to-indigo-500 dark:hover:from-purple-600 dark:hover:to-indigo-600 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] mt-6",children:v?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending OTP..."]}):"Send OTP"})]}),n.jsx("div",{className:"pt-6 mt-4 border-t border-gray-200 dark:border-gray-700 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Remembered your password?"," ",n.jsx("button",{type:"button",onClick:()=>{p(!1),setTimeout(()=>r(),300)},className:"text-purple-600 dark:text-purple-400 font-semibold hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Go back to Login"})]})})]})})})}),n.jsx(AB,{open:f,onClose:()=>m(!1),onBackToLogin:r,email:o,onBackToChangeEmail:()=>{m(!1),setTimeout(()=>p(!0),300)}})]})}function vn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RB=typeof Symbol=="function"&&Symbol.observable||"@@observable",MN=RB,H0=()=>Math.random().toString(36).substring(7).split("").join("."),_B={INIT:`@@redux/INIT${H0()}`,REPLACE:`@@redux/REPLACE${H0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H0()}`},Qh=_B;function _b(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Db(e,t,r){if(typeof e!="function")throw new Error(vn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(vn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(vn(1));return r(Db)(e,t)}let a=e,o=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((N,S)=>{c.set(S,N)}))}function g(){if(f)throw new Error(vn(3));return o}function p(N){if(typeof N!="function")throw new Error(vn(4));if(f)throw new Error(vn(5));let S=!0;m();const C=d++;return c.set(C,N),function(){if(S){if(f)throw new Error(vn(6));S=!1,m(),c.delete(C),l=null}}}function v(N){if(!_b(N))throw new Error(vn(7));if(typeof N.type>"u")throw new Error(vn(8));if(typeof N.type!="string")throw new Error(vn(17));if(f)throw new Error(vn(9));try{f=!0,o=a(o,N)}finally{f=!1}return(l=c).forEach(C=>{C()}),N}function b(N){if(typeof N!="function")throw new Error(vn(10));a=N,v({type:Qh.REPLACE})}function j(){const N=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(vn(11));function C(){const I=S;I.next&&I.next(g())}return C(),{unsubscribe:N(C)}},[MN](){return this}}}return v({type:Qh.INIT}),{dispatch:v,subscribe:p,getState:g,replaceReducer:b,[MN]:j}}function DB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Qh.INIT})>"u")throw new Error(vn(12));if(typeof r(void 0,{type:Qh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vn(13))})}function UA(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let o;try{DB(r)}catch(l){o=l}return function(c={},d){if(o)throw o;let f=!1;const m={};for(let g=0;g<a.length;g++){const p=a[g],v=r[p],b=c[p],j=v(b,d);if(typeof j>"u")throw d&&d.type,new Error(vn(14));m[p]=j,f=f||j!==b}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Zh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function MB(...e){return t=>(r,a)=>{const o=t(r,a);let l=()=>{throw new Error(vn(15))};const c={getState:o.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Zh(...d)(o.dispatch),{...o,dispatch:l}}}function OB(e){return _b(e)&&"type"in e&&typeof e.type=="string"}var HA=Symbol.for("immer-nothing"),ON=Symbol.for("immer-draftable"),ka=Symbol.for("immer-state");function Za(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var uc=Object.getPrototypeOf;function Vo(e){return!!e&&!!e[ka]}function ui(e){return e?qA(e)||Array.isArray(e)||!!e[ON]||!!e.constructor?.[ON]||vd(e)||Ym(e):!1}var PB=Object.prototype.constructor.toString();function qA(e){if(!e||typeof e!="object")return!1;const t=uc(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===PB}function Jh(e,t){Gm(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Gm(e){const t=e[ka];return t?t.type_:Array.isArray(e)?1:vd(e)?2:Ym(e)?3:0}function ey(e,t){return Gm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VA(e,t,r){const a=Gm(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function LB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vd(e){return e instanceof Map}function Ym(e){return e instanceof Set}function Do(e){return e.copy_||e.base_}function ty(e,t){if(vd(e))return new Map(e);if(Ym(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=qA(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ka];let o=Reflect.ownKeys(a);for(let l=0;l<o.length;l++){const c=o[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(uc(e),a)}else{const a=uc(e);if(a!==null&&r)return{...e};const o=Object.create(a);return Object.assign(o,e)}}function Mb(e,t=!1){return Km(e)||Vo(e)||!ui(e)||(Gm(e)>1&&Object.defineProperties(e,{set:{value:Qf},add:{value:Qf},clear:{value:Qf},delete:{value:Qf}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Mb(r,!0))),e}function Qf(){Za(2)}function Km(e){return Object.isFrozen(e)}var zB={};function Go(e){const t=zB[e];return t||Za(0,e),t}var Ju;function GA(){return Ju}function FB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PN(e,t){t&&(Go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ry(e){ny(e),e.drafts_.forEach(IB),e.drafts_=null}function ny(e){e===Ju&&(Ju=e.parent_)}function LN(e){return Ju=FB(Ju,e)}function IB(e){const t=e[ka];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ka].modified_&&(ry(t),Za(4)),ui(e)&&(e=em(t,e),t.parent_||tm(t,e)),t.patches_&&Go("Patches").generateReplacementPatches_(r[ka].base_,e,t.patches_,t.inversePatches_)):e=em(t,r,[]),ry(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HA?e:void 0}function em(e,t,r){if(Km(t))return t;const a=t[ka];if(!a)return Jh(t,(o,l)=>FN(e,a,t,o,l,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return tm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let l=o,c=!1;a.type_===3&&(l=new Set(o),o.clear(),c=!0),Jh(l,(d,f)=>FN(e,a,o,d,f,r,c)),tm(e,o,!1),r&&e.patches_&&Go("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function FN(e,t,r,a,o,l,c){if(Vo(o)){const d=l&&t&&t.type_!==3&&!ey(t.assigned_,a)?l.concat(a):void 0,f=em(e,o,d);if(VA(r,a,f),Vo(f))e.canAutoFreeze_=!1;else return}else c&&r.add(o);if(ui(o)&&!Km(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;em(e,o),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(vd(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&tm(e,o)}}function tm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mb(t,r)}function BB(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:GA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=a,l=Ob;r&&(o=[a],l=ed);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return a.draft_=d,a.revoke_=c,d}var Ob={get(e,t){if(t===ka)return e;const r=Do(e);if(!ey(r,t))return $B(e,r,t);const a=r[t];return e.finalized_||!ui(a)?a:a===q0(e.base_,t)?(V0(e),e.copy_[t]=sy(a,e)):a},has(e,t){return t in Do(e)},ownKeys(e){return Reflect.ownKeys(Do(e))},set(e,t,r){const a=YA(Do(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const o=q0(Do(e),t),l=o?.[ka];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(LB(r,o)&&(r!==void 0||ey(e.base_,t)))return!0;V0(e),ay(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return q0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,V0(e),ay(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Do(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Za(11)},getPrototypeOf(e){return uc(e.base_)},setPrototypeOf(){Za(12)}},ed={};Jh(Ob,(e,t)=>{ed[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ed.deleteProperty=function(e,t){return ed.set.call(this,e,t,void 0)};ed.set=function(e,t,r){return Ob.set.call(this,e[0],t,r,e[0])};function q0(e,t){const r=e[ka];return(r?Do(r):e)[t]}function $B(e,t,r){const a=YA(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function YA(e,t){if(!(t in e))return;let r=uc(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=uc(r)}}function ay(e){e.modified_||(e.modified_=!0,e.parent_&&ay(e.parent_))}function V0(e){e.copy_||(e.copy_=ty(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,g=>r.call(this,g,...m))}}typeof r!="function"&&Za(6),a!==void 0&&typeof a!="function"&&Za(7);let o;if(ui(t)){const l=LN(this),c=sy(t,void 0);let d=!0;try{o=r(c),d=!1}finally{d?ry(l):ny(l)}return PN(l,a),zN(o,l)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===HA&&(o=void 0),this.autoFreeze_&&Mb(o,!0),a){const l=[],c=[];Go("Patches").generateReplacementPatches_(t,o,l,c),a(l,c)}return o}else Za(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,o;return[this.produce(t,r,(c,d)=>{a=c,o=d}),a,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ui(e)||Za(8),Vo(e)&&(e=HB(e));const t=LN(this),r=sy(e,void 0);return r[ka].isManual_=!0,ny(t),r}finishDraft(e,t){const r=e&&e[ka];(!r||!r.isManual_)&&Za(9);const{scope_:a}=r;return PN(a,t),zN(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const a=Go("Patches").applyPatches_;return Vo(e)?a(e,t):this.produce(e,o=>a(o,t))}};function sy(e,t){const r=vd(e)?Go("MapSet").proxyMap_(e,t):Ym(e)?Go("MapSet").proxySet_(e,t):BB(e,t);return(t?t.scope_:GA()).drafts_.push(r),r}function HB(e){return Vo(e)||Za(10,e),KA(e)}function KA(e){if(!ui(e)||Km(e))return e;const t=e[ka];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ty(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ty(e,!0);return Jh(r,(a,o)=>{VA(r,a,KA(o))}),t&&(t.finalized_=!1),r}var qB=new UB,XA=qB.produce;function WA(e){return({dispatch:r,getState:a})=>o=>l=>typeof l=="function"?l(r,a,e):o(l)}var VB=WA(),GB=WA,YB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zh:Zh.apply(null,arguments)};function IN(e,t){function r(...a){if(t){let o=t(...a);if(!o)throw new Error(ai(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>OB(a)&&a.type===e,r}var QA=class Pu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pu.prototype)}static get[Symbol.species](){return Pu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pu(...t[0].concat(this)):new Pu(...t.concat(this))}};function BN(e){return ui(e)?XA(e,()=>{}):e}function Zf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function KB(e){return typeof e=="boolean"}var XB=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=t??{};let c=new QA;return r&&(KB(r)?c.push(VB):c.push(GB(r.extraArgument))),c},WB="RTK_autoBatch",$N=e=>t=>{setTimeout(t,e)},QB=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let o=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$N(10):e.type==="callback"?e.queueNotification:$N(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(g=>g()))};return Object.assign({},a,{subscribe(g){const p=()=>o&&g(),v=a.subscribe(p);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){try{return o=!g?.meta?.[WB],l=!o,l&&(c||(c=!0,f(m))),a.dispatch(g)}finally{o=!0}}})},ZB=e=>function(r){const{autoBatch:a=!0}=r??{};let o=new QA(e);return a&&o.push(QB(typeof a=="object"?a:void 0)),o};function JB(e){const t=XB(),{reducer:r=void 0,middleware:a,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(_b(r))d=UA(r);else throw new Error(ai(1));let f;typeof a=="function"?f=a(t):f=t();let m=Zh;o&&(m=YB({trace:!1,...typeof o=="object"&&o}));const g=MB(...f),p=ZB(g);let v=typeof c=="function"?c(p):p();const b=m(...v);return Db(d,l,b)}function ZA(e){const t={},r=[];let a;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ai(28));if(d in t)throw new Error(ai(29));return t[d]=c,o},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),o},addMatcher(l,c){return r.push({matcher:l,reducer:c}),o},addDefaultCase(l){return a=l,o}};return e(o),[t,r,a]}function e$(e){return typeof e=="function"}function t$(e,t){let[r,a,o]=ZA(t),l;if(e$(e))l=()=>BN(e());else{const d=BN(e);l=()=>d}function c(d=l(),f){let m=[r[f.type],...a.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[o]),m.reduce((g,p)=>{if(p)if(Vo(g)){const b=p(g,f);return b===void 0?g:b}else{if(ui(g))return XA(g,v=>p(v,f));{const v=p(g,f);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return c.getInitialState=l,c}var r$=Symbol.for("rtk-slice-createasyncthunk");function n$(e,t){return`${e}/${t}`}function a$({creators:e}={}){const t=e?.asyncThunk?.[r$];return function(a){const{name:o,reducerPath:l=o}=a;if(!o)throw new Error(ai(11));const c=(typeof a.reducers=="function"?a.reducers(i$()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,I){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(ai(12));if(D in f.sliceCaseReducersByType)throw new Error(ai(13));return f.sliceCaseReducersByType[D]=I,m},addMatcher(A,I){return f.sliceMatchers.push({matcher:A,reducer:I}),m},exposeAction(A,I){return f.actionCreators[A]=I,m},exposeCaseReducer(A,I){return f.sliceCaseReducersByName[A]=I,m}};d.forEach(A=>{const I=c[A],D={reducerName:A,type:n$(o,A),createNotation:typeof a.reducers=="function"};l$(I)?u$(D,I,m,t):o$(D,I,m)});function g(){const[A={},I=[],D=void 0]=typeof a.extraReducers=="function"?ZA(a.extraReducers):[a.extraReducers],T={...A,...f.sliceCaseReducersByType};return t$(a.initialState,B=>{for(let X in T)B.addCase(X,T[X]);for(let X of f.sliceMatchers)B.addMatcher(X.matcher,X.reducer);for(let X of I)B.addMatcher(X.matcher,X.reducer);D&&B.addDefaultCase(D)})}const p=A=>A,v=new Map,b=new WeakMap;let j;function k(A,I){return j||(j=g()),j(A,I)}function N(){return j||(j=g()),j.getInitialState()}function S(A,I=!1){function D(B){let X=B[A];return typeof X>"u"&&I&&(X=Zf(b,D,N)),X}function T(B=p){const X=Zf(v,I,()=>new WeakMap);return Zf(X,B,()=>{const Y={};for(const[K,le]of Object.entries(a.selectors??{}))Y[K]=s$(le,B,()=>Zf(b,B,N),I);return Y})}return{reducerPath:A,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const C={name:o,reducer:k,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...S(l),injectInto(A,{reducerPath:I,...D}={}){const T=I??l;return A.inject({reducerPath:T,reducer:k},D),{...C,...S(T,!0)}}};return C}}function s$(e,t,r,a){function o(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return o.unwrapped=e,o}var wd=a$();function i$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function o$({type:e,reducerName:t,createNotation:r},a,o){let l,c;if("reducer"in a){if(r&&!c$(a))throw new Error(ai(17));l=a.reducer,c=a.prepare}else l=a;o.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?IN(e,c):IN(e))}function l$(e){return e._reducerDefinitionType==="asyncThunk"}function c$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function u$({type:e,reducerName:t},r,a,o){if(!o)throw new Error(ai(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:g}=r,p=o(e,l,g);a.exposeAction(t,p),c&&a.addCase(p.fulfilled,c),d&&a.addCase(p.pending,d),f&&a.addCase(p.rejected,f),m&&a.addMatcher(p.settled,m),a.exposeCaseReducer(t,{fulfilled:c||Jf,pending:d||Jf,rejected:f||Jf,settled:m||Jf})}function Jf(){}function ai(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const JA=wd({name:"auth",initialState:{loading:!1,user:null,userProfile:null},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setUser:(e,t)=>{e.user=t.payload},setUserProfile:(e,t)=>{e.userProfile=t.payload}}}),{setLoading:SZ,setUser:Xm,setUserProfile:CZ}=JA.actions,d$=JA.reducer;function Pb({open:e,setOpen:t}){const{theme:r}=it(C=>C.theme),a=sa(),o=Na(),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(0),[p,v]=x.useState(!1),[b,j]=x.useState({email:"",password:""}),k=C=>{j({...b,[C.target.id]:C.target.value})},N=()=>{t(!1),setTimeout(()=>{g(C=>C+1),f(!0)},300)},S=async C=>{C.preventDefault(),v(!0),ee.loading("Checking credentials...");const A="https://fyp-buddy.up.railway.app/";try{const I=await De.post(`${A}/user/login`,b);I.data.success&&(a(Xm(I.data.user)),localStorage.setItem("accessToken",I.data.accessToken),ee.success(I.data.message||"Login successful"),I.data.user.role==="student"?o("/student/dashboard"):I.data.user.role==="supervisor"?o("/supervisor/dashboard"):I.data.user.role==="coordinator"?o("/coordinator/dashboard"):o("/admin/dashboard"),ee.dismiss()),ee.success(`Login successful  Welcome back ${I.data.user.username}`),t(!1)}catch(I){ee.dismiss();const D=I.response?.data?.message||I.response?.data||"Failed to create user";ee.error(D)}finally{v(!1)}};return n.jsxs(_r,{open:e,onOpenChange:t,children:[n.jsx(Xr,{className:`sm:max-w-md rounded-3xl backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-2xl p-0 overflow-hidden border-0 transition-all duration-300 ${r==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-3xl bg-gradient-to-br from-white to-purple-50/30 dark:from-gray-800 dark:to-gray-900 transition-all duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-8",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs(an,{className:"text-center",children:[n.jsxs(sn,{className:"text-3xl font-bold text-center mb-2",children:["Welcome to ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 dark:from-purple-400 dark:via-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"FYP Buddy"})]}),n.jsx(Ha,{className:"text-gray-600 dark:text-gray-300 text-sm text-center leading-relaxed",children:"Login to continue your FYP Journey"})]})}),n.jsxs("form",{className:"space-y-5",onSubmit:S,children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"email",className:"dark:text-gray-100 font-semibold text-sm",children:"Email"}),n.jsx(st,{id:"email",type:"email",placeholder:"Enter your email",required:!0,value:b.email,onChange:k,className:"h-12 border-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 dark:bg-gray-700/50 dark:border-gray-600 dark:text-gray-100 rounded-xl transition-all duration-200 hover:border-purple-400 dark:hover:border-purple-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"password",className:"dark:text-gray-100 font-semibold text-sm",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"password",type:l?"text":"password",placeholder:"Enter your password",required:!0,value:b.password,onChange:k,className:"h-12 border-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 focus:border-purple-500 dark:focus:border-purple-400 pr-12 dark:bg-gray-700/50 dark:border-gray-600 dark:text-gray-100 rounded-xl transition-all duration-200 hover:border-purple-400 dark:hover:border-purple-500"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors duration-200 p-1",children:l?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(ba,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"text-left text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Forgot your password? "}),n.jsx("button",{type:"button",onClick:N,className:"font-semibold text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Click here"})]}),n.jsx(Pe,{type:"submit",disabled:p,className:"w-full mt-6 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 dark:from-purple-500 dark:to-indigo-500 dark:hover:from-purple-600 dark:hover:to-indigo-600 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:p?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"animate-spin h-5 w-5"}),"Logging in..."]}):"Login"})]}),n.jsx("div",{className:"pt-6 mt-4 border-t border-gray-200 dark:border-gray-700 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",n.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold cursor-pointer hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-200 underline-offset-4 hover:underline",children:"Contact Admin"})]})})]})})}),n.jsx(TB,{open:d,onClose:()=>f(!1),onBackToLogin:()=>{f(!1),setTimeout(()=>t(!0),300)}},m)]})}var e4="AlertDialog",[f$]=is(e4,[QE]),fi=QE(),t4=e=>{const{__scopeAlertDialog:t,...r}=e,a=fi(t);return n.jsx(Nb,{...a,...r,modal:!0})};t4.displayName=e4;var h$="AlertDialogTrigger",r4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,o=fi(r);return n.jsx(hA,{...o,...a,ref:t})});r4.displayName=h$;var m$="AlertDialogPortal",n4=e=>{const{__scopeAlertDialog:t,...r}=e,a=fi(t);return n.jsx(Sb,{...a,...r})};n4.displayName=m$;var p$="AlertDialogOverlay",a4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,o=fi(r);return n.jsx(Cb,{...o,...a,ref:t})});a4.displayName=p$;var ec="AlertDialogContent",[g$,x$]=f$(ec),y$=LM("AlertDialogContent"),s4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...o}=e,l=fi(r),c=x.useRef(null),d=Jt(t,c),f=x.useRef(null);return n.jsx(qF,{contentName:ec,titleName:i4,docsSlug:"alert-dialog",children:n.jsx(g$,{scope:r,cancelRef:f,children:n.jsxs(Eb,{role:"alertdialog",...l,...o,ref:d,onOpenAutoFocus:Qe(o.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(y$,{children:a}),n.jsx(v$,{contentRef:c})]})})})});s4.displayName=ec;var i4="AlertDialogTitle",o4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,o=fi(r);return n.jsx(mA,{...o,...a,ref:t})});o4.displayName=i4;var l4="AlertDialogDescription",c4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,o=fi(r);return n.jsx(pA,{...o,...a,ref:t})});c4.displayName=l4;var b$="AlertDialogAction",u4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,o=fi(r);return n.jsx(Bm,{...o,...a,ref:t})});u4.displayName=b$;var d4="AlertDialogCancel",f4=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:o}=x$(d4,r),l=fi(r),c=Jt(t,o);return n.jsx(Bm,{...l,...a,ref:c})});f4.displayName=d4;var v$=({contentRef:e})=>{const t=`\`${ec}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ec}\` by passing a \`${l4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ec}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},w$=t4,j$=r4,k$=n4,N$=a4,S$=s4,C$=u4,E$=f4,A$=o4,T$=c4;function rm({...e}){return n.jsx(w$,{"data-slot":"alert-dialog",...e})}function R$({...e}){return n.jsx(j$,{"data-slot":"alert-dialog-trigger",...e})}function _$({...e}){return n.jsx(k$,{"data-slot":"alert-dialog-portal",...e})}function D$({className:e,...t}){return n.jsx(N$,{"data-slot":"alert-dialog-overlay",className:ot("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function nm({className:e,...t}){return n.jsxs(_$,{children:[n.jsx(D$,{}),n.jsx(S$,{"data-slot":"alert-dialog-content",className:ot("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function am({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:ot("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sm({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:ot("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function im({className:e,...t}){return n.jsx(A$,{"data-slot":"alert-dialog-title",className:ot("text-lg font-semibold",e),...t})}function om({className:e,...t}){return n.jsx(T$,{"data-slot":"alert-dialog-description",className:ot("text-muted-foreground text-sm",e),...t})}function iy({className:e,...t}){return n.jsx(C$,{className:ot(eb(),e),...t})}function oy({className:e,...t}){return n.jsx(E$,{className:ot(eb({variant:"outline"}),e),...t})}const h4=wd({name:"milestone",initialState:{milestone:null},reducers:{setMilestone:(e,t)=>{e.milestone=t.payload}}}),{setMilestone:td}=h4.actions,M$=h4.reducer,m4=wd({name:"group",initialState:{group:null},reducers:{setGroup:(e,t)=>{e.group=t.payload}}}),{setGroup:aa}=m4.actions,O$=m4.reducer,Lb=({open:e,onClose:t})=>{const r=Na(),{theme:a}=it(m=>m.theme),o=sa(),l=localStorage.getItem("accessToken"),[c,d]=x.useState(!1),f=async()=>{const m="https://fyp-buddy.up.railway.app/";d(!0),ee.loading("Logging you out...");try{const g=await De.post(`${m}/user/logout`,{},{headers:{Authorization:`Bearer ${l}`}});ee.dismiss(),g.data.success&&(o(Xm(null)),o(td(null)),o(aa(null)),ee.success(g.data.message||"Logged out successfully!"),localStorage.clear(),r("/"),t())}catch(g){ee.dismiss();const p=g.response?.data?.message||g.response?.data||"Failed to log out";ee.error(p),console.error("Logout error:",g)}finally{d(!1)}};return n.jsx(rm,{open:e,onOpenChange:t,children:n.jsxs(nm,{className:`rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg transition-colors duration-300 ${a==="dark"?"dark bg-gray-900 text-gray-100":"bg-white text-gray-800"}`,children:[n.jsxs(am,{children:[n.jsx(im,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Confirm Logout"}),n.jsx(om,{className:"text-gray-600 dark:text-gray-300",children:"Are you sure you want to log out? Youll need to sign in again to continue."})]}),n.jsxs(sm,{className:"flex justify-end gap-3 mt-4",children:[n.jsx(oy,{onClick:t,disabled:c,className:`border border-gray-300 dark:border-gray-600 rounded-md transition-colors duration-300 ${a==="dark"?"bg-gray-800 text-gray-100 hover:bg-gray-700":"bg-gray-100 text-gray-800 hover:bg-gray-200"} ${c?"opacity-50 cursor-not-allowed":""}`,children:"Cancel"}),n.jsx(iy,{onClick:f,disabled:c,className:`rounded-md flex items-center justify-center transition-colors duration-300 ${a==="dark"?"bg-gray-200 text-gray-900 hover:bg-gray-300":"bg-purple-600 text-white hover:bg-purple-700"} ${c?"opacity-75 cursor-not-allowed":""}`,children:c?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-4 w-4 mr-2"}),"Logging out..."]}):"Logout"})]})]})})},P$=({openNav:e,setOpenNav:t})=>{const{user:r}=it(j=>j.auth),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,f]=x.useState(!1);x.useEffect(()=>{if(e){document.body.classList.add("overflow-hidden");const j=setTimeout(()=>f(!0),100);return()=>{clearTimeout(j),document.body.classList.remove("overflow-hidden")}}else document.body.classList.remove("overflow-hidden"),f(!1)},[e]);const m=()=>{t(!1),document.body.classList.remove("overflow-hidden")},g=()=>{c(!0)},b=r?{student:[{label:"Dashboard",path:"/student/dashboard",icon:bs},{label:"My FYP Group",path:"/student/fyp-group",icon:hC},{label:"AI Chatbot",path:"/student/chatbot",icon:Wy},{label:"Team Chat",path:"/student/team-chat",icon:ni},{label:"Assigned Tasks",path:"/student/assigned-tasks",icon:Uh},{label:"Milestones",path:"/student/milestones",icon:Qy},{label:"My Grades",path:"/student/my-grades",icon:vm},{label:"Thesis Section",path:"/student/thesis",icon:ja},{label:"Profile",path:"/student/profile",icon:Rn}],supervisor:[{label:"Dashboard",path:"/supervisor/dashboard",icon:bs},{label:"My Groups",path:"/supervisor/my-groups",icon:rn},{label:"Group Chats",path:"/supervisor/team-chat",icon:ni},{label:"Manage Tasks",path:"/supervisor/manage-tasks",icon:Uh},{label:"Grading",path:"/supervisor/grading",icon:fn},{label:"Profile",path:"/supervisor/profile",icon:Rn}],coordinator:[{label:"Dashboard",path:"/coordinator/dashboard",icon:bs},{label:"Milestones",path:"/coordinator/milestones",icon:fC},{label:"Submitted Files",path:"/coordinator/documents",icon:hn},{label:"Grading",path:"/coordinator/grading",icon:fn},{label:"Sample Documents",path:"/coordinator/sample-documents",icon:ja},{label:"Announcements",path:"/coordinator/announcements",icon:eo},{label:"Profile",path:"/coordinator/profile",icon:Rn}],admin:[{label:"Dashboard",path:"/admin/dashboard",icon:bs},{label:"User Management",path:"/admin/users",icon:vC},{label:"Profile",path:"/admin/profile",icon:Zy}]}[r.role]||[]:[{to:"/",label:"Home",icon:bs},{to:"/about-us",label:"About",icon:Rn},{to:"/contact-us",label:"Contact",icon:ni}];return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`fixed inset-0 bg-black/50 z-40 transition-opacity duration-300 ease-in-out md:hidden ${e?"opacity-100 visible":"opacity-0 invisible"}`,onClick:()=>t(!1)}),n.jsx("div",{className:`fixed top-0 left-0 z-50 h-screen w-[75%] max-w-[300px] bg-white dark:bg-gray-800 
        shadow-2xl transform transition-all duration-300 ease-out md:hidden rounded-r-2xl
        ${e?"translate-x-0 opacity-100":"-translate-x-full opacity-90"}`,children:n.jsxs("div",{className:"flex flex-col h-full justify-between pb-8",children:[n.jsx("div",{className:`p-6 border-b border-gray-200 dark:border-gray-700 transition-all duration-500 ease-out ${d?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[r?n.jsx(tr,{className:"w-14 h-14 ring-2 ring-purple-500 dark:ring-gray-100 transition-all duration-300",children:n.jsx(Rr,{src:r.profilePic||Ir})}):n.jsx(_7,{size:56,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsxs("h1",{className:"font-semibold text-lg",children:["Hello,"," ",n.jsx("span",{className:"text-purple-500 dark:text-gray-100",children:r?.username?.split(" ")[0]||"User"})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:r?.role||"Guest"})]})]})}),n.jsx("nav",{className:"flex-1 p-6 overflow-y-auto",children:n.jsxs("ul",{className:"flex flex-col gap-3 text-base font-semibold",children:[b.map((j,k)=>{const N=j.icon,S=r?j.path:j.to;return n.jsx("li",{className:`transform transition-all duration-700 ease-out hover:translate-x-2 ${d?"translate-x-0 opacity-100":"-translate-x-8 opacity-0"}`,style:{transitionDelay:d?`${k*80+100}ms`:"0ms"},children:n.jsxs(Wi,{to:S,onClick:m,className:"flex items-center gap-3 py-2.5 px-3 rounded-lg hover:bg-purple-50 dark:hover:bg-gray-700 transition-all duration-200 hover:shadow-md",children:[n.jsx(N,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{children:j.label})]})},S)}),n.jsx("li",{className:`mt-6 transform transition-all duration-700 ease-out ${d?"translate-x-0 opacity-100 scale-100":"-translate-x-8 opacity-0 scale-95"}`,style:{transitionDelay:d?`${b.length*80+200}ms`:"0ms"},children:r?n.jsx(Pe,{onClick:g,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg",children:"Logout"}):n.jsxs(n.Fragment,{children:[n.jsx(Pe,{onClick:()=>o(!0),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg",children:"Login"}),n.jsx(Pb,{open:a,setOpen:o})]})})]})}),n.jsxs("div",{className:`p-4 border-t border-gray-200 dark:border-gray-700 text-center text-xs text-gray-500 dark:text-gray-400 transition-all duration-700 ease-out ${d?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,style:{transitionDelay:d?`${b.length*150+300}ms`:"0ms"},children:[" ",new Date().getFullYear()," ",n.jsx("span",{className:"text-purple-500 dark:text-gray-100 font-medium",children:"FYP Buddy"}),". All rights reserved."]})]})}),n.jsx(Lb,{open:l,onClose:()=>c(!1)})]})},L$={theme:"light"},p4=wd({name:"theme",initialState:L$,reducers:{toggleTheme:e=>{e.theme=e.theme==="light"?"dark":"light"}}}),{toggleTheme:z$}=p4.actions,F$=p4.reducer;function ti(){const{user:e}=it(j=>j.auth),{theme:t}=it(j=>j.theme),r=sa(),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(!1),p=Na(),v=()=>o(!a),b=[{name:"Home",path:"/",icon:n.jsx(bs,{className:"h-4 w-4 mr-2"})},{name:"About",path:"/about-us",icon:n.jsx(Rn,{className:"h-4 w-4 mr-2"})},{name:"Contact",path:"/contact-us",icon:n.jsx(ni,{className:"h-4 w-4 mr-2"})}];return x.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),x.useEffect(()=>{const j=()=>{g(window.scrollY>10)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]),n.jsxs("nav",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${m?"bg-white/95 dark:bg-gray-900/95 backdrop-blur-md shadow-lg border-b border-gray-200 dark:border-gray-800":"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800"}`,children:[n.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 lg:px-8 py-3",children:[n.jsxs(Wi,{to:"/",className:"flex items-center gap-3 group",children:[n.jsxs("div",{className:"relative w-10 h-10 rounded-xl overflow-hidden ring-2 ring-purple-500/20 dark:ring-gray-600/40 group-hover:ring-purple-500/40 dark:group-hover:ring-gray-500/60 transition-all duration-300",children:[n.jsx("img",{src:tb,alt:"Logo",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/0 to-purple-500/10 dark:from-gray-500/0 dark:to-gray-500/10 group-hover:from-purple-500/10 group-hover:to-purple-500/20 dark:group-hover:from-gray-500/10 dark:group-hover:to-gray-500/20 transition-all duration-300"})]}),n.jsx("span",{className:"font-bold text-2xl bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent transition-all duration-300",children:"FYP Buddy"})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{children:n.jsx("ul",{className:"hidden md:flex items-center gap-1",children:[{name:"Home",path:"/"},{name:"About",path:"/about-us"},{name:"Contact",path:"/contact-us"}].map(j=>n.jsx(Fo,{to:j.path,className:"relative px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 font-medium text-bold transition-all duration-300 hover:text-purple-600 dark:hover:text-gray-200 group",children:({isActive:k})=>n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"relative z-10",children:j.name}),k&&n.jsx("span",{className:"absolute inset-0 bg-purple-200 dark:bg-gray-700/40 rounded-lg"}),!k&&n.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 h-0.5 w-0 bg-gradient-to-r from-purple-500 to-purple-700 dark:from-gray-400 dark:to-gray-500 transition-all duration-300 group-hover:w-8"})]})},j.name))})}),n.jsxs("div",{className:"flex items-center gap-3",children:[e?n.jsxs(Vx,{children:[n.jsx(Gx,{asChild:!0,children:n.jsxs("div",{className:"relative group cursor-pointer",children:[n.jsxs(tr,{className:"w-10 h-10 ring-2 ring-gray-200 dark:ring-gray-700 group-hover:ring-purple-500 dark:group-hover:ring-gray-500 transition-all duration-300",children:[n.jsx(Rr,{src:e.profilePic||Ir}),n.jsx(wn,{className:"bg-gradient-to-br from-purple-500 to-purple-700 text-white font-semibold",children:e.username?.[0]?.toUpperCase()||"U"})]}),n.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 group-hover:scale-110 transition-transform duration-300"})]})}),n.jsxs(Yx,{className:"w-56 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-xl",children:[n.jsx(zF,{className:"text-gray-900 dark:text-gray-100 font-semibold",children:"Menu"}),n.jsx(Kx,{className:"bg-gray-200 dark:bg-gray-700"}),b.map(j=>n.jsxs(zu,{onClick:()=>p(j.path),className:"cursor-pointer text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-700/60 hover:text-purple-600 dark:hover:text-gray-100 transition-colors duration-200",children:[j.icon," ",j.name]},j.name)),n.jsx(Kx,{className:"bg-gray-200 dark:bg-gray-700"}),n.jsxs(zu,{onClick:()=>f(!0),className:"cursor-pointer text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200",children:[n.jsx(Vl,{className:"mr-2 h-4 w-4"})," Log out"]})]})]}):n.jsxs("div",{className:"hidden md:flex gap-2",children:[n.jsx(Pe,{onClick:()=>c(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg px-6 py-2 rounded-lg text-sm font-semibold",children:"Login"}),n.jsx(Pb,{open:l,setOpen:c})]}),n.jsx("button",{onClick:()=>r(z$()),className:"w-10 h-10 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-purple-600 dark:hover:text-purple-400 transition-all duration-300 hover:scale-105",children:t==="light"?n.jsx(T7,{size:18}):n.jsx(R7,{size:18})}),n.jsx("button",{onClick:v,className:"md:hidden w-10 h-10 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300",children:a?n.jsx(M7,{size:24}):n.jsx(D7,{size:24})})]})]})]}),a&&n.jsx("div",{className:"md:hidden inset-0 z-40",children:n.jsx(P$,{openNav:a,setOpenNav:o})}),n.jsx(Lb,{open:d,onClose:()=>f(!1)})]})}function ri(){const[e,t]=x.useState(!1);x.useEffect(()=>{const a=()=>{t(window.scrollY>300)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return n.jsxs("footer",{className:"relative bg-gradient-to-br from-gray-900 via-gray-950 to-black text-gray-300 overflow-hidden border-t border-gray-800",children:[n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 py-12 lg:py-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[n.jsxs("div",{className:"lg:col-span-1 flex flex-col space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 group",children:[n.jsxs("div",{className:"relative w-12 h-12 rounded-2xl overflow-hidden ring-2 ring-purple-500/30 dark:ring-cyan-500/30 group-hover:ring-purple-500/60 dark:group-hover:ring-cyan-500/60 transition-all duration-500 group-hover:scale-105 shadow-lg group-hover:shadow-purple-500/50 dark:group-hover:shadow-cyan-500/50",children:[n.jsx("img",{src:tb,alt:"FYP Buddy Logo",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/0 to-cyan-500/0 group-hover:from-purple-500/10 group-hover:to-cyan-500/10 transition-all duration-500"})]}),n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 bg-clip-text text-transparent group-hover:from-purple-300 group-hover:via-blue-300 group-hover:to-cyan-300 transition-all duration-500",children:"FYP Buddy"})]}),n.jsx("p",{className:"text-sm text-gray-400 leading-relaxed max-w-xs",children:"Empowering students to plan, manage, and complete their Final Year Projects smarter and faster with cutting-edge technology."}),n.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[n.jsx("a",{href:"#",className:"group relative w-10 h-10 flex items-center justify-center rounded-xl bg-gray-800/50 hover:bg-gradient-to-br hover:from-blue-500 hover:to-blue-600 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-blue-500/50 border border-gray-700/50 hover:border-blue-500/50","aria-label":"LinkedIn",children:n.jsx(RP,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300"})}),n.jsx("a",{href:"#",className:"group relative w-10 h-10 flex items-center justify-center rounded-xl bg-gray-800/50 hover:bg-gradient-to-br hover:from-pink-500 hover:to-rose-600 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-pink-500/50 border border-gray-700/50 hover:border-pink-500/50","aria-label":"Instagram",children:n.jsx(SP,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300"})}),n.jsx("a",{href:"#",className:"group relative w-10 h-10 flex items-center justify-center rounded-xl bg-gray-800/50 hover:bg-gradient-to-br hover:from-blue-600 hover:to-blue-700 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-blue-600/50 border border-gray-700/50 hover:border-blue-600/50","aria-label":"Facebook",children:n.jsx(hP,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300"})})]})]}),n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold text-lg mb-2 bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Quick Links"}),n.jsx("nav",{className:"flex flex-col space-y-3",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about-us"},{name:"Contact Us",path:"/contact-us"}].map(a=>n.jsxs(Fo,{to:a.path,className:"group relative text-sm text-gray-400 hover:text-white transition-all duration-300 inline-flex items-center w-fit",children:[n.jsx("span",{className:"relative z-10",children:a.name}),n.jsx("span",{className:"absolute bottom-0 left-0 h-[2px] w-0 bg-gradient-to-r from-purple-500 to-cyan-500 group-hover:w-full transition-all duration-300 rounded-full"})]},a.path))})]}),n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold text-lg mb-2 bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Legal"}),n.jsxs("nav",{className:"flex flex-col space-y-3",children:[n.jsxs(Fo,{to:"/privacy-policy",className:"group relative text-sm text-gray-400 hover:text-white transition-all duration-300 inline-flex items-center w-fit",children:[n.jsx("span",{className:"relative z-10",children:"Privacy Policy"}),n.jsx("span",{className:"absolute bottom-0 left-0 h-[2px] w-0 bg-gradient-to-r from-purple-500 to-cyan-500 group-hover:w-full transition-all duration-300 rounded-full"})]}),n.jsxs(Fo,{to:"/terms-and-conditions",className:"group relative text-sm text-gray-400 hover:text-white transition-all duration-300 inline-flex items-center w-fit",children:[n.jsx("span",{className:"relative z-10",children:"Terms & Conditions"}),n.jsx("span",{className:"absolute bottom-0 left-0 h-[2px] w-0 bg-gradient-to-r from-purple-500 to-cyan-500 group-hover:w-full transition-all duration-300 rounded-full"})]})]})]}),n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold text-lg mb-2 bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Contact"}),n.jsxs("div",{className:"flex flex-col space-y-3",children:[n.jsxs("div",{className:"group flex items-center gap-3 text-sm text-gray-400 hover:text-white transition-all duration-300",children:[n.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-800/50 group-hover:bg-gradient-to-br group-hover:from-purple-500/20 group-hover:to-cyan-500/20 border border-gray-700/50 group-hover:border-purple-500/50 transition-all duration-300",children:n.jsx(Ba,{className:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"})}),n.jsx("a",{href:"mailto:support@fypbuddy.com",className:"hover:underline",children:"support@fypbuddy.com"})]}),n.jsxs("a",{href:"tel:+1234567890",className:"group flex items-center gap-3 text-sm text-gray-400 hover:text-white transition-all duration-300",children:[n.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-800/50 group-hover:bg-gradient-to-br group-hover:from-purple-500/20 group-hover:to-cyan-500/20 border border-gray-700/50 group-hover:border-purple-500/50 transition-all duration-300",children:n.jsx(ii,{className:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"})}),n.jsx("span",{children:"+1 (234) 567-890"})]})]})]})]})}),n.jsx("div",{className:"relative z-10 border-t border-gray-800/50 bg-gray-950/50 backdrop-blur-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-center items-center",children:n.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" ",new Date().getFullYear()," FYP Buddy. All Rights Reserved."]})})}),n.jsx("button",{onClick:r,className:`fixed bottom-8 right-8 z-50 w-12 h-12 flex items-center justify-center rounded-xl bg-gradient-to-br from-purple-600 via-blue-600 to-cyan-600 hover:from-purple-500 hover:via-blue-500 hover:to-cyan-500 text-white shadow-2xl shadow-purple-500/30 hover:shadow-purple-500/50 transition-all duration-300 hover:scale-110 border border-white/10 backdrop-blur-sm ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,"aria-label":"Back to top",children:n.jsx(BO,{className:"w-5 h-5"})})]})}const I$="/assets/hero-Dk-Rh2-D.png";function B$(){const[e,t]=x.useState(!1),{user:r}=it(l=>l.auth),a=Na(),o=()=>{r.role==="student"?a("/student/dashboard"):r.role==="supervisor"?a("/supervisor/dashboard"):r.role==="coordinator"?a("/coordinator/dashboard"):r.role==="admin"&&a("/admin/dashboard")};return n.jsxs("section",{className:"relative w-full min-h-screen flex items-center overflow-hidden mt-8",children:[n.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[n.jsxs("div",{className:"space-y-5 text-center lg:text-left",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight tracking-tight",children:[n.jsx("span",{className:"block text-gray-900 dark:text-white",children:"Your FYP Journey"}),n.jsx("span",{className:"block mt-1",children:n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Simplified"})})]}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:"The all-in-one platform for final year projects. From intelligent supervisor matching to seamless collaboration and milestone tracking."})]}),n.jsx("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:[{icon:DL,text:"AI Ideas"},{icon:rn,text:"Team Collaboration"},{icon:Px,text:"Progress Tracking"}].map((l,c)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsx(l.icon,{className:"w-3.5 h-3.5 text-purple-600 dark:text-gray-400"}),n.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:l.text})]},c))}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-3 pt-2",children:[r?n.jsxs(Pe,{onClick:o,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg px-6 py-2 rounded-lg text-sm font-semibold",children:["Go to Dashboard",n.jsx(Dx,{className:"ml-2 w-4 h-4"})]}):n.jsxs(Pe,{onClick:()=>t(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg px-6 py-2 rounded-lg text-sm font-semibold",children:["Start Your Project",n.jsx(Dx,{className:"ml-2 w-4 h-4"})]}),n.jsx(Pe,{variant:"outline",onClick:()=>document.getElementById("features")?.scrollIntoView({behavior:"smooth"}),className:"border-2 border-gray-300 dark:border-gray-600 hover:border-purple-600 dark:hover:border-gray-100 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-800 px-6 py-2 rounded-lg text-sm font-semibold",children:"Learn more"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[{icon:rn,number:"1,000+",label:"Students"},{icon:vm,number:"500+",label:"Projects"},{icon:Ji,number:"98%",label:"Success"}].map((l,c)=>n.jsxs("div",{className:"text-center lg:text-left",children:[n.jsx("div",{className:"inline-flex items-center gap-1.5 mb-1",children:n.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-purple-100 to-blue-100 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center",children:n.jsx(l.icon,{className:"w-3.5 h-3.5 text-purple-600 dark:text-purple-400"})})}),n.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:l.number}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:l.label})]},c))})]}),n.jsxs("div",{className:"relative lg:mt-0 mt-8 flex flex-col items-center",children:[n.jsx("div",{className:"relative w-full max-w-md",children:n.jsx("div",{className:"relative rounded-xl  overflow-hidden",children:n.jsx("img",{src:I$,alt:"FYP Management Platform Dashboard",className:"w-full h-auto object-contain"})})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4 w-full max-w-md",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md border border-gray-200 dark:border-gray-800 p-3",children:[n.jsx(km,{className:"w-6 h-6 text-purple-600 dark:text-purple-400 mb-1.5"}),n.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"Secure & Private"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Secure and Safe Portals"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md border border-gray-200 dark:border-gray-800 p-3",children:[n.jsx(Px,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mb-1.5"}),n.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:"Real-time Sync"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Instant collaboration"})]})]})]})]})})}),n.jsx(Pb,{open:e,setOpen:t})]})}function $$(){const e=[{icon:dL,title:"Smart Suggestions",text:"AI Idea Suggestions to save your time and confusion.",gradient:"from-purple-500 to-indigo-500"},{icon:wm,title:"Seamless Communication",text:"Chat with supervisors and manage approvals easily.",gradient:"from-blue-500 to-cyan-500"},{icon:On,title:"Track Progress",text:"Visual timeline, deadlines, and team status at a glance.",gradient:"from-green-500 to-emerald-500"},{icon:km,title:"Secure Submissions",text:"Upload reports, presentations, and documents securely.",gradient:"from-orange-500 to-amber-500"},{icon:ja,title:"Project Repository",text:"Access previous projects and inspirations anytime.",gradient:"from-indigo-500 to-purple-500"},{icon:KO,title:"Performance Analytics",text:"Track and analyze project performance efficiently.",gradient:"from-teal-500 to-blue-500"}];return n.jsx("section",{id:"features",className:"py-16 px-4 sm:px-6 bg-gradient-to-br from-slate-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 relative",children:n.jsxs("div",{className:"container mx-auto max-w-7xl relative z-10",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-3 tracking-tight",children:["Everything You Need to"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Succeed"})]}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Powerful features designed to streamline your final year project journey from start to finish"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:e.map((t,r)=>{const a=t.icon;return n.jsxs(Te,{className:"border border-gray-200 dark:border-gray-800 hover:border-purple-400 dark:hover:border-gray-600 transition-colors duration-300 hover:shadow-lg bg-white dark:bg-gray-900",children:[n.jsxs(Zl,{className:"pb-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${t.gradient} flex items-center justify-center mb-3 shadow-md`,children:n.jsx(a,{className:"w-6 h-6 text-white"})}),n.jsx(Jl,{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.title})]}),n.jsx(Dn,{children:n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:t.text})})]},r)})})]})})}function U$(){const e=[{icon:fn,title:"Student Portal",text:"Find & submit projects, manage your progress, and collaborate with your team.",gradient:"from-purple-500 to-indigo-500"},{icon:Zy,title:"Supervisor Portal",text:"Review student projects, guide teams, and provide valuable feedback.",gradient:"from-blue-500 to-cyan-500"},{icon:Qy,title:"Coordinator Portal",text:"Manage topics, timelines, and monitor overall progress across departments.",gradient:"from-green-500 to-emerald-500"},{icon:km,title:"Admin Portal",text:"Oversee system settings, user roles, permissions, and platform management.",gradient:"from-orange-500 to-amber-500"}];return n.jsx("section",{id:"get-started",className:"py-16 px-4 sm:px-6",children:n.jsxs("div",{className:"container mx-auto max-w-7xl relative z-10",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-3 tracking-tight",children:["Specialized"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Portals"})]}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Start managing your final year project today with our specialized portals"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:e.map((t,r)=>{const a=t.icon;return n.jsxs(Te,{className:"border border-gray-200 dark:border-gray-800 hover:border-purple-400 dark:hover:border-gray-600 transition-colors duration-300 hover:shadow-lg bg-white dark:bg-gray-900",children:[n.jsxs(Zl,{className:"flex flex-col items-center text-center pb-3",children:[n.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-r ${t.gradient} flex items-center justify-center mb-3 shadow-md`,children:n.jsx(a,{className:"w-7 h-7 text-white"})}),n.jsx(Jl,{className:"text-base font-semibold text-gray-900 dark:text-white mb-2",children:t.title})]}),n.jsx(Dn,{className:"text-center",children:n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:t.text})})]},r)})})]})})}function H$(){const e=[{icon:rn,number:"01",title:"Who We Are",text:"An AI-powered platform to support your FYP journey from start to finish.",gradient:"from-purple-500 to-indigo-500"},{icon:AP,number:"02",title:"What We Do",text:"We suggest smart project ideas, connect you with guides, and streamline submissions.",gradient:"from-blue-500 to-cyan-500"},{icon:pL,number:"03",title:"How We Help",text:"With progress tracking, supervisor chat, and organized timelines  all in one place.",gradient:"from-green-500 to-emerald-500"},{icon:wC,number:"04",title:"Your Success Story",text:"FYP Buddy turns confusion into clarity and ideas into impactful projects.",gradient:"from-orange-500 to-amber-500"}];return n.jsx("section",{id:"about",className:"py-16 px-4 sm:px-6 bg-gradient-to-br from-slate-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 relative",children:n.jsx("div",{className:"container mx-auto max-w-7xl relative z-10",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-3 tracking-tight leading-tight",children:["Say Goodbye to"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"FYP Stress"})]}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"We've got your back! FYP Buddy is your comprehensive solution for managing final year projects with ease. From AI-powered matching to seamless collaboration, we make your FYP journey smooth and successful."}),n.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:["AI-Powered Matching","Real-time Collaboration","Progress Tracking","Secure Platform"].map((t,r)=>n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-sm",children:[n.jsx(Ji,{className:"w-4 h-4 text-purple-600 dark:text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:t})]},r))}),n.jsx(Fo,{to:"/about-us",children:n.jsxs(Pe,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg px-6 py-2 rounded-lg text-sm font-semibold",children:["Learn More",n.jsx(Dx,{className:"ml-2 w-4 h-4"})]})})]}),n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map((t,r)=>{const a=t.icon;return n.jsxs(Te,{className:"border border-gray-200 dark:border-gray-800 hover:border-purple-400 dark:hover:border-gray-600 transition-colors duration-300 hover:shadow-lg bg-white dark:bg-gray-900",children:[n.jsxs(Zl,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-r ${t.gradient} flex items-center justify-center shadow-md`,children:n.jsx(a,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-2xl font-bold text-gray-200 dark:text-gray-700",children:t.number})]}),n.jsx(Jl,{className:"text-base font-semibold text-gray-900 dark:text-white mb-2",children:t.title})]}),n.jsx(Dn,{children:n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:t.text})})]},r)})})})]})})})}var G0,UN;function q$(){if(UN)return G0;UN=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var d,f,m;if(Array.isArray(l)){if(d=l.length,d!=c.length)return!1;for(f=d;f--!==0;)if(!o(l[f],c[f]))return!1;return!0}var g;if(t&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(g=l.entries();!(f=g.next()).done;)if(!c.has(f.value[0]))return!1;for(g=l.entries();!(f=g.next()).done;)if(!o(f.value[1],c.get(f.value[0])))return!1;return!0}if(r&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(g=l.entries();!(f=g.next()).done;)if(!c.has(f.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(d=l.length,d!=c.length)return!1;for(f=d;f--!==0;)if(l[f]!==c[f])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(m=Object.keys(l),d=m.length,d!==Object.keys(c).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(c,m[f]))return!1;if(e&&l instanceof Element)return!1;for(f=d;f--!==0;)if(!((m[f]==="_owner"||m[f]==="__v"||m[f]==="__o")&&l.$$typeof)&&!o(l[m[f]],c[m[f]]))return!1;return!0}return l!==l&&c!==c}return G0=function(c,d){try{return o(c,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},G0}var V$=q$();const G$=ao(V$);var Y0,HN;function Y$(){if(HN)return Y0;HN=1;var e=function(t,r,a,o,l,c,d,f){if(!t){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[a,o,l,c,d,f],p=0;m=new Error(r.replace(/%s/g,function(){return g[p++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Y0=e,Y0}var K$=Y$();const qN=ao(K$);var K0,VN;function X$(){return VN||(VN=1,K0=function(t,r,a,o){var l=a?a.call(o,t,r):void 0;if(l!==void 0)return!!l;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var c=Object.keys(t),d=Object.keys(r);if(c.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(r),m=0;m<c.length;m++){var g=c[m];if(!f(g))return!1;var p=t[g],v=r[g];if(l=a?a.call(o,p,v,g):void 0,l===!1||l===void 0&&p!==v)return!1}return!0}),K0}var W$=X$();const Q$=ao(W$);var g4=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(g4||{}),X0={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},GN=Object.values(g4),zb={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Z$=Object.entries(zb).reduce((e,[t,r])=>(e[r]=t,e),{}),Ja="data-rh",tc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},rc=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const a=e[r];if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}return null},J$=e=>{let t=rc(e,"title");const r=rc(e,tc.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const a=rc(e,tc.DEFAULT_TITLE);return t||a||void 0},eU=e=>rc(e,tc.ON_CHANGE_CLIENT_STATE)||(()=>{}),W0=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,a)=>({...r,...a}),{}),tU=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,a)=>{if(!r.length){const o=Object.keys(a);for(let l=0;l<o.length;l+=1){const d=o[l].toLowerCase();if(e.indexOf(d)!==-1&&a[d])return r.concat(a)}}return r},[]),rU=e=>console&&typeof console.warn=="function"&&console.warn(e),ku=(e,t,r)=>{const a={};return r.filter(o=>Array.isArray(o[e])?!0:(typeof o[e]<"u"&&rU(`Helmet: ${e} should be of type "Array". Instead found type "${typeof o[e]}"`),!1)).map(o=>o[e]).reverse().reduce((o,l)=>{const c={};l.filter(f=>{let m;const g=Object.keys(f);for(let v=0;v<g.length;v+=1){const b=g[v],j=b.toLowerCase();t.indexOf(j)!==-1&&!(m==="rel"&&f[m].toLowerCase()==="canonical")&&!(j==="rel"&&f[j].toLowerCase()==="stylesheet")&&(m=j),t.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(m=b)}if(!m||!f[m])return!1;const p=f[m].toLowerCase();return a[m]||(a[m]={}),c[m]||(c[m]={}),a[m][p]?!1:(c[m][p]=!0,!0)}).reverse().forEach(f=>o.push(f));const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const m=d[f],g={...a[m],...c[m]};a[m]=g}return o},[]).reverse()},nU=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},aU=e=>({baseTag:tU(["href"],e),bodyAttributes:W0("bodyAttributes",e),defer:rc(e,tc.DEFER),encode:rc(e,tc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:W0("htmlAttributes",e),linkTags:ku("link",["rel","href"],e),metaTags:ku("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:ku("noscript",["innerHTML"],e),onChangeClientState:eU(e),scriptTags:ku("script",["src","innerHTML"],e),styleTags:ku("style",["cssText"],e),title:J$(e),titleAttributes:W0("titleAttributes",e),prioritizeSeoTags:nU(e,tc.PRIORITIZE_SEO_TAGS)}),x4=e=>Array.isArray(e)?e.join(""):e,sU=(e,t)=>{const r=Object.keys(e);for(let a=0;a<r.length;a+=1)if(t[r[a]]&&t[r[a]].includes(e[r[a]]))return!0;return!1},Q0=(e,t)=>Array.isArray(e)?e.reduce((r,a)=>(sU(a,t)?r.priority.push(a):r.default.push(a),r),{priority:[],default:[]}):{default:e,priority:[]},YN=(e,t)=>({...e,[t]:void 0}),iU=["noscript","script","style"],ly=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),y4=e=>Object.keys(e).reduce((t,r)=>{const a=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${a}`:a},""),oU=(e,t,r,a)=>{const o=y4(r),l=x4(t);return o?`<${e} ${Ja}="true" ${o}>${ly(l,a)}</${e}>`:`<${e} ${Ja}="true">${ly(l,a)}</${e}>`},lU=(e,t,r=!0)=>t.reduce((a,o)=>{const l=o,c=Object.keys(l).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const p=typeof l[g]>"u"?g:`${g}="${ly(l[g],r)}"`;return m?`${m} ${p}`:p},""),d=l.innerHTML||l.cssText||"",f=iU.indexOf(e)===-1;return`${a}<${e} ${Ja}="true" ${c}${f?"/>":`>${d}</${e}>`}`},""),b4=(e,t={})=>Object.keys(e).reduce((r,a)=>{const o=zb[a];return r[o||a]=e[a],r},t),cU=(e,t,r)=>{const a={key:t,[Ja]:!0},o=b4(r,a);return[pr.createElement("title",o,t)]},Eh=(e,t)=>t.map((r,a)=>{const o={key:a,[Ja]:!0};return Object.keys(r).forEach(l=>{const d=zb[l]||l;if(d==="innerHTML"||d==="cssText"){const f=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:f}}else o[d]=r[l]}),pr.createElement(e,o)}),Oa=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>cU(e,t.title,t.titleAttributes),toString:()=>oU(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>b4(t),toString:()=>y4(t)};default:return{toComponent:()=>Eh(e,t),toString:()=>lU(e,t,r)}}},uU=({metaTags:e,linkTags:t,scriptTags:r,encode:a})=>{const o=Q0(e,X0.meta),l=Q0(t,X0.link),c=Q0(r,X0.script);return{priorityMethods:{toComponent:()=>[...Eh("meta",o.priority),...Eh("link",l.priority),...Eh("script",c.priority)],toString:()=>`${Oa("meta",o.priority,a)} ${Oa("link",l.priority,a)} ${Oa("script",c.priority,a)}`},metaTags:o.default,linkTags:l.default,scriptTags:c.default}},dU=e=>{const{baseTag:t,bodyAttributes:r,encode:a=!0,htmlAttributes:o,noscriptTags:l,styleTags:c,title:d="",titleAttributes:f,prioritizeSeoTags:m}=e;let{linkTags:g,metaTags:p,scriptTags:v}=e,b={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:b,linkTags:g,metaTags:p,scriptTags:v}=uU(e)),{priority:b,base:Oa("base",t,a),bodyAttributes:Oa("bodyAttributes",r,a),htmlAttributes:Oa("htmlAttributes",o,a),link:Oa("link",g,a),meta:Oa("meta",p,a),noscript:Oa("noscript",l,a),script:Oa("script",v,a),style:Oa("style",c,a),title:Oa("title",{title:d,titleAttributes:f},a)}},cy=dU,eh=[],v4=!!(typeof window<"u"&&window.document&&window.document.createElement),uy=class{instances=[];canUseDOM=v4;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?eh:this.instances,add:e=>{(this.canUseDOM?eh:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?eh:this.instances).indexOf(e);(this.canUseDOM?eh:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=cy({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},fU={},w4=pr.createContext(fU),j4=class k4 extends x.Component{static canUseDOM=v4;helmetData;constructor(t){super(t),this.helmetData=new uy(this.props.context||{},k4.canUseDOM)}render(){return pr.createElement(w4.Provider,{value:this.helmetData.value},this.props.children)}},Ll=(e,t)=>{const r=document.head||document.querySelector("head"),a=r.querySelectorAll(`${e}[${Ja}]`),o=[].slice.call(a),l=[];let c;return t&&t.length&&t.forEach(d=>{const f=document.createElement(e);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))if(m==="innerHTML")f.innerHTML=d.innerHTML;else if(m==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const g=m,p=typeof d[g]>"u"?"":d[g];f.setAttribute(m,p)}f.setAttribute(Ja,"true"),o.some((m,g)=>(c=g,f.isEqualNode(m)))?o.splice(c,1):l.push(f)}),o.forEach(d=>d.parentNode?.removeChild(d)),l.forEach(d=>r.appendChild(d)),{oldTags:o,newTags:l}},dy=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const a=r.getAttribute(Ja),o=a?a.split(","):[],l=[...o],c=Object.keys(t);for(const d of c){const f=t[d]||"";r.getAttribute(d)!==f&&r.setAttribute(d,f),o.indexOf(d)===-1&&o.push(d);const m=l.indexOf(d);m!==-1&&l.splice(m,1)}for(let d=l.length-1;d>=0;d-=1)r.removeAttribute(l[d]);o.length===l.length?r.removeAttribute(Ja):r.getAttribute(Ja)!==c.join(",")&&r.setAttribute(Ja,c.join(","))},hU=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=x4(e)),dy("title",t)},KN=(e,t)=>{const{baseTag:r,bodyAttributes:a,htmlAttributes:o,linkTags:l,metaTags:c,noscriptTags:d,onChangeClientState:f,scriptTags:m,styleTags:g,title:p,titleAttributes:v}=e;dy("body",a),dy("html",o),hU(p,v);const b={baseTag:Ll("base",r),linkTags:Ll("link",l),metaTags:Ll("meta",c),noscriptTags:Ll("noscript",d),scriptTags:Ll("script",m),styleTags:Ll("style",g)},j={},k={};Object.keys(b).forEach(N=>{const{newTags:S,oldTags:C}=b[N];S.length&&(j[N]=S),C.length&&(k[N]=b[N].oldTags)}),t&&t(),f(e,j,k)},Nu=null,mU=e=>{Nu&&cancelAnimationFrame(Nu),e.defer?Nu=requestAnimationFrame(()=>{KN(e,()=>{Nu=null})}):(KN(e),Nu=null)},pU=mU,XN=class extends x.Component{rendered=!1;shouldComponentUpdate(e){return!Q$(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const a=aU(e.get().map(o=>{const l={...o.props};return delete l.context,l}));j4.canUseDOM?pU(a):cy&&(r=cy(a)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},gU=class extends x.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!G$(YN(this.props,"helmetData"),YN(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,a){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,a)}]}}mapObjectTypeChildren(e,t,r,a){switch(e.type){case"title":return{...t,[e.type]:a,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(a=>{r={...r,[a]:e[a]}}),r}warnOnInvalidChildren(e,t){return qN(GN.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${GN.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),qN(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return pr.Children.forEach(e,a=>{if(!a||!a.props)return;const{children:o,...l}=a.props,c=Object.keys(l).reduce((f,m)=>(f[Z$[m]||m]=l[m],f),{});let{type:d}=a;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(a,o),d){case"Symbol(react.fragment)":t=this.mapChildrenToProps(o,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(a,r,c,o);break;default:t=this.mapObjectTypeChildren(a,t,c,o);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:a}=t;if(e&&(r=this.mapChildrenToProps(e,r)),a&&!(a instanceof uy)){const o=a;a=new uy(o.context,!0),delete r.helmetData}return a?pr.createElement(XN,{...r,context:a.value}):pr.createElement(w4.Consumer,null,o=>pr.createElement(XN,{...r,context:o}))}};const fr=({title:e="FYP Buddy | Your Project Partner",description:t="FYP Buddy - A comprehensive Final Year Project management system for students, supervisors, and coordinators.",keywords:r="FYP, Final Year Project, project management, thesis, student portal, supervisor, coordinator",author:a="FYP Buddy",ogImage:o="/icon.png",ogType:l="website"})=>{const c=window.location.origin,d=window.location.href;return n.jsxs(gU,{children:[n.jsx("title",{children:e}),n.jsx("meta",{name:"title",content:e}),n.jsx("meta",{name:"description",content:t}),n.jsx("meta",{name:"keywords",content:r}),n.jsx("meta",{name:"author",content:a}),n.jsx("meta",{name:"robots",content:"index, follow"}),n.jsx("meta",{name:"language",content:"English"}),n.jsx("meta",{name:"revisit-after",content:"7 days"}),n.jsx("meta",{property:"og:type",content:l}),n.jsx("meta",{property:"og:url",content:d}),n.jsx("meta",{property:"og:title",content:e}),n.jsx("meta",{property:"og:description",content:t}),n.jsx("meta",{property:"og:image",content:`${c}${o}`}),n.jsx("meta",{property:"og:site_name",content:"FYP Buddy"}),n.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),n.jsx("meta",{property:"twitter:url",content:d}),n.jsx("meta",{property:"twitter:title",content:e}),n.jsx("meta",{property:"twitter:description",content:t}),n.jsx("meta",{property:"twitter:image",content:`${c}${o}`}),n.jsx("link",{rel:"canonical",href:d})]})},xU=()=>n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"FYP Buddy | Your Final Year Project Management Partner",description:"FYP Buddy is a comprehensive Final Year Project management system that connects students, supervisors, and coordinators. Manage tasks, track milestones, collaborate with teams, and streamline your FYP journey.",keywords:"FYP management, Final Year Project, project management system, student portal, thesis management, supervisor collaboration, academic project tracking, FYP Buddy"}),n.jsx(ti,{}),n.jsx(B$,{}),n.jsx($$,{}),n.jsx(U$,{}),n.jsx(H$,{}),n.jsx(ri,{})]}),yU="/assets/about-DFacVuJl.png",bU="/assets/Hussain-DX_JOnhp.jpg",vU="/assets/Rafay-kLQ-4eIH.png";function wU(){return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"About Us | FYP Buddy - Your Project Management Solution",description:"Learn about FYP Buddy, an intelligent collaborative platform designed to simplify the Final Year Project journey for students, supervisors, and coordinators. Discover our mission and team.",keywords:"about FYP Buddy, project management platform, academic collaboration, FYP solution, student project management, thesis platform"}),n.jsxs("div",{className:"min-h-screen space-y-20 py-16",children:[n.jsxs("section",{className:"flex flex-col-reverse md:flex-row items-center justify-between px-6 md:px-16 lg:px-24 gap-12",children:[n.jsxs("div",{className:"text-center md:text-left space-y-6 md:w-1/2",children:[n.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-gray-100",children:["About ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"FYP Buddy"})]}),n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:"FYP Buddy is an intelligent, collaborative platform designed to simplify and streamline the Final Year Project journey for students, supervisors, and coordinators."})]}),n.jsx("div",{className:"md:w-1/2 flex justify-center",children:n.jsx("img",{src:yU,alt:"Collaboration",className:"rounded-3xl w-[85%] object-cover"})})]}),n.jsx("section",{className:"px-6 md:px-16 lg:px-24",children:n.jsxs(Te,{className:"rounded-[2rem] bg-[rgba(217,184,124,0.285)] dark:bg-gray-700 shadow-lg border-none transition-colors duration-300",children:[n.jsxs(Zl,{children:[n.jsxs(Jl,{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 dark:text-gray-100",children:["Our ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Mission"})," &"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Vision"})]}),n.jsx("hr",{className:"w-32 h-[3px] mx-auto mt-3 rounded border-0 bg-purple-500  dark:bg-gray-100"})]}),n.jsxs(Dn,{className:"grid md:grid-cols-2 gap-10 items-center",children:[n.jsxs("div",{className:"space-y-5 text-left",children:[n.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Empowering Academic Excellence"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"FYP Buddys mission is to empower students and supervisors through a unified, technology-driven platform. Our vision is to revolutionize how final year projects are managed  making the entire process efficient, transparent, and engaging."})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"bg-[#fff9c4] dark:bg-gray-600 p-4 rounded-full shadow-inner w-[260px] h-[260px] flex items-center justify-center",children:n.jsx("img",{src:tb,alt:"Mission and Vision",className:"rounded-full w-[240px] h-[240px] object-cover shadow-lg"})})})]})]})}),n.jsx("section",{className:"px-6 md:px-16 lg:px-24",children:n.jsxs(Te,{className:"rounded-[2rem] bg-[#fde2e4] dark:bg-gray-700 shadow-lg border-none py-12 transition-colors duration-300",children:[n.jsxs(Zl,{children:[n.jsxs(Jl,{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 dark:text-gray-100",children:["Meet the ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Founders"})]}),n.jsx("hr",{className:"w-32 h-[3px] mx-auto mt-3 rounded border-0 bg-purple-500  dark:bg-gray-100"})]}),n.jsx(Dn,{className:"flex flex-wrap justify-center gap-12",children:[{name:"Hussain Abbas",role:"Lead Developer",image:bU},{name:"Muhammad Rafay Naeem",role:"Full stack Developer",image:vU},{name:"Sahab Kashaf",role:"AI/ML Engineer",image:Ir}].map((e,t)=>n.jsxs("div",{className:"bg-[#fff7ed] dark:bg-gray-800 p-6 rounded-3xl shadow-md w-64 hover:shadow-xl transition-colors duration-300",children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto shadow-lg border-4 border-purple-300 dark:border-gray-400",children:n.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),n.jsx("h3",{className:"mt-4 font-bold text-lg text-center text-gray-900 dark:text-gray-100",children:e.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:e.role})]},t))})]})}),n.jsx("section",{className:"px-6 md:px-16 lg:px-24",children:n.jsxs(Te,{className:"rounded-[2rem] bg-[#dceefc] dark:bg-gray-700 shadow-lg border-none transition-colors duration-300",children:[n.jsxs(Zl,{children:[n.jsxs(Jl,{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 dark:text-gray-100",children:["Why ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Choose"})," FYP Buddy"]}),n.jsx("hr",{className:"w-32 h-[3px] mx-auto mt-3 rounded border-0 bg-purple-500  dark:bg-gray-100"})]}),n.jsxs(Dn,{className:"grid grid-cols-1 md:grid-cols-3 gap-10 text-center",children:[n.jsxs("div",{className:"p-10 bg-white dark:bg-gray-800 rounded-3xl shadow-md transition-colors duration-300",children:[n.jsx(ja,{className:"w-10 h-10 mx-auto mb-4 text-purple-600 dark:text-gray-100"}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-gray-100",children:"Structured Workflow"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Organized FYP processes with smart tracking and automation."})]}),n.jsxs("div",{className:"p-10 bg-white dark:bg-gray-800 rounded-3xl shadow-md transition-colors duration-300",children:[n.jsx(rn,{className:"w-10 h-10 mx-auto mb-4 text-purple-600 dark:text-gray-100"}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-gray-100",children:"Collaborative Platform"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Communication made seamless between students and supervisors."})]}),n.jsxs("div",{className:"p-10 bg-white dark:bg-gray-800 rounded-3xl shadow-md transition-colors duration-300",children:[n.jsx(Px,{className:"w-10 h-10 mx-auto mb-4 text-purple-600 dark:text-gray-100"}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-gray-100",children:"Scalable & Modern"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"MERN-based architecture ensures flexibility and scalability."})]})]})]})})]})]})}function tl({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:ot("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function jU(){const[e,t]=x.useState({name:"",email:"",subject:"",message:""}),r=()=>{const{name:a,email:o,subject:l,message:c}=e,d=`https://mail.google.com/mail/?view=cm&fs=1&to=no.reply.fypbuddy@gmail.com&su=${encodeURIComponent(l)}&body=${encodeURIComponent(`Name: ${a}
Email: ${o}

Message:
${c}`)}`;window.open(d,"_blank")};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Contact Us | FYP Buddy - Get in Touch",description:"Have questions about FYP Buddy? Contact our team for support, inquiries, or feedback. We're here to help you with your Final Year Project management needs.",keywords:"contact FYP Buddy, support, help, inquiries, FYP assistance, project management support"}),n.jsx("section",{className:"min-h-screen  py-20 flex items-center justify-center px-6 duration-300",children:n.jsxs("div",{className:"w-full max-w-6xl",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-800 dark:text-gray-100 mb-4 transition-colors duration-300",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Contact"})," Us",n.jsx("hr",{className:"w-32 h-[3px] mx-auto mt-3 rounded border-0 bg-purple-500  dark:bg-gray-100"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto text-base leading-relaxed transition-colors duration-300",children:"Have questions, feedback, or collaboration ideas? Reach out to us  wed love to hear from you!"})]}),n.jsx(Te,{className:"border-none shadow-xl dark:bg-gray-800 rounded-3xl overflow-hidden transition-colors duration-300",children:n.jsx(Dn,{className:"p-0",children:n.jsxs("div",{className:"grid md:grid-cols-5",children:[n.jsxs("div",{className:"ml-4 mr-4 md:mr-0 md:col-span-2 bg-purple-600 dark:bg-gray-700 text-white p-10 relative flex flex-col justify-between rounded-l-3xl rounded-r-3xl transition-colors duration-300",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Contact Information"}),n.jsx("p",{className:"text-purple-100 dark:text-gray-200 text-sm mb-10",children:"Our team is always available to assist you. Lets make something great together!"}),n.jsxs("div",{className:"space-y-6 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ii,{className:"w-5 h-5"}),n.jsx("div",{children:n.jsx("p",{children:"+92 300 1234567"})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("p",{children:"support@fypbuddy.com"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(FP,{className:"w-5 h-5"}),n.jsx("p",{children:"NUML, Islamabad, Pakistan"})]})]})]}),n.jsx("div",{className:"absolute bottom-0 right-0 w-56 h-56 bg-purple-400/30 dark:bg-gray-600/30 rounded-full translate-x-1/3 translate-y-1/3 transition-colors duration-300"})]}),n.jsx("div",{className:"md:col-span-3 bg-white dark:bg-gray-800 p-10 rounded-l-3xl rounded-r-3xl transition-colors duration-300",children:n.jsxs("form",{onSubmit:a=>a.preventDefault(),className:"space-y-6 text-gray-700 dark:text-gray-200 transition-colors duration-300",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Your Name"}),n.jsx(st,{placeholder:"Enter your name",value:e.name,onChange:a=>t({...e,name:a.target.value}),className:"border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 rounded-xl px-4 py-2 focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 transition-colors duration-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Your Email"}),n.jsx(st,{type:"email",placeholder:"Enter your email",value:e.email,onChange:a=>t({...e,email:a.target.value}),className:"border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 rounded-xl px-4 py-2 focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 transition-colors duration-300"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Subject"}),n.jsx(st,{placeholder:"Subject of your message",value:e.subject,onChange:a=>t({...e,subject:a.target.value}),className:"border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 rounded-xl px-4 py-2 focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 transition-colors duration-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Message"}),n.jsx(tl,{placeholder:"Write your message here...",value:e.message,onChange:a=>t({...e,message:a.target.value}),className:"border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-200 rounded-xl px-4 py-2 min-h-[120px] focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 resize-none transition-colors duration-300"})]}),n.jsx(Pe,{type:"button",onClick:r,className:"w-full bg-purple-500 hover:purple-400 text-white dark:bg-gray-200 dark:text-gray-900 dark:hover:bg-gray-300 py-5 rounded-xl font-semibold shadow-md transition-all duration-300",children:"Send Message"})]})})]})})})]})})]})}function kU(){return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Privacy Policy | FYP Buddy - Your Data Protection",description:"Read FYP Buddy's privacy policy to understand how we collect, use, and protect your personal information. Your privacy and data security are our top priorities.",keywords:"privacy policy, data protection, user privacy, FYP Buddy security, personal information, GDPR compliance"}),n.jsx("div",{className:"min-h-screen py-16 mt-8",children:n.jsxs("section",{className:"px-6 md:px-16 lg:px-24",children:[n.jsxs("div",{className:"text-center space-y-4 mb-12",children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100",children:["Privacy ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Policy"})]}),n.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Your privacy is important to us. This policy outlines how FYP Buddy collects, uses, and protects your personal information."}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last Updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx(Te,{className:"rounded-[2rem] bg-white dark:bg-gray-800 shadow-lg border-none transition-colors duration-300",children:n.jsxs(Dn,{className:"p-8 md:p-12 space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Information We Collect"}),n.jsxs("div",{className:"space-y-4 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Personal Information"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Name and email address"}),n.jsx("li",{children:"Student/Supervisor ID"}),n.jsx("li",{children:"University affiliation"}),n.jsx("li",{children:"Profile information"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Project Data"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"FYP project details"}),n.jsx("li",{children:"Task and milestone information"}),n.jsx("li",{children:"Communication logs"}),n.jsx("li",{children:"Uploaded documents"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Academic Records"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Grades and evaluations"}),n.jsx("li",{children:"Feedback and comments"}),n.jsx("li",{children:"Progress reports"}),n.jsx("li",{children:"Submission history"})]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"How We Use Your Information"}),n.jsxs("ul",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Platform Functionality:"})," To provide and maintain FYP Buddy services, including project management, task tracking, and communication features."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"User Authentication:"})," To verify your identity and manage your account securely."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Communication:"})," To send notifications, updates, and important information about your projects and platform changes."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Analytics:"})," To analyze usage patterns and improve our platform's performance and user experience."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Academic Support:"})," To facilitate collaboration between students, supervisors, and coordinators."]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Data Protection"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Secure Storage"}),n.jsx("p",{children:"All data is encrypted and stored on secure servers with regular backups."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Access Control"}),n.jsx("p",{children:"Role-based access ensures only authorized users can view your information."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Privacy First"}),n.jsx("p",{children:"We never sell your data to third parties or use it for advertising."})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Your Rights"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"You have the right to:"}),n.jsxs("ul",{className:"grid md:grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Access Your Data:"})," Request a copy of all personal information we hold about you."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Correct Information:"})," Update or correct any inaccurate personal information."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Delete Your Account:"})," Request deletion of your account and associated data."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Data Portability:"})," Export your data in a commonly used format."]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Data Sharing"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"We do not sell or rent your personal information. We may share your data only in the following circumstances:"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"With your supervisor and coordinator as part of the FYP management process"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"With your educational institution for academic purposes"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"When required by law or to protect our legal rights"})]})]})]}),n.jsxs("section",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:"Questions About Your Privacy?"}),n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:["If you have any questions or concerns about our privacy practices, please contact "," ",n.jsx("a",{href:"mailto:no.reply.fypbuddy@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline font-semibold",target:"_blank",rel:"noopener noreferrer",children:"Support"})]})]})]})})]})})]})}function NU(){return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Terms & Conditions | FYP Buddy - User Agreement",description:"Review FYP Buddy's terms and conditions. Understand the rules, guidelines, and user agreement for using our Final Year Project management platform.",keywords:"terms and conditions, user agreement, FYP Buddy terms, platform rules, service agreement, legal terms"}),n.jsx("div",{className:"min-h-screen py-16 mt-8",children:n.jsxs("section",{className:"px-6 md:px-16 lg:px-24",children:[n.jsxs("div",{className:"text-center space-y-4 mb-12",children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100",children:["Terms & ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Conditions"})]}),n.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Please read these terms and conditions carefully before using FYP Buddy platform."}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last Updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),n.jsx(Te,{className:"rounded-[2rem] bg-white dark:bg-gray-800 shadow-lg border-none transition-colors duration-300",children:n.jsxs(Dn,{className:"p-8 md:p-12 space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Acceptance of Terms"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"By accessing and using FYP Buddy, you accept and agree to be bound by the terms and provision of this agreement."}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"You must be affiliated with an educational institution to use this platform."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"You agree to provide accurate and complete information during registration."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"You are responsible for maintaining the confidentiality of your account credentials."})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"User Responsibilities"}),n.jsxs("div",{className:"space-y-4 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Content Guidelines"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Submit only original academic work"}),n.jsx("li",{children:"Respect intellectual property rights"}),n.jsx("li",{children:"Avoid plagiarism and academic dishonesty"}),n.jsx("li",{children:"Use appropriate language and tone"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Account Security"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Keep your password secure"}),n.jsx("li",{children:"Do not share account credentials"}),n.jsx("li",{children:"Report suspicious activity immediately"}),n.jsx("li",{children:"Log out from shared devices"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Prohibited Activities"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Harassment or bullying"}),n.jsx("li",{children:"Unauthorized access attempts"}),n.jsx("li",{children:"Spreading malware or viruses"}),n.jsx("li",{children:"Impersonating others"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Fair Use"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Use platform for academic purposes only"}),n.jsx("li",{children:"Respect system resources"}),n.jsx("li",{children:"Follow university guidelines"}),n.jsx("li",{children:"Cooperate with administrators"})]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Service Availability"}),n.jsxs("ul",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Uptime:"})," We strive to maintain 99.9% uptime but cannot guarantee uninterrupted service."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Maintenance:"})," Scheduled maintenance will be announced in advance when possible."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Updates:"})," We reserve the right to modify or discontinue features with notice."]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100 font-bold mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Support:"})," Technical support is available during business hours."]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Intellectual Property"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Platform Content"}),n.jsx("p",{children:"All content, features, and functionality of FYP Buddy are owned by us and protected by copyright, trademark, and other intellectual property laws."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"User Content"}),n.jsx("p",{children:"You retain ownership of your academic work. By uploading content, you grant us a license to store, display, and process it solely for providing our services."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Restrictions"}),n.jsx("p",{children:"You may not copy, modify, distribute, or reverse engineer any part of the platform without explicit permission."})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Limitation of Liability"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:'FYP Buddy is provided "as is" without warranties of any kind. We are not liable for any indirect, incidental, or consequential damages arising from your use of the platform.'}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"We are not responsible for data loss due to technical issues"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"Users should maintain backups of important work"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"We are not liable for academic outcomes or grades"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-purple-600 dark:text-gray-100",children:""}),n.jsx("span",{children:"Third-party integrations are used at your own risk"})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Account Termination"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"We reserve the right to suspend or terminate your account if you violate these terms or engage in prohibited activities."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Grounds for Termination"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Violation of terms"}),n.jsx("li",{children:"Academic misconduct"}),n.jsx("li",{children:"Abusive behavior"}),n.jsx("li",{children:"Security threats"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Your Rights"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Request account deletion"}),n.jsx("li",{children:"Export your data"}),n.jsx("li",{children:"Appeal termination decisions"}),n.jsx("li",{children:"Receive notice when possible"})]})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 pb-2 border-b-2 border-purple-500 dark:border-gray-100",children:"Changes to Terms"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"We reserve the right to modify these terms at any time. We will notify users of any significant changes via email or platform notifications. Continued use of the platform after changes constitutes acceptance of the new terms."})]}),n.jsxs("section",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:"Questions About These Terms?"}),n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:["If you have any questions about our Terms and Conditions, please contact our "," ",n.jsx("a",{href:"mailto:no.reply.fypbuddy@gmail.com",className:"text-purple-600 dark:text-purple-400 hover:underline font-semibold",target:"_blank",rel:"noopener noreferrer",children:"Support"})]})]})]})})]})})]})}const Nr=({portalType:e})=>{const[t,r]=x.useState(!1),a={student:[{label:"Dashboard",path:"/student/dashboard",icon:bs},{label:"My FYP Group",path:"/student/fyp-group",icon:hC},{label:"AI Chatbot",path:"/student/chatbot",icon:Wy},{label:"Team Chat",path:"/student/team-chat",icon:ni},{label:"Assigned Tasks",path:"/student/assigned-tasks",icon:Uh},{label:"Milestones",path:"/student/milestones",icon:Qy},{label:"My Grades",path:"/student/my-grades",icon:vm},{label:"Thesis Section",path:"/student/thesis",icon:ja},{label:"Profile",path:"/student/profile",icon:Rn},{label:"Logout",action:"logout",icon:Vl}],supervisor:[{label:"Dashboard",path:"/supervisor/dashboard",icon:bs},{label:"My Groups",path:"/supervisor/my-groups",icon:rn},{label:"Group Chats",path:"/supervisor/team-chat",icon:ni},{label:"Manage Tasks",path:"/supervisor/manage-tasks",icon:Uh},{label:"Grading",path:"/supervisor/grading",icon:fn},{label:"Profile",path:"/supervisor/profile",icon:Rn},{label:"Logout",action:"logout",icon:Vl}],coordinator:[{label:"Dashboard",path:"/coordinator/dashboard",icon:bs},{label:"Milestones",path:"/coordinator/milestones",icon:fC},{label:"Submitted Files",path:"/coordinator/documents",icon:hn},{label:"Grading",path:"/coordinator/grading",icon:fn},{label:"Sample Documents",path:"/coordinator/sample-documents",icon:ja},{label:"Announcements",path:"/coordinator/announcements",icon:eo},{label:"Profile",path:"/coordinator/profile",icon:Rn},{label:"Logout",action:"logout",icon:Vl}],admin:[{label:"Dashboard",path:"/admin/dashboard",icon:bs},{label:"User Management",path:"/admin/users",icon:vC},{label:"Profile",path:"/admin/profile",icon:Zy},{label:"Logout",action:"logout",icon:Vl}]},o=a[e]||a.student,l={student:"Student Portal",supervisor:"Supervisor Portal",coordinator:"Coordinator Portal",admin:"Admin Portal"}[e]||"Portal";return n.jsxs(n.Fragment,{children:[n.jsxs("aside",{className:`hidden md:flex md:flex-col md:p-5\r
        bg-gradient-to-b from-purple-600 to-purple-700 text-white dark:from-gray-800 dark:to-gray-900 dark:text-gray-200 \r
        rounded-xl shadow-lg transition-colors duration-300\r
        sticky top-20 h-[calc(100vh-5rem)] max-h-[calc(100vh-5rem)]\r
        flex-shrink-0 w-64 overflow-hidden flex flex-col`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-white/20 dark:border-gray-700",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 dark:bg-gray-700 flex items-center justify-center text-xl",children:""}),n.jsx("span",{className:"font-bold text-lg tracking-tight",children:l})]}),n.jsx("nav",{className:"flex-1 flex flex-col gap-0.5 overflow-y-auto overflow-x-hidden pr-1",children:o.map(c=>{const d=c.icon;return c.action==="logout"?n.jsxs("button",{onClick:()=>r(!0),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg font-medium text-left transition-all duration-200\r
                  text-white hover:bg-white/20 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white\r
                  hover:translate-x-1 active:scale-95`,children:[n.jsx(d,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{children:c.label})]},c.label):n.jsxs(Fo,{to:c.path,className:({isActive:f})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg font-medium transition-all duration-200
                  ${f?"bg-white/30 text-white shadow-md dark:bg-gray-700 dark:text-gray-100 translate-x-1":"text-white hover:bg-white/20 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white hover:translate-x-1 active:scale-95"}`,children:[n.jsx(d,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{children:c.label})]},c.label)})}),n.jsx("div",{className:"mt-auto pt-4 border-t border-white/20 dark:border-gray-700",children:n.jsx("p",{className:"text-xs text-white/70 dark:text-gray-400 text-center",children:"FYP Buddy"})})]}),n.jsx(Lb,{open:t,onClose:()=>r(!1)})]})},SU=()=>{const{user:e}=it(k=>k.auth),[t,r]=x.useState([]),[a,o]=x.useState(!1),l="https://fyp-buddy.up.railway.app/",c=async()=>{try{o(!0);const k=localStorage.getItem("accessToken"),N=await De.get(`${l}/user/get-users`,{headers:{Authorization:`Bearer ${k}`},withCredentials:!0});N.data.success?r(N.data.user):ee.error(N.data.message||"Failed to fetch users")}catch(k){console.error("Error fetching users:",k),ee.error("Failed to load user data")}finally{o(!1)}};x.useEffect(()=>{c()},[]);const d=t.filter(k=>k.role==="student").length,f=t.filter(k=>k.role==="supervisor").length,m=t.filter(k=>k.role==="coordinator").length,g=t.filter(k=>k.role==="admin").length,p=[{number:d,label:"Students",color:"blue"},{number:f,label:"Supervisors",color:"green"},{number:m,label:"Coordinators",color:"orange"},{number:g,label:"Admins",color:"purple"}],v=k=>new Date(k).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"}),b=new Date,j=t.filter(k=>{if(!k.createdAt)return!1;const N=new Date(k.createdAt);return(b-N)/(1e3*60*60)<=24}).sort((k,N)=>new Date(N.createdAt)-new Date(k.createdAt)).map(k=>({title:`${k.username} registered as ${k.role}`,time:v(k.createdAt),tag:"recent",color:"green"}));return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Admin Dashboard | FYP Buddy - System Management",description:"Admin dashboard for FYP Buddy. Manage users, oversee system operations, handle user registrations, and maintain the FYP management platform.",keywords:"admin dashboard, user management, system administration, FYP admin, platform management"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"admin"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full",children:[n.jsxs(Te,{className:"w-full mx-auto flex flex-col md:flex-row items-center justify-between gap-8 p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl transition-all duration-300",children:[n.jsxs("div",{className:"flex flex-col text-center md:text-left",children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-2",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Admin"})," Dashboard"]}),n.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Welcome back,"," ",n.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e?.username||"Admin"})," ",""]})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(tr,{className:"w-32 h-32 md:w-40 md:h-40 border-4 border-gray-300 dark:border-gray-600 shadow-md",children:n.jsx(Rr,{src:e?.profilePic||Ir})}),n.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800 dark:text-gray-300",children:e?.username||"Unknown User"})]})]}),a?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx(wt,{className:"animate-spin w-8 h-8 text-purple-500"})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(k=>n.jsxs(Te,{className:"flex flex-col items-center p-4 text-center bg-white dark:bg-gray-800 border-none shadow-md transition-colors duration-300",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${k.color==="blue"?"bg-blue-100 text-blue-500 dark:bg-blue-900 dark:text-blue-300":k.color==="green"?"bg-green-100 text-green-500 dark:bg-green-900 dark:text-green-300":k.color==="orange"?"bg-orange-100 text-orange-500 dark:bg-orange-900 dark:text-orange-300":"bg-purple-100 text-purple-500 dark:bg-purple-900 dark:text-purple-300"}`,children:n.jsx(SL,{})}),n.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:k.number}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.label})]},k.label))}),n.jsxs(Te,{className:"p-4 flex flex-col gap-3 bg-white dark:bg-gray-800 border-none shadow-md rounded-xl",children:[n.jsxs("h2",{className:"text-sm font-bold text-gray-800 dark:text-gray-100",children:["Recent ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Registrations"})," (Last ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"24"})," Hours)"]}),j.length>0?j.map((k,N)=>n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mt-0.5 ${k.color==="green"?"bg-green-100 text-green-500 dark:bg-green-900 dark:text-green-300":"bg-blue-100 text-blue-500 dark:bg-blue-900 dark:text-blue-300"}`,children:n.jsx(Rn,{})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs font-medium text-gray-800 dark:text-gray-200 mb-1",children:k.title}),n.jsx("p",{className:"text-[0.7rem] text-gray-400 dark:text-gray-500",children:k.time})]}),n.jsx("span",{className:"px-2 py-1 rounded-full text-[0.625rem] whitespace-nowrap bg-green-100 text-green-500 dark:bg-green-900 dark:text-green-300",children:k.tag})]},N)):n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No new registrations in the last 24 hours."})]})]})]})]})})]})};function Ds({className:e,...t}){return n.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:n.jsx("table",{"data-slot":"table",className:ot("w-full caption-bottom text-sm",e),...t})})}function Ms({className:e,...t}){return n.jsx("thead",{"data-slot":"table-header",className:ot("[&_tr]:border-b",e),...t})}function Os({className:e,...t}){return n.jsx("tbody",{"data-slot":"table-body",className:ot("[&_tr:last-child]:border-0",e),...t})}function Wr({className:e,...t}){return n.jsx("tr",{"data-slot":"table-row",className:ot("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ct({className:e,...t}){return n.jsx("th",{"data-slot":"table-head",className:ot("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Et({className:e,...t}){return n.jsx("td",{"data-slot":"table-cell",className:ot("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function CU({open:e,setOpen:t}){const{theme:r}=it(k=>k.theme),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(""),[p,v]=x.useState({username:"",cnic:"",email:"",password:"",confirmPassword:"",department:""}),b=k=>{const{name:N,value:S}=k.target;if(N==="username"){const C=S.replace(/[^a-zA-Z\s]/g,"");v(A=>({...A,username:C}));return}if(N==="email"){v(C=>({...C,email:S.toLowerCase()}));return}if(N==="cnic"){const C=S.replace(/\D/g,"").slice(0,13);let A={...p,cnic:C};if(C.length===13){const I=`Numl@${C}`;(p.password===""||p.password.startsWith("Numl@"))&&(A.password=I,A.confirmPassword=I)}v(A);return}v(C=>({...C,[N]:S}))},j=async k=>{if(k.preventDefault(),!p.username.match(/^[A-Za-z\s]+$/)){ee.error("Username must contain only letters and spaces.");return}if(!/^\d{13}$/.test(p.cnic)){ee.error("CNIC must be exactly 13 digits without dashes or alphabets.");return}if(!/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/.test(p.email)){ee.error("Email must be lowercase and in a valid format!");return}if(!m){ee.error("Please select a role!");return}if(!p.department){ee.error("Please select a department!");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#^])[A-Za-z\d@$!%*?&#^]{8,}$/.test(p.password)){ee.error("Password must be at least 8 characters long, include uppercase, lowercase, number, and special character.");return}if(p.password!==p.confirmPassword){ee.error("Passwords do not match!");return}f(!0),ee.loading("Creating user...");try{const C={username:p.username,email:p.email,password:p.password,role:m,cnic:p.cnic,department:p.department},A="https://fyp-buddy.up.railway.app/",I=localStorage.getItem("accessToken"),D=await De.post(`${A}/user/register`,C,{headers:{Authorization:`Bearer ${I}`},withCredentials:!0});ee.dismiss(),D.data.success&&(ee.success("User Created Successfully!"),v({username:"",cnic:"",email:"",password:"",confirmPassword:"",department:""}),g(""),t(!1))}catch(C){ee.dismiss();const A=C.response?.data?.message||C.response?.data||"Failed to create user";ee.error(A)}finally{f(!1)}};return n.jsx(_r,{open:e,onOpenChange:t,children:n.jsx(Xr,{className:`sm:max-w-2xl rounded-2xl backdrop-blur-md bg-white dark:bg-gray-900 shadow-2xl p-0 overflow-hidden transition-all duration-300 border-0 ${r==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 transition-colors duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-8",children:[n.jsxs(an,{className:"text-center mb-6 space-y-2",children:[n.jsxs(sn,{className:"text-3xl font-bold text-gray-800 dark:text-white text-center",children:["Create a ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"New User"})]}),n.jsx(Ha,{className:"text-gray-600 dark:text-gray-400 text-sm text-center",children:"Fill in the details below to add a new user to the system"})]}),n.jsxs("form",{className:"mt-6 space-y-5",onSubmit:j,children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"role",value:m,onChange:k=>g(k.target.value),required:!0,className:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2.5 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-500/50 transition-all duration-200 cursor-pointer",children:[n.jsx("option",{value:"",children:"Select Role"}),n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"supervisor",children:"Supervisor"}),n.jsx("option",{value:"coordinator",children:"FYP Coordinator"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Username ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"text",name:"username",value:p.username,onChange:b,placeholder:"Enter full name",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"email",name:"email",value:p.email,onChange:b,placeholder:"user@example.com",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["CNIC ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"text",name:"cnic",value:p.cnic,onChange:b,placeholder:"3520212345678",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"13 digits, no dashes"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Department ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"department",value:p.department,onChange:b,required:!0,className:"h-11 border border-gray-300 dark:border-gray-600 rounded-lg px-4 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-500/50 transition-all duration-200 cursor-pointer",children:[n.jsx("option",{value:"",children:"Select Department"}),n.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),n.jsx("option",{value:"Computer Science",children:"Computer Science"}),n.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),n.jsx("option",{value:"Information Technology",children:"Information Technology"}),n.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),n.jsx("option",{value:"Cyber Security",children:"Cyber Security"}),n.jsx("option",{value:"Data Science",children:"Data Science"})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 relative",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{type:a?"text":"password",name:"password",value:p.password,onChange:b,placeholder:"Enter password",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 pr-11 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200"}),n.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:a?n.jsx(Yi,{className:"w-5 h-5"}):n.jsx(ba,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 relative",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Confirm Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{type:l?"text":"password",name:"confirmPassword",value:p.confirmPassword,onChange:b,placeholder:"Re-enter password",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 pr-11 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200"}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:l?n.jsx(Yi,{className:"w-5 h-5"}):n.jsx(ba,{className:"w-5 h-5"})})]})]})]}),n.jsx(Pe,{type:"submit",disabled:d,className:"w-full mt-8 h-12 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white shadow-lg font-semibold flex items-center justify-center rounded-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-5 w-5 mr-2"}),"Creating User..."]}):"Create User"})]})]})})})})}function EU({open:e,setOpen:t,selectedUser:r,onUserUpdated:a}){const{theme:o}=it(Q=>Q.theme),[l,c]=x.useState(!1),[d,f]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(""),[b,j]=x.useState(""),[k,N]=x.useState(!1),[S,C]=x.useState(""),[A,I]=x.useState(!1),[D,T]=x.useState({fullName:"",cnic:"",email:"",department:""}),B="https://fyp-buddy.up.railway.app/",X=localStorage.getItem("accessToken"),Y=/^[a-z0-9.+]+@[a-z0-9.-]+\.[a-z]{2,}$/;x.useEffect(()=>{r&&(console.log("UpdateUser received selectedUser:",r),f(r.role||""),T({fullName:r.username||"",cnic:r.cnic||"",email:r.email||"",department:r.department||""}),j(r.email||""),C(r.email||""),N(!1),I(!1))},[r]);const K=Q=>{const{name:Z,value:U}=Q.target;if(Z==="email"){const G=U.trim();if(T(F=>({...F,email:G})),G===""){N(!1),I(!0);return}G===b||G===S?(N(!1),I(!1)):(N(!0),I(!1))}else T(G=>({...G,[Z]:U}));if(Z==="fullName"){const G=U.replace(/[^A-Za-z\s]/g,"");T(F=>({...F,fullName:G}))}else if(Z==="email"){const G=U.replace(/[^a-z0-9@._]/g,"");T(F=>({...F,email:G})),N(!(G===b||G===S))}else if(Z==="cnic"){const G=U.replace(/[^0-9]/g,"").slice(0,13);T(F=>({...F,cnic:G}))}},le=async()=>{if(k){if(!r||!r._id){ee.error("User information is missing. Please try again.");return}if(!Y.test(D.email)){ee.error("Invalid email address");return}try{c(!0);const Q=await De.post(`${B}/user/email-change/${r._id}`,{newEmail:D.email},{headers:{Authorization:`Bearer ${X}`},withCredentials:!0});Q.data.success&&(g(!0),ee.success(Q.data.message))}catch(Q){const Z=Q?.response?.data?.message||Q?.response?.data||"Unable to verify the new email.";ee.error(Z)}finally{c(!1)}}},L=async()=>{if(p.length!==6){ee.error("Please enter complete 6-digit OTP");return}if(!r||!r._id){ee.error("User information is missing. Please try again."),g(!1);return}try{c(!0);const Q=await De.post(`${B}/user/verify-email/${r._id}`,{otp:p,newEmail:D.email},{headers:{Authorization:`Bearer ${X}`},withCredentials:!0});Q.data.success&&(g(!1),j(D.email),N(!1),ee.success(Q.data.message))}catch(Q){const Z=Q?.response?.data?.message||Q?.response?.data||"Unable to verify your new email";ee.error(Z)}finally{c(!1)}},W=async Q=>{if(Q.preventDefault(),!r||!r._id){ee.error("User information is missing. Please try again.");return}const Z=/^\d{13}$/,U=String(D.cnic);if(D.cnic!==r.cnic&&!Z.test(U)){ee.error("CNIC must be exactly 13 digits without dashes.");return}const G={role:d,username:D.fullName};D.email!==r.email&&(G.email=D.email),D.cnic!==r.cnic&&(G.cnic=U),D.department!==r.department&&(G.department=D.department);const F=ee.loading("Updating user...");try{c(!0);const V=await De.put(`${B}/user/update-user/${r._id}`,G,{headers:{Authorization:`Bearer ${X}`},withCredentials:!0});ee.dismiss(F),V.data.success&&(ee.success(V.data.message||"User updated successfully!"),a&&a(),setTimeout(()=>t(!1),800))}catch(V){ee.dismiss(F);const R=V.response?.data?.message||V.response?.data||"Failed to update user.";ee.error(R)}finally{c(!1)}};return r?n.jsx(_r,{open:e,onOpenChange:t,children:n.jsx(Xr,{className:`sm:max-w-2xl rounded-2xl backdrop-blur-md bg-white dark:bg-gray-900 shadow-2xl p-0 overflow-hidden transition-all duration-300 border-0 ${o==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 transition-colors duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-8",children:[n.jsxs(an,{className:"text-center mb-6 space-y-2",children:[n.jsxs(sn,{className:"text-3xl font-bold text-gray-800 dark:text-white text-center",children:["Update ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"User Details"})]}),n.jsx(Ha,{className:"text-gray-600 dark:text-gray-400 text-sm text-center",children:"Modify user information and save changes"})]}),n.jsxs("form",{className:"mt-6 space-y-5",onSubmit:W,children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"role",value:d,onChange:Q=>f(Q.target.value),required:!0,disabled:l,className:"border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2.5 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-500/50 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"Select Role"}),n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"supervisor",children:"Supervisor"}),n.jsx("option",{value:"coordinator",children:"FYP Coordinator"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"text",name:"fullName",value:D.fullName||"",onChange:K,disabled:l,placeholder:"Enter full name",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200 disabled:opacity-50"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"email",name:"email",value:D.email||"",onChange:K,disabled:l,placeholder:"user@example.com",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200 disabled:opacity-50"}),k&&n.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-600 dark:bg-amber-400 rounded-full"}),"Email changed - verification required"]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["CNIC ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"text",name:"cnic",value:D.cnic||"",onChange:K,disabled:l,placeholder:"3520212345678",required:!0,className:"h-11 rounded-lg border-gray-300 dark:border-gray-600 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 dark:bg-gray-700 dark:text-gray-100 transition-all duration-200 disabled:opacity-50"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"13 digits, no dashes"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:["Department ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"department",value:D.department||"",onChange:K,disabled:l,className:"h-11 border border-gray-300 dark:border-gray-600 rounded-lg px-4 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 dark:focus:ring-purple-500/50 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"",children:"Select Department"}),n.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),n.jsx("option",{value:"Computer Science",children:"Computer Science"}),n.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),n.jsx("option",{value:"Information Technology",children:"Information Technology"}),n.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),n.jsx("option",{value:"Cyber Security",children:"Cyber Security"}),n.jsx("option",{value:"Data Science",children:"Data Science"})]})]})]}),k?n.jsx(Pe,{type:"button",onClick:le,disabled:l,className:"w-full mt-8 h-12 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white shadow-lg flex items-center justify-center rounded-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-semibold",children:l?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-5 w-5 mr-2"}),"Sending OTP..."]}):"Verify New Email"}):n.jsx(Pe,{type:"submit",disabled:l||A,className:"w-full mt-8 h-12 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white shadow-lg flex items-center justify-center rounded-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-semibold",children:l?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-5 w-5 mr-2"}),"Saving Changes..."]}):"Save Changes"})]}),m&&n.jsx(_r,{open:m,onOpenChange:g,children:n.jsx(Xr,{className:`sm:max-w-lg rounded-2xl backdrop-blur-md bg-white dark:bg-gray-900 shadow-2xl p-0 overflow-hidden transition-all duration-300 border-0 ${o==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-none rounded-xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 transition-colors duration-300",children:n.jsxs("div",{className:"flex flex-col justify-between p-8",children:[n.jsxs(an,{className:"text-center mb-6 space-y-3",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center mb-2",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsxs(sn,{className:"text-3xl font-bold text-gray-800 dark:text-white text-center ",children:["Verify ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Email"})]}),n.jsxs(Ha,{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed text-center",children:["We've sent a 6-digit verification code to",n.jsx("br",{}),n.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400 mt-1 inline-block",children:D.email})]})]}),n.jsxs("div",{className:"mt-8 mb-6",children:[n.jsx("div",{className:"flex justify-center gap-2 sm:gap-3",children:Array.from({length:6}).map((Q,Z)=>n.jsx(st,{type:"text",inputMode:"numeric",maxLength:1,value:p[Z]||"",onChange:U=>{const G=U.target.value.replace(/[^0-9]/g,""),F=p.substring(0,Z)+G+p.substring(Z+1);if(v(F),G&&Z<5){const V=document.getElementById(`otp-update-${Z+1}`);V&&V.focus()}},onKeyDown:U=>{if(U.key==="Backspace"&&!p[Z]&&Z>0){const G=document.getElementById(`otp-update-${Z-1}`);G&&G.focus()}},id:`otp-update-${Z}`,className:"w-12 h-14 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-gray-100 focus:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-500/50 focus:border-purple-500 dark:focus:border-purple-500 transition-all duration-200 shadow-sm"},Z))}),n.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-4",children:"Didn't receive the code? Check your spam folder"})]}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-center gap-3",children:[n.jsx(Pe,{type:"button",variant:"outline",onClick:()=>{g(!1),v("")},className:"w-full sm:w-auto h-11 border-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-100 font-semibold cursor-pointer transition-all duration-200",children:"Cancel"}),n.jsx(Pe,{onClick:L,disabled:l||p.length!==6,className:"w-full sm:w-auto h-11 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white font-semibold cursor-pointer shadow-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:l?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-5 w-5 mr-2"}),"Verifying..."]}):"Verify Code"})]})]})})})})]})})})}):null}const AU=({role:e})=>{const t={student:"bg-blue-100 text-blue-700",supervisor:"bg-green-100 text-green-700",coordinator:"bg-purple-100 text-purple-700",admin:"bg-red-100 text-red-800"};return n.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium capitalize ${t[e]||"bg-gray-100 text-gray-600"}`,children:e})},TU=()=>{const{theme:e}=it($=>$.theme),{user:t}=it($=>$.auth),r=t,[a,o]=x.useState(!1),[l,c]=x.useState(null),[d,f]=x.useState(!1),[m,g]=x.useState(!1),[p,v]=x.useState([]),[b,j]=x.useState(!0),[k,N]=x.useState(null),[S,C]=x.useState(null),[A,I]=x.useState(""),[D,T]=x.useState("All Roles"),[B,X]=x.useState(1),[Y,K]=x.useState(25),le=async()=>{const $="https://fyp-buddy.up.railway.app/",z=localStorage.getItem("accessToken");try{j(!0);const ue=await De.get(`${$}/user/get-users`,{headers:{Authorization:`Bearer ${z}`},withCredentials:!0});ue.data.success?v(ue.data.user||[]):ee.error(ue.data.message||"Failed to fetch users")}catch(ue){console.error("Error fetching users:",ue);const ve=ue.response?.data?.message||ue.response?.data||"Failed to fetch users";N(ve),ee.error(ve)}finally{j(!1)}};x.useEffect(()=>{le()},[]);const L=$=>{c($),o(!0)},W=async()=>{if(!l)return;const $="https://fyp-buddy.up.railway.app/",z=localStorage.getItem("accessToken");try{j(!0);const ue=await De.delete(`${$}/user/delete-user/${l._id}`,{headers:{Authorization:`Bearer ${z}`},withCredentials:!0});ue.data.success?(ee.success(`${l.username} has been removed`),await le()):ee.error(ue.data.message||"Failed to delete user")}catch(ue){console.error("Error deleting user:",ue);const ve=ue.response?.data?.message||ue.response?.data||"Failed to delete user";ee.error(ve)}finally{o(!1),c(null),j(!1)}},Q=p.filter($=>$._id!==r?._id).filter($=>{const z=$.username?.toLowerCase().includes(A.toLowerCase())||$.email?.toLowerCase().includes(A.toLowerCase()),ue=D==="All Roles"||$.role?.toLowerCase()===D.toLowerCase();return z&&ue}),Z=Math.ceil(Q.length/Y),U=(B-1)*Y,G=U+Y,F=Q.slice(U,G);x.useEffect(()=>{X(1)},[A,D,Y]);const V=()=>{X($=>Math.max($-1,1))},R=()=>{X($=>Math.min($+1,Z))},_=$=>{K(Number($.target.value))};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"User Management | FYP Buddy - Admin Panel",description:"Manage all users in the FYP Buddy system. Create, update, and delete user accounts for students, supervisors, and coordinators.",keywords:"user management, admin panel, user accounts, system administration"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"admin"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full overflow-x-hidden",children:[n.jsxs(Te,{className:"p-4 dark:bg-gray-800 w-full",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4",children:[n.jsx("div",{children:n.jsxs("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white text-center lg:text-right",children:["Users ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Management"})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 w-full sm:w-auto",children:[n.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by name or email",value:A,onChange:$=>I($.target.value),className:"w-full pl-10 pr-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500 dark:focus:border-gray-200"})]}),n.jsxs("select",{value:D,onChange:$=>T($.target.value),className:"border rounded-md px-3 py-2 text-sm dark:bg-gray-800",children:[n.jsx("option",{children:"All Roles"}),n.jsx("option",{children:"Student"}),n.jsx("option",{children:"Supervisor"}),n.jsx("option",{children:"Coordinator"}),n.jsx("option",{children:"Admin"})]}),n.jsxs("div",{className:"md:flex gap-2",children:[n.jsx(Pe,{onClick:()=>f(!0),className:"w-full md:w-auto bg-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg cursor-pointer",children:"Add User"}),n.jsx(CU,{open:d,setOpen:f,onUserCreated:le})]})]})]}),b?n.jsx("div",{className:"text-center py-10 text-gray-600 dark:text-gray-300",children:"Loading users..."}):k?n.jsx("div",{className:"text-center py-10 text-red-500",children:k}):Q.length===0?n.jsx("div",{className:"text-center py-10 text-gray-500",children:"No matching users found."}):n.jsx("div",{className:"relative w-full overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-400 shadow-sm",children:n.jsx("div",{className:"inline-block min-w-full align-middle",children:n.jsxs(Ds,{className:"min-w-[800px]",children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"Name"}),n.jsx(Ct,{children:"Email"}),n.jsx(Ct,{children:"Department"}),n.jsx(Ct,{children:"Role"}),n.jsx(Ct,{className:"text-center",children:"Actions"})]})}),n.jsx(Os,{children:F.map($=>n.jsxs(Wr,{children:[n.jsx(Et,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:$.profilePic||Ir,alt:$.username,className:"w-10 h-10 rounded-full object-cover"}),n.jsx("div",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:$.username})]})}),n.jsx(Et,{className:"text-sm text-gray-600 dark:text-gray-400",children:$.email}),n.jsx(Et,{className:"text-sm text-gray-600 dark:text-gray-400",children:$.department||""}),n.jsx(Et,{children:n.jsx(AU,{role:$.role})}),n.jsx(Et,{className:"text-center",children:n.jsxs("div",{className:"flex justify-center items-center gap-2",children:[n.jsx(Pe,{variant:"ghost",className:"p-2 cursor-pointer",onClick:()=>{console.log("Selected user:",$),$&&$._id?(C($),g(!0)):ee.error("Unable to select user. Please try again.")},children:n.jsx(xC,{})}),n.jsxs(rm,{open:a&&l?._id===$._id,onOpenChange:o,children:[n.jsx(R$,{asChild:!0,children:n.jsx(Pe,{variant:"ghost",className:"p-2 text-red-600 cursor-pointer hover:text-red-500",onClick:()=>L($),children:n.jsx(Ia,{})})}),n.jsxs(nm,{className:`rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg ${e==="dark"?"dark bg-gray-900 text-gray-100":"bg-white text-gray-800"}`,children:[n.jsxs(am,{children:[n.jsx(im,{children:"Remove User"}),n.jsxs(om,{children:["Are you sure you want to remove"," ",n.jsx("strong",{children:$.username}),"? This action cannot be undone."]})]}),n.jsxs(sm,{className:"flex justify-end gap-3 mt-4",children:[n.jsx(Pe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),n.jsx(Pe,{onClick:W,className:"bg-red-600 hover:bg-red-700 text-white",children:"Remove User"})]})]})]})]})})]},$._id))})]})})}),!b&&!k&&Q.length>0&&n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Show"}),n.jsxs("select",{value:Y,onChange:_,className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 text-sm bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"entries"})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:["Showing ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:U+1})," to"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:Math.min(G,Q.length)})," of"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:Q.length})," users"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pe,{variant:"outline",size:"sm",onClick:V,disabled:B===1,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Previous"}),n.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:B}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:Z})]}),n.jsx(Pe,{variant:"outline",size:"sm",onClick:R,disabled:B===Z,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})]}),S&&n.jsx(EU,{open:m,setOpen:g,selectedUser:S,onUserUpdated:le})]})]})})]})},RU=_C("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Mn({className:e,variant:t,asChild:r=!1,...a}){const o=r?U2:"span";return n.jsx(o,{"data-slot":"badge",className:ot(RU({variant:t}),e),...a})}const N4=({isOpen:e,onClose:t,currentPhase:r})=>{const{user:a}=it(k=>k.auth),[o,l]=x.useState([]),[c,d]=x.useState(!1),[f,m]=x.useState(null),g="https://fyp-buddy.up.railway.app/",p=localStorage.getItem("accessToken"),v=async()=>{try{d(!0);const k={};a?.role==="student"&&r&&(k.currentPhase=r);const N=await De.get(`${g}/announcements/get-all`,{headers:{Authorization:`Bearer ${p}`},params:k,withCredentials:!0});N.data.success?l(N.data.data||[]):l([])}catch(k){console.error("Error fetching announcements:",k),ee.error("Failed to load announcements"),l([])}finally{d(!1)}};x.useEffect(()=>{e&&v()},[e,r]);const b=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",j=(k,N)=>{window.open(k,"_blank")};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:t,children:n.jsxs(Te,{className:"w-full max-w-4xl h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-2xl overflow-hidden flex flex-col",onClick:k=>k.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:n.jsx(eo,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Announcements"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.length," announcement(s) available",o.length>2&&n.jsx("span",{className:"ml-2 text-purple-600 dark:text-purple-400",children:" Scroll for more"})]})]})]}),n.jsx(Pe,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx(tn,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scroll",children:c?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx(wt,{className:"animate-spin w-8 h-8 text-purple-500"})}):o.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No announcements yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for updates from your coordinator."})]}):n.jsx("div",{className:"space-y-4",children:o.map(k=>n.jsxs(Te,{className:"p-5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>m(f?._id===k._id?null:k),children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:k.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Mn,{className:k.entity==="student"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:k.entity==="student"?"Students":"Supervisors"}),k.phase&&n.jsx(Mn,{className:k.phase==="Proposal"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":k.phase==="Progress"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",children:k.phase}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400",children:[n.jsx(On,{className:"w-4 h-4"}),b(k.createdAt)]})]})]})}),f?._id===k._id&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:k.description})}),k.files&&k.files.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(hn,{className:"w-4 h-4"}),"Attachments (",k.files.length,")"]}),n.jsx("div",{className:"space-y-2",children:k.files.map((N,S)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate flex-1",children:N.fileName||`Attachment ${S+1}`}),n.jsxs(Pe,{size:"sm",variant:"outline",onClick:C=>{C.stopPropagation(),j(N.url,N.fileName)},className:"flex items-center gap-1 ml-2",children:[n.jsx(Fh,{className:"w-4 h-4"}),"Download"]})]},S))})]}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:["Posted by:"," ",n.jsx("span",{className:"font-medium",children:k.createdBy?.username||"Coordinator"})]})]}),f?._id!==k._id&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Click to view details"})]},k._id))})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:n.jsx(Pe,{onClick:t,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"Close"})})]})}):null},S4=wd({name:"supervised_groups",initialState:{supervised_groups:[]},reducers:{setSupervisedGroups:(e,t)=>{e.supervised_groups=t.payload}}}),{setSupervisedGroups:_U}=S4.actions,DU=S4.reducer;var Fb="persist:",Ib="persist/FLUSH",Wm="persist/REHYDRATE",Bb="persist/PAUSE",$b="persist/PERSIST",Ub="persist/PURGE",Hb="persist/REGISTER",MU=-1;function Ah(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ah=function(r){return typeof r}:Ah=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ah(e)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function OU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(r,!0).forEach(function(a){PU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LU(e,t,r,a){a.debug;var o=OU({},r);return e&&Ah(e)==="object"&&Object.keys(e).forEach(function(l){l!=="_persist"&&t[l]===r[l]&&(o[l]=e[l])}),o}function zU(e){var t=e.blacklist||null,r=e.whitelist||null,a=e.transforms||[],o=e.throttle||0,l="".concat(e.keyPrefix!==void 0?e.keyPrefix:Fb).concat(e.key),c=e.storage,d;e.serialize===!1?d=function(D){return D}:typeof e.serialize=="function"?d=e.serialize:d=FU;var f=e.writeFailHandler||null,m={},g={},p=[],v=null,b=null,j=function(D){Object.keys(D).forEach(function(T){S(T)&&m[T]!==D[T]&&p.indexOf(T)===-1&&p.push(T)}),Object.keys(m).forEach(function(T){D[T]===void 0&&S(T)&&p.indexOf(T)===-1&&m[T]!==void 0&&p.push(T)}),v===null&&(v=setInterval(k,o)),m=D};function k(){if(p.length===0){v&&clearInterval(v),v=null;return}var I=p.shift(),D=a.reduce(function(T,B){return B.in(T,I,m)},m[I]);if(D!==void 0)try{g[I]=d(D)}catch(T){console.error("redux-persist/createPersistoid: error serializing state",T)}else delete g[I];p.length===0&&N()}function N(){Object.keys(g).forEach(function(I){m[I]===void 0&&delete g[I]}),b=c.setItem(l,d(g)).catch(C)}function S(I){return!(r&&r.indexOf(I)===-1&&I!=="_persist"||t&&t.indexOf(I)!==-1)}function C(I){f&&f(I)}var A=function(){for(;p.length!==0;)k();return b||Promise.resolve()};return{update:j,flush:A}}function FU(e){return JSON.stringify(e)}function IU(e){var t=e.transforms||[],r="".concat(e.keyPrefix!==void 0?e.keyPrefix:Fb).concat(e.key),a=e.storage;e.debug;var o;return e.deserialize===!1?o=function(c){return c}:typeof e.deserialize=="function"?o=e.deserialize:o=BU,a.getItem(r).then(function(l){if(l)try{var c={},d=o(l);return Object.keys(d).forEach(function(f){c[f]=t.reduceRight(function(m,g){return g.out(m,f,d)},o(d[f]))}),c}catch(f){throw f}else return})}function BU(e){return JSON.parse(e)}function $U(e){var t=e.storage,r="".concat(e.keyPrefix!==void 0?e.keyPrefix:Fb).concat(e.key);return t.removeItem(r,UU)}function UU(e){}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(r,!0).forEach(function(a){HU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e,t){if(e==null)return{};var r=VU(e,t),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function VU(e,t){if(e==null)return{};var r={},a=Object.keys(e),o,l;for(l=0;l<a.length;l++)o=a[l],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var GU=5e3;function YU(e,t){var r=e.version!==void 0?e.version:MU;e.debug;var a=e.stateReconciler===void 0?LU:e.stateReconciler,o=e.getStoredState||IU,l=e.timeout!==void 0?e.timeout:GU,c=null,d=!1,f=!0,m=function(p){return p._persist.rehydrated&&c&&!f&&c.update(p),p};return function(g,p){var v=g||{},b=v._persist,j=qU(v,["_persist"]),k=j;if(p.type===$b){var N=!1,S=function(X,Y){N||(p.rehydrate(e.key,X,Y),N=!0)};if(l&&setTimeout(function(){!N&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},l),f=!1,c||(c=zU(e)),b)return Js({},t(k,p),{_persist:b});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(e.key),o(e).then(function(B){var X=e.migrate||function(Y,K){return Promise.resolve(Y)};X(B,r).then(function(Y){S(Y)},function(Y){S(void 0,Y)})},function(B){S(void 0,B)}),Js({},t(k,p),{_persist:{version:r,rehydrated:!1}})}else{if(p.type===Ub)return d=!0,p.result($U(e)),Js({},t(k,p),{_persist:b});if(p.type===Ib)return p.result(c&&c.flush()),Js({},t(k,p),{_persist:b});if(p.type===Bb)f=!0;else if(p.type===Wm){if(d)return Js({},k,{_persist:Js({},b,{rehydrated:!0})});if(p.key===e.key){var C=t(k,p),A=p.payload,I=a!==!1&&A!==void 0?a(A,g,C,e):C,D=Js({},I,{_persist:Js({},b,{rehydrated:!0})});return m(D)}}}if(!b)return t(g,p);var T=t(k,p);return T===k?g:m(Js({},T,{_persist:b}))}}function ZN(e){return WU(e)||XU(e)||KU()}function KU(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function XU(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function WU(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(r,!0).forEach(function(a){QU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C4={registry:[],bootstrapped:!1},ZU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C4,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Hb:return fy({},t,{registry:[].concat(ZN(t.registry),[r.key])});case Wm:var a=t.registry.indexOf(r.key),o=ZN(t.registry);return o.splice(a,1),fy({},t,{registry:o,bootstrapped:o.length===0});default:return t}};function JU(e,t,r){var a=Db(ZU,C4,void 0),o=function(f){a.dispatch({type:Hb,key:f})},l=function(f,m,g){var p={type:Wm,payload:m,err:g,key:f};e.dispatch(p),a.dispatch(p)},c=fy({},a,{purge:function(){var f=[];return e.dispatch({type:Ub,result:function(g){f.push(g)}}),Promise.all(f)},flush:function(){var f=[];return e.dispatch({type:Ib,result:function(g){f.push(g)}}),Promise.all(f)},pause:function(){e.dispatch({type:Bb})},persist:function(){e.dispatch({type:$b,register:o,rehydrate:l})}});return c.persist(),c}var Su={},th={},rh={},eS;function eH(){if(eS)return rh;eS=1,rh.__esModule=!0,rh.default=o;function e(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(l)}function t(){}var r={getItem:t,setItem:t,removeItem:t};function a(l){if((typeof self>"u"?"undefined":e(self))!=="object"||!(l in self))return!1;try{var c=self[l],d="redux-persist ".concat(l," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function o(l){var c="".concat(l,"Storage");return a(c)?self[c]:r}return rh}var tS;function tH(){if(tS)return th;tS=1,th.__esModule=!0,th.default=r;var e=t(eH());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){var o=(0,e.default)(a);return{getItem:function(c){return new Promise(function(d,f){d(o.getItem(c))})},setItem:function(c,d){return new Promise(function(f,m){f(o.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,f){d(o.removeItem(c))})}}}return th}var rS;function rH(){if(rS)return Su;rS=1,Su.__esModule=!0,Su.default=void 0;var e=t(tH());function t(a){return a&&a.__esModule?a:{default:a}}var r=(0,e.default)("local");return Su.default=r,Su}var nH=rH();const aH=ao(nH),sH={key:"root",version:1,storage:aH},iH=UA({theme:F$,auth:d$,group:O$,supervised_groups:DU,milestone:M$}),oH=YU(sH,iH),E4=JB({reducer:oH,middleware:e=>e({serializableCheck:{ignoredActions:[Ib,Wm,Bb,$b,Ub,Hb]}})}),lH=()=>{const[e,t]=x.useState(null),{group:r}=it(k=>k.group),a=r?._id,o=localStorage.getItem("accessToken"),l="https://fyp-buddy.up.railway.app/",c=sa(),[d,f]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[m,g]=x.useState(!0),p=Na();x.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await De.get(`${l}/deletion/group/${a}`,{headers:{Authorization:`Bearer ${o}`}});k.data.success&&t(k.data.data)}catch(k){console.log("Error fetching deletion log:",k)}finally{g(!1)}};x.useEffect(()=>{if(!e)return;const k=setInterval(()=>{const N=new Date().getTime(),C=new Date(e.deletionDeadline).getTime()-N;if(C<=0){clearInterval(k),b();return}const A=Math.floor(C/(1e3*60*60*24)),I=Math.floor(C%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(C%(1e3*60*60)/(1e3*60)),T=Math.floor(C%(1e3*60)/1e3);f({days:A,hours:I,minutes:D,seconds:T})},1e3);return()=>clearInterval(k)},[e]);const b=()=>{try{const k=De.post(`${l}/deletion/execute-deletion`,{groupId:a},{headers:{Authorization:`Bearer ${o}`},withCredentials:!0});j()}catch(k){console.error("Error executing deletion:",k),ee.error("Error executing deletion. Please try again later.")}},j=async()=>{try{const k=await De.post(`${l}/user/logout`,{},{headers:{Authorization:`Bearer ${o}`}});ee.dismiss(),k.data.success&&(c(Xm(null)),c(td(null)),c(aa(null)),ee.success(k.data.message||"Logged out successfully!"),localStorage.clear(),p("/"))}catch(k){ee.dismiss();const N=k.response?.data?.message||k.response?.data||"Failed to log out";ee.error(N),console.error("Logout error:",k)}};return m?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading..."})}):e?n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30 p-4 rounded-lg border-2 border-green-500 dark:border-green-600",children:[n.jsx("h4",{className:"text-base font-bold text-green-700 dark:text-green-400 mb-2 flex items-center gap-2",children:" FYP Completed!"}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"Congratulations on completing your FYP! Your access will end in:"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 text-center shadow-sm",children:[n.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:d.days}),n.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Days"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 text-center shadow-sm",children:[n.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:d.hours}),n.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Hours"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 text-center shadow-sm",children:[n.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:d.minutes}),n.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Mins"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 text-center shadow-sm",children:[n.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:d.seconds}),n.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Secs"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:" After the countdown ends, your account will be deactivated and all your FYP data will be permanently deleted."})]})}):null};function cH(){const{user:e}=it(N=>N.auth),{group:t}=it(N=>N.group),{milestone:r}=it(N=>N.milestone),a=t?.supervisor?"Accepted":"Waiting",o=Na(),l=sa(),[c,d]=x.useState([]),[f,m]=x.useState(!1),[g,p]=x.useState(!1),v=c.filter(N=>{const S=String(N.status||"").toLowerCase();return S==="assigned"||S==="rejected"});!c||c.length===0?null:c.filter(S=>S.dueDate).sort((S,C)=>new Date(S.dueDate)-new Date(C.dueDate))[0]||null;const b=(()=>{const N=c.filter(I=>String(I.status||"").toLowerCase()==="assigned");if(!N.length)return null;const S=new Date,C=N.filter(I=>new Date(I.dueDate)>=S),A=(C.length?C:N).filter(I=>I.dueDate);return A.length?(A.sort((I,D)=>new Date(I.dueDate)-new Date(D.dueDate)),A[0]):null})(),j="https://fyp-buddy.up.railway.app/",k=localStorage.getItem("accessToken");return x.useEffect(()=>{(async()=>{if(!t?._id||t?.supervisor||!r?.autoAllocationDate)return;const S=new Date,C=new Date(r.autoAllocationDate);if(S>=C)try{if((await De.post(`${j}/supervisor/auto-allocate`,{groupId:t._id},{headers:{Authorization:`Bearer ${k}`},withCredentials:!0})).data.success){ee.success("Supervisor auto-allocated successfully!");const I=await De.get(`${j}/group/my-group`,{headers:{Authorization:`Bearer ${k}`},withCredentials:!0});I.data.success&&l(aa(I.data.group))}}catch(A){console.error("Auto-allocation error:",A)}})()},[t?._id,t?.supervisor,r?.autoAllocationDate,j,k]),x.useEffect(()=>{const N=async()=>{try{const I=localStorage.getItem("accessToken");(await De.get(`${j}/deletion/group/${t?._id}`,{headers:{Authorization:`Bearer ${I}`}})).data.success&&p(!0)}catch{p(!1)}},S=async()=>{if(!t?._id){d([]);return}try{const I=await De.get(`${j}/task/get-tasks/${t._id}`,{headers:{Authorization:`Bearer ${k}`}});d(I.data?.tasks||[])}catch{d([])}},C=async()=>{try{const I=await De.get(`${j}/group/my-group`,{headers:{Authorization:`Bearer ${k}`},withCredentials:!0,validateStatus:()=>!0});I.data.success&&l(aa(I.data.group))}catch{ee.error("Create a Group or Join a Group to get started")}},A=async()=>{if(!t?._id){l(td(null));return}try{const I=t._id,D=await De.get(`${j}/milestone/get-my-milestone/${I}`,{headers:{Authorization:`Bearer ${k}`},withCredentials:!0});D.data.success&&l(td(D.data.milestone))}catch{ee.error("Failed to load milestones")}};N(),S(),C(),A()},[t?._id,j,k]),n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Student Dashboard | FYP Buddy - Manage Your Project",description:"Access your student dashboard on FYP Buddy. View your FYP group, track tasks, check milestones, communicate with supervisors, and manage your final year project efficiently.",keywords:"student dashboard, FYP management, project tasks, thesis tracking, student portal, group collaboration"}),n.jsxs("div",{className:"min-h-screen mt-15",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("div",{className:"flex flex-col xl:flex-row flex-1 gap-5 overflow-hidden",children:[n.jsxs("main",{className:"flex-1 flex flex-col gap-5 overflow-y-auto",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8 p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl transition-all duration-300",children:[n.jsxs("div",{className:"flex flex-col text-center md:text-left",children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-2",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Student"})," ","Dashboard"]}),n.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Welcome back,"," ",n.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e?.username||"Student"})," ",""]})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(tr,{className:"w-32 h-32 md:w-40 md:h-40 border-4 border-gray-300 dark:border-gray-600 shadow-md",children:n.jsx(Rr,{src:e?.profilePic||Ir})}),n.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800 dark:text-gray-300",children:e?.username||"Unknown User"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5",children:[{title:"Supervisor Status",status:a,color:"green",icon:Rn,link:"/student/dashboard/supervisors"},{title:"Pending Tasks",status:String(v.length),color:"yellow",icon:hn,link:null},{title:"Current Milestone",status:r?.phase||"N/A",color:"blue",icon:ja,link:null}].map(({title:N,status:S,color:C,icon:A,link:I},D)=>n.jsx(Wi,{to:I??"#",onClick:T=>{N==="Supervisor Status"&&!t?(T.preventDefault(),ee.error("Please create or join a group first")):N==="Supervisor Status"&&t?.supervisor&&(T.preventDefault(),ee.success("A Supervsior already accepted your request")),N==="Pending Tasks"&&(T.preventDefault(),o("/student/assigned-tasks")),N==="Current Milestone"&&(T.preventDefault(),o("/student/milestones"))},className:"cursor-pointer",children:n.jsxs(Te,{className:"flex flex-col items-center p-5 text-center bg-white dark:bg-gray-800 border-none shadow-md transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${C==="green"?"bg-green-100 text-green-500 dark:bg-green-900 dark:text-green-300":C==="yellow"?"bg-yellow-100 text-yellow-500 dark:bg-yellow-900 dark:text-yellow-300":"bg-blue-100 text-blue-500 dark:bg-blue-900 dark:text-blue-300"}`,children:n.jsx(A,{})}),n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:N}),n.jsx("p",{className:`text-lg font-bold ${C==="green"?"text-green-600 dark:text-green-400":C==="yellow"?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400"}`,children:S})]})},D))}),n.jsxs(Te,{id:"pending-tasks-section",className:"p-6 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:["Pending ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Supervisor "}),"Tasks"]}),n.jsx(Te,{className:"p-4 bg-purple-50 dark:bg-gray-700 border-none shadow-sm transition-all duration-300",children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[(v.length>0?v:[]).slice(0,6).map(N=>n.jsx(Te,{className:"flex justify-between items-center p-4 bg-purple-50 dark:bg-gray-700 border-none shadow-sm transition-all duration-300",children:n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-100",children:["Task: ",n.jsx("strong",{children:N.title})]}),n.jsx(Pe,{onClick:()=>o("/student/assigned-tasks"),className:"bg-purple-600 dark:bg-gray-100 dark:text-gray-700 hover:bg-purple-700 dark:hover:bg-gray-300 cursor-pointer text-white text-sm px-4 py-1 rounded-md",children:"View"})]})},N._id)),v.length===0&&n.jsx("div",{className:"col-span-2",children:n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center",children:"No pending tasks"})})]})}),n.jsxs("h2",{className:"text-lg font-semibold mt-8 mb-4 text-gray-900 dark:text-gray-100",children:["Current ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Milestone"})," "," Submission"]}),n.jsx(Te,{className:"flex justify-between items-center p-4 bg-purple-50 dark:bg-gray-700 border-none shadow-sm transition-all duration-300",children:r?.isSubmissionActive?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-100",children:["Submission Open for the phase: ",n.jsx("strong",{children:r?.phase||"N/A"})]}),n.jsx(Pe,{onClick:()=>o("/student/milestones"),className:"bg-purple-600 dark:bg-gray-100 dark:text-gray-700 hover:bg-purple-700 dark:hover:bg-gray-300 cursor-pointer text-white text-sm px-4 py-1 rounded-md",children:"View"})]}):n.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-100",children:["No Active Submission for the phase: ",n.jsx("strong",{children:r?.phase||"N/A"})]})})]})]}),n.jsxs("aside",{className:"w-full xl:w-96 flex-shrink-0 flex flex-col gap-6 bg-white dark:bg-gray-800 p-6 shadow-md rounded-2xl transition-colors duration-300",children:[n.jsxs(Te,{className:"p-4 bg-gray-50 dark:bg-gray-800 border-none shadow-sm rounded-xl",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100 text-center",children:["Group ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Members"})]}),t?.members&&t.members.length>0?n.jsx("div",{className:"flex justify-center flex-wrap gap-6",children:t.members.map((N,S)=>n.jsxs("div",{className:"flex flex-col items-center text-sm",children:[n.jsx(tr,{className:"w-14 h-14 mb-2 border border-gray-300 dark:border-gray-600",children:n.jsx(Rr,{src:N.profilePic||Ir})}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-center",children:N?.username?.split(" ").slice(0,2).join(" ")})]},N._id||S))}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Create/Join a Group"}),n.jsx(Pe,{onClick:()=>o("/student/groups"),className:"bg-purple-600 hover:bg-purple-700 text-white text-sm px-4 py-2 rounded-md",children:"Create or Join Group"})]})]}),n.jsxs(Te,{className:"p-4 bg-gray-50 dark:bg-gray-800 border-none shadow-sm rounded-xl",children:[n.jsx("div",{className:"flex items-center gap-3 mb-4",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Coordinator ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Announcements"})]})}),n.jsxs(Pe,{onClick:()=>m(!0),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold flex items-center justify-center gap-2 shadow-md transition-all duration-300 hover:shadow-lg",children:[n.jsx(eo,{className:"w-5 h-5"}),"View All Announcements"]})]}),n.jsxs(Te,{className:"p-4 bg-gray-50 dark:bg-gray-800 border-none shadow-sm",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex justify-between text-gray-900 dark:text-gray-100",children:[g?"FYP Completion Notice":"Daily Notices",!g&&n.jsx("a",{href:"#",className:"text-purple-600 dark:text-purple-400 text-sm hover:underline",children:"See all"})]}),g?n.jsx(lH,{}):n.jsxs("div",{className:"space-y-0",children:[n.jsx("div",{className:"pb-3 border-b border-gray-200 dark:border-gray-700",children:b?n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"Reminder:"})," Next deadline  ",n.jsx("span",{className:"font-semibold",children:b.title})," due on ",new Date(b.dueDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),"."]}):n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"Reminder:"})," No assigned task deadlines yet."]})}),n.jsx("div",{className:"py-3 border-b border-gray-200 dark:border-gray-700",children:t?.supervisor?n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-green-600 dark:text-green-400",children:"Success:"})," Supervisor has been allocated to your group."]}):!t?.supervisor&&r?.autoAllocationDate?(()=>{const N=new Date,S=new Date(r.autoAllocationDate),C=Math.ceil((S-N)/(1e3*60*60*24));return C>0?n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-orange-600 dark:text-orange-400",children:"Alert:"})," Auto Supervisor Allocation in ",C," ",C===1?"day":"days","."]}):n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-orange-600 dark:text-orange-400",children:"Alert:"})," Auto Supervisor Allocation in progress..."]})})():!t?.supervisor&&!r?.autoAllocationDate?n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-orange-600 dark:text-orange-400",children:"Alert:"})," Auto Supervisor Allocation starting soon."]}):null}),n.jsx("div",{className:"pt-3",children:n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:"Tip:"})," Chatbot available 24/7."]})})]})]}),n.jsxs(Te,{className:"p-5 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-800 dark:to-gray-800 border-none shadow-md rounded-xl",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Updates from your Supervisor"}),n.jsx("div",{className:"max-h-60 overflow-y-auto pr-1 custom-scroll space-y-3",children:t&&t.supervisor&&c.length>0?[...c].map(N=>({createdAt:N.createdAt,reviewedAt:N.reviewedAt,status:N.status,title:N.title})).flatMap(N=>{const S=[];if(N.createdAt&&S.push({when:new Date(N.createdAt),text:`${t.supervisor.username||"Supervisor"} has posted a task ${N.title}`,type:"posted"}),(N.status==="Accepted"||N.status==="Rejected")&&N.reviewedAt){const C=N.status==="Accepted"?"accepted":"rejected";S.push({when:new Date(N.reviewedAt),text:`${t.supervisor.username||"Supervisor"} has ${C} your task submission for ${N.title}`,type:N.status.toLowerCase()})}return S}).sort((N,S)=>S.when-N.when).slice(0,10).map((N,S)=>n.jsxs("div",{className:"text-sm text-gray-800 dark:text-gray-200 flex items-start gap-2",children:[N.type==="accepted"&&n.jsx(Ji,{className:"w-4 h-4 text-green-500 mt-0.5"}),N.type==="rejected"&&n.jsx(Ku,{className:"w-4 h-4 text-red-500 mt-0.5"}),N.type==="posted"&&n.jsx(hn,{className:"w-4 h-4 text-gray-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{children:N.text}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:N.when.toLocaleString()})]})]},S)):n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No updates yet"})})]})]})]})]}),n.jsx(N4,{isOpen:f,onClose:()=>m(!1),currentPhase:r?.phase})]})]})}const uH=()=>{const{group:e}=it(B=>B.group),{user:t}=it(B=>B.auth),r=sa(),[a,o]=x.useState(!1),[l,c]=x.useState(""),[d,f]=x.useState(!1),[m,g]=x.useState(null),[p,v]=x.useState(null),b=x.useRef(null),j="https://fyp-buddy.up.railway.app/",k=localStorage.getItem("accessToken"),N=e?.leaderId._id===t._id,S=()=>{c(e?.groupName||""),o(!0)},C=()=>{o(!1),c(""),g(null),v(null)},A=()=>{N&&b.current?.click()},I=async B=>{const X=B.target.files?.[0];if(X){if(X.size>5*1024*1024){ee.error("Image size should be less than 5MB");return}if(!X.type.startsWith("image/")){ee.error("Please select an image file");return}if(a){g(X);const Y=new FileReader;Y.onloadend=()=>{v(Y.result)},Y.readAsDataURL(X)}else await D(X)}},D=async B=>{try{f(!0);const X=new FormData;X.append("file",B);const Y=await De.put(`${j}/group/update-info`,X,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"multipart/form-data"},withCredentials:!0});Y.data.success&&(r(aa(Y.data.group)),ee.success("Group icon updated successfully"))}catch(X){ee.error(X.response?.data?.message||"Failed to update group icon")}finally{f(!1),b.current&&(b.current.value="")}},T=async()=>{if(!l.trim()&&!m){ee.error("Please provide a group name or select an icon");return}if(l&&!l.trim()){ee.error("Group name cannot be empty");return}if(l.trim()===e?.groupName&&!m){o(!1);return}try{f(!0);const B=new FormData;l&&l.trim()!==e?.groupName&&B.append("groupName",l.trim()),m&&B.append("file",m);const X=await De.put(`${j}/group/update-info`,B,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"multipart/form-data"},withCredentials:!0});X.data.success&&(r(aa(X.data.group)),ee.success(X.data.message),o(!1),g(null),v(null))}catch(B){ee.error(B.response?.data?.message||"Failed to update group information")}finally{f(!1)}};return n.jsxs(Te,{className:"p-6 border transition-colors duration-300 bg-white border-gray-200 text-gray-900 dark:bg-gray-900 dark:border-gray-800 dark:text-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsxs("div",{className:"relative group/icon",children:[n.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:I,className:"hidden",disabled:d}),n.jsxs(tr,{className:`w-16 h-16 transition-all duration-300 ${N&&!d?"cursor-pointer hover:ring-4 hover:ring-purple-200 dark:hover:ring-purple-800":d?"opacity-50 cursor-wait":""}`,onClick:d?void 0:A,children:[p||e?.groupIcon?n.jsx(Rr,{src:p||e?.groupIcon,alt:e?.groupName}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:n.jsx(rn,{className:"w-8 h-8"})}),d&&!a&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:n.jsx(wt,{className:"w-6 h-6 text-white animate-spin"})})]}),N&&!d&&n.jsx("div",{className:"absolute -bottom-1 -right-1 p-1.5 rounded-full bg-purple-600 text-white shadow-lg opacity-0 group-hover/icon:opacity-100 transition-opacity duration-200 cursor-pointer",onClick:A,title:"Change group icon",children:n.jsx(uC,{className:"w-3 h-3"})})]}),n.jsxs("div",{className:"flex-1",children:[a?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(st,{value:l,onChange:B=>c(B.target.value),placeholder:"Enter group name",className:"max-w-xs",disabled:d,onKeyDown:B=>{B.key==="Enter"&&T(),B.key==="Escape"&&C()},autoFocus:!0}),n.jsx(Pe,{size:"sm",onClick:T,disabled:d,className:"bg-green-600 hover:bg-green-700 text-white",children:d?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsx(Zo,{className:"w-4 h-4"})}),n.jsx(Pe,{size:"sm",variant:"outline",onClick:C,disabled:d,className:"border-red-200 text-red-600 hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/20",children:n.jsx(tn,{className:"w-4 h-4"})})]}),m&&n.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:["New icon selected: ",m.name]})]}):n.jsxs("div",{className:"group/name flex items-center gap-2",children:[n.jsx("h2",{className:"text-2xl font-bold",children:e?.groupName||"My Group"}),N&&n.jsx("button",{onClick:S,className:"opacity-0 group-hover/name:opacity-100 transition-opacity duration-200 p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",title:"Edit group info",children:n.jsx(xC,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e?.members?.length||0," / 3 Members"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Group Members"}),n.jsx("div",{className:"space-y-3",children:e?.members?.map(B=>{const X=B._id,Y=B.username||"Unknown Member",K=B.email||"",le=B.profilePic,L=e.leaderId._id===X;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg transition-colors duration-300 bg-gray-50 dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"w-10 h-10 bg-indigo-500 text-white flex items-center justify-center",children:le?n.jsx(Rr,{src:le,alt:Y}):n.jsx("span",{className:"text-sm font-medium",children:Y?.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:Y}),K&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:K})]})]}),L&&n.jsxs(Mn,{className:"flex items-center gap-1 bg-yellow-500 text-white hover:bg-yellow-600 dark:bg-yellow-600 dark:hover:bg-yellow-700",children:[n.jsx(zh,{className:"w-3 h-3"}),"Leader"]})]},X)})})]}),e.supervisor&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Supervisor"}),n.jsx("div",{className:"space-y-3",children:e?.supervisor&&n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg transition-colors duration-300 bg-gray-50 dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"w-10 h-10 bg-indigo-500 text-white flex items-center justify-center",children:e.supervisor.profilePic?n.jsx(Rr,{src:e.supervisor.profilePic,alt:"img"}):n.jsx("span",{className:"text-sm font-medium",children:e.supervisor.username?.charAt(0)?.toUpperCase()})}),n.jsx("div",{children:n.jsx("p",{className:"font-medium",children:e.supervisor.username||"Not Selected Yet"})})]}),n.jsxs(Mn,{className:"flex items-center gap-1 bg-green-500 text-white hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700",children:[n.jsx(fn,{className:"w-3 h-3"}),"Supervisor"]})]})})]})]})]})},dH=()=>{const e="https://fyp-buddy.up.railway.app/",t=localStorage.getItem("accessToken"),{group:r}=it(g=>g.group),[a,o]=x.useState(""),[l,c]=x.useState(!1),f=(r?.members?.length||0)>=3,m=async()=>{if(!a||!a.includes("@")){ee.error("Please enter a valid email address");return}if(f){ee.error("Group is full, maximum 3 members allowed");return}c(!0);try{const g=await De.post(`${e}/group/invite`,{groupId:r._id,receiverEmail:a},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});g.data.success?(ee.success(g.data.message),o("")):ee.error(g.data.message||"Failed to send invitation")}catch(g){console.error("Error sending invite:",g),ee.error(g.response?.data?.message||"Failed to send invitation")}finally{c(!1)}};return n.jsxs(Te,{className:"p-6 border transition-colors duration-300 bg-white border-gray-200 text-gray-900 dark:bg-gray-900 dark:border-gray-800 dark:text-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-indigo-100 dark:bg-indigo-900/30",children:n.jsx(Ik,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",children:"Invite Members"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add students to your group"})]})]}),f?n.jsx("div",{className:"p-4 border rounded-lg bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",children:n.jsx("p",{className:"text-sm",children:"Your group is full. You cannot invite more members."})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Student Email"}),n.jsx(st,{type:"email",placeholder:"student@example.com",value:a,onChange:g=>o(g.target.value),disabled:l||f,className:"transition-colors duration-300 bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:ring-purple-500 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-500",onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),m())}})]}),n.jsx(Pe,{onClick:m,disabled:l||f||!a,className:"w-full flex items-center justify-center py-6 text-base transition-all duration-300 bg-indigo-600 hover:bg-indigo-700 text-white dark:bg-gray-100 dark:text-gray-900 dark:hover:bg-gray-300",children:l?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ik,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})})]})]})},fH=()=>{const[e,t]=x.useState([]),[r,a]=x.useState(!0),[o,l]=x.useState({}),c="https://fyp-buddy.up.railway.app/",d=localStorage.getItem("accessToken"),f=sa();x.useEffect(()=>{(async()=>{try{a(!0);const v=await De.get(`${c}/group/invitations`,{headers:{Authorization:`Bearer ${d}`}});t(v.data.invitations||[])}catch(v){console.error("Error fetching invitations:",v),ee.error(v.response?.data?.message||"Unable to load invitations")}finally{a(!1)}})()},[d]);const m=async(p,v)=>{l(b=>({...b,[p]:v}));try{const b=await De.post(`${c}/group/respond/${p}`,{action:v},{headers:{Authorization:`Bearer ${d}`},withCredentials:!0});b.data.success&&(t(j=>j.filter(k=>k._id!==p)),b.data.joinedGroup&&(f(aa(b.data.joinedGroup)),ee.success(b.data.message)))}catch(b){ee.error(b.response?.data?.message||"Failed to process invitation")}finally{l(b=>{const j={...b};return delete j[p],j})}},g=!e||e.length===0;return r?n.jsx(Te,{className:"p-8 border transition-colors duration-300 bg-white border-gray-200 text-gray-900 dark:bg-gray-900 dark:border-gray-800 dark:text-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wt,{className:"w-8 h-8 mx-auto mb-4 animate-spin text-purple-600 dark:text-purple-400"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading invitations..."})]})}):g?n.jsx(Te,{className:"p-8 border transition-all duration-300 bg-gradient-to-br from-white to-gray-50 border-gray-200 text-gray-900 dark:from-gray-900 dark:to-gray-900/50 dark:border-gray-800 dark:text-gray-100 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex p-4 rounded-full mb-4 bg-gradient-to-br from-purple-100 to-purple-50 dark:from-purple-900/30 dark:to-purple-900/10",children:n.jsx(Ba,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Invitations"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"You do not have any group invitations at the moment."})]})}):n.jsx("div",{className:"space-y-4 transition-colors duration-300",children:e.map(p=>{const v=p._id||p.id,b=!!o[v],j=o[v],k=p.groupId?.members?.length||0,N=k>=3;return n.jsxs(Te,{className:"group relative overflow-hidden p-6 border transition-all duration-300 hover:shadow-lg hover:scale-[1.01] bg-gradient-to-br from-white to-gray-50/50 border-gray-200 text-gray-900 dark:from-gray-900 dark:to-gray-900/50 dark:border-gray-800 dark:text-gray-100 hover:border-purple-300 dark:hover:border-purple-700",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-bl-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsxs("div",{className:"relative p-3 rounded-xl bg-gradient-to-br from-purple-100 to-purple-50 dark:from-purple-900/40 dark:to-purple-900/20 shadow-sm group-hover:shadow-md transition-shadow duration-300",children:[n.jsx(Ba,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-purple-500 rounded-full animate-pulse"})]}),n.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 truncate",children:p.groupId.groupName||"Group Invitation"}),n.jsx(Mn,{variant:"outline",className:"border-amber-300 bg-amber-50 text-amber-700 dark:border-amber-600 dark:bg-amber-900/20 dark:text-amber-400 shadow-sm",children:"Pending"})]}),n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1.5",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"Invited by"}),n.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-400",children:p.senderId.username||"Unknown"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[n.jsx("div",{className:"flex -space-x-1",children:[...Array(3)].map((S,C)=>n.jsx("div",{className:`w-6 h-6 rounded-full border-2 border-white dark:border-gray-900 flex items-center justify-center text-[10px] font-medium ${C<k?"bg-gradient-to-br from-purple-500 to-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,children:C<k?"":""},C))}),n.jsxs("span",{className:`font-medium ml-1 ${N?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"}`,children:[k," / 3 members"]})]}),N&&n.jsxs(Mn,{variant:"outline",className:"border-red-300 bg-red-50 text-red-700 dark:border-red-600 dark:bg-red-900/20 dark:text-red-400 text-xs flex items-center gap-1",children:[n.jsx(bL,{className:"w-3 h-3"}),"Full"]})]})]})]})]}),n.jsxs("div",{className:"flex gap-2 shrink-0",children:[n.jsx(Pe,{size:"sm",onClick:()=>m(v,"accept"),disabled:b||N,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-sm hover:shadow-md transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed px-4",children:b&&j==="accept"?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(Zo,{className:"w-4 h-4 mr-1"}),"Accept"]})}),n.jsx(Pe,{size:"sm",variant:"outline",onClick:()=>m(v,"reject"),disabled:b,className:"border-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300 transition-all duration-300 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/20 dark:hover:border-red-700 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed px-4",children:b&&j==="reject"?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(tn,{className:"w-4 h-4 mr-1"}),"Decline"]})})]})]})]},v)})})},hH=()=>{const{group:e}=it(j=>j.group),{user:t}=it(j=>j.auth),r=sa(),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,f]=x.useState(!1),m=e.leaderId._id===t._id,g="https://fyp-buddy.up.railway.app/",p=localStorage.getItem("accessToken"),v=async()=>{f(!0);try{const j=await De.post(`${g}/group/leave`,{},{headers:{Authorization:`Bearer ${p}`},withCredentials:!0});j.data.success&&(ee.success(j.data.message),r(aa(null)),o(!1))}catch(j){ee.dismiss();const k=j.response?.data?.message||j.response?.data||"Failed to create user";ee.error(k)}finally{f(!1)}},b=async()=>{f(!0);try{(await De.delete(`${g}/group/disband/${e._id}`,{headers:{Authorization:`Bearer ${p}`},withCredentials:!0})).data.success&&(c(!1),r(aa(null)))}catch(j){ee.dismiss();const k=j.response?.data?.message||j.response?.data||"Failed to create user";ee.error(k)}finally{f(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsxs(Te,{className:"p-6 rounded-2xl border shadow-md dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Group Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Pe,{onClick:()=>o(!0),variant:"outline",className:"w-full justify-start border text-orange-600 hover:bg-orange-50 transition-colors duration-300 dark:border-orange-800 dark:text-orange-400 dark:hover:bg-orange-900/20",children:[n.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Leave Group"]}),m&&n.jsxs(Pe,{onClick:()=>c(!0),variant:"outline",className:"w-full justify-start border text-red-600 hover:bg-red-50 transition-colors duration-300 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/20",children:[n.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Disband Group"]})]})]})}),n.jsx(rm,{open:a,onOpenChange:o,children:n.jsxs(nm,{className:"rounded-xl transition-colors duration-300 bg-white dark:bg-gray-900 dark:text-gray-100",children:[n.jsxs(am,{children:[n.jsx(im,{children:"Leave Group?"}),n.jsx(om,{className:"text-gray-600 dark:text-gray-400",children:`Are you sure you want to leave this group? ${m?"You will loose the leadership once you leave.":"You will need to be invited again to rejoin"}`})]}),n.jsxs(sm,{children:[n.jsx(oy,{disabled:d,className:"transition-colors duration-300 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),n.jsx(iy,{onClick:v,disabled:d,className:"bg-orange-600 hover:bg-orange-700 text-white",children:d?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Leaving..."]}):"Leave Group"})]})]})}),n.jsx(rm,{open:l,onOpenChange:c,children:n.jsxs(nm,{className:"rounded-xl transition-colors duration-300 bg-white dark:bg-gray-900 dark:text-gray-100",children:[n.jsxs(am,{children:[n.jsx(im,{children:"Disband Group?"}),n.jsx(om,{className:"text-gray-600 dark:text-gray-400",children:"This action cannot be undone. The group will be permanently deleted and all members will be removed."})]}),n.jsxs(sm,{children:[n.jsx(oy,{disabled:d,className:"transition-colors duration-300 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),n.jsx(iy,{onClick:b,disabled:d,className:"bg-red-600 hover:bg-red-700 text-white",children:d?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Disbanding..."]}):"Disband Group"})]})]})})]})},mH=()=>{const{theme:e}=it(m=>m.theme),t=sa(),[r,a]=x.useState(""),[o,l]=x.useState(!1),c="https://fyp-buddy.up.railway.app/",d=localStorage.getItem("accessToken"),f=async()=>{if(!r.trim()){ee.error("Please enter a group name");return}if(r.length<3){ee.error("Group name must be at least 3 characters");return}l(!0);try{const m=await De.post(`${c}/group/create`,{groupName:r},{headers:{Authorization:`Bearer ${d}`},withCredentials:!0});if(m.data.success){ee.success(m.data.message),a("");try{const g=await De.get(`${c}/group/my-group`,{headers:{Authorization:`Bearer ${d}`},withCredentials:!0});g.data.success&&(console.log(g.data.group),t(aa(g.data.group)))}catch(g){ee.dismiss();const p=g.response?.data?.message||g.response?.data||"Failed to create user";ee.error(p)}}}catch(m){ee.dismiss();const g=m.response?.data?.message||m.response?.data||"Failed to create user";ee.error(g)}finally{l(!1)}};return n.jsx("div",{className:`w-full max-w-md mx-auto transition-colors duration-300 ${e==="dark"?"dark":""}`,children:n.jsxs(Te,{className:`p-6 rounded-xl shadow-md border transition-colors duration-300 ${e==="dark"?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-200 text-gray-900"}`,children:[n.jsxs("div",{className:"text-center mb-5",children:[n.jsx("div",{className:`inline-flex p-3 rounded-full mb-3 ${e==="dark"?"bg-gray-700/30":"bg-purple-100"}`,children:n.jsx(rn,{className:`w-8 h-8 ${e==="dark"?"text-purple-400":"text-purple-600"}`})}),n.jsx("h2",{className:"text-xl font-bold mb-1",children:"Create Your Group"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start collaborating with your teammates"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Group Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(st,{type:"text",placeholder:"Enter Unique Group Name",value:r,onChange:m=>a(m.target.value),disabled:o,maxLength:50,className:`transition-colors duration-300 ${e==="dark"?"bg-gray-800 border-gray-600 text-gray-100 placeholder-gray-500 focus-visible:ring-gray-100":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus-visible:ring-purple-500"}`}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[r.length,"/50 characters"]})]}),n.jsx(Pe,{onClick:f,disabled:o,className:`w-full py-4 text-base font-medium transition-all duration-300 cursor-pointer ${e==="dark"?"bg-gray-100 hover:bg-gray-300 text-gray-700":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:o?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating Group..."]}):n.jsx(n.Fragment,{children:"Create Group"})})]}),n.jsxs("div",{className:`mt-5 p-3 rounded-lg border text-sm  ${e==="dark"?"bg-gray-700/20 border-gray-100 text-gray-100":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[n.jsx("h4",{className:"font-semibold mb-1",children:"Group Guidelines"}),n.jsxs("ul",{className:"text-xs space-y-1",children:[n.jsx("li",{children:" Group name must be already taken"}),n.jsx("li",{children:" Maximum 3 members per group"}),n.jsx("li",{children:" Group creator becomes the leader"}),n.jsx("li",{children:" You can invite members after creating the group"})]})]})]})})},pH=()=>{const e=sa(),{group:t}=it(j=>j.group),[r,a]=x.useState("group"),[o,l]=x.useState(!0),[c,d]=x.useState([]),[f,m]=x.useState(!1),g="https://fyp-buddy.up.railway.app/",p=localStorage.getItem("accessToken");x.useEffect(()=>{v(),b()},[]);const v=async()=>{l(!0);try{const j=await De.get(`${g}/group/my-group`,{headers:{Authorization:`Bearer ${p}`},withCredentials:!0,validateStatus:()=>!0});j.data.success?e(aa(j.data.group)):e(aa(null))}catch(j){ee.dismiss();const k=j.response?.data?.message||j.response?.data||"Failed to create user";ee.error(k)}finally{l(!1)}},b=async()=>{try{l(!0);const j=await De.get(`${g}/group/invitations`,{headers:{Authorization:`Bearer ${p}`}});d(j.data.invitations||[])}catch(j){console.error("Error fetching invitations:",j),ee.error(j.response?.data?.message||"Unable to load invitations")}finally{l(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"My FYP Group | FYP Buddy - Team Collaboration",description:"View and manage your FYP group. Collaborate with team members, invite new members, track group progress, and communicate effectively with your project team.",keywords:"FYP group, team collaboration, group management, student team, project group, team members"}),n.jsx("div",{className:"min-h-screen mt-15 ",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex flex-col gap-6 transition-colors duration-300 text-gray-800 dark:text-gray-100 w-full",children:[n.jsx(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-extrabold mb-2",children:["My"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"FYP"})," ","Group"]}),n.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Manage your FYP group, members, and invitations."})]})}),t?n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(uH,{})}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(dH,{}),n.jsx(hH,{})]})]}):n.jsx(Te,{className:"flex flex-col md:flex-row justify-center items-center p-6 shadow-lg rounded-2xl transition-colors duration-300 bg-white dark:bg-gray-800",children:n.jsxs("div",{className:"space-y-8 text-center mt-8",children:[n.jsx("div",{className:"rounded-lg border p-1 w-full sm:w-[280px] mx-auto bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>a("group"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${r==="group"?"bg-purple-600 text-white shadow-sm dark:bg-gray-100 dark:text-gray-700":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[n.jsx(rn,{className:"w-4 h-4"}),n.jsx("span",{children:"Group"})]})}),n.jsx("button",{onClick:()=>a("invitations"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all relative ${r==="invitations"?"bg-purple-600 text-white shadow-sm dark:bg-gray-100 dark:text-gray-700":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-1.5 relative",children:[n.jsx(Ba,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:"Invites"}),c.length>0&&n.jsx("span",{className:"ml-1 inline-flex items-center justify-center min-w-[1.25rem] h-5 px-2 text-xs font-semibold text-white bg-red-500 rounded-full",children:c.length})]})})]})}),r==="group"?n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create a group to get started and invite others."}),n.jsxs(_r,{open:f,onOpenChange:m,children:[n.jsx(Fu,{asChild:!0,children:n.jsx(Pe,{className:"bg-purple-700 text-white hover:bg-purple-600 dark:bg-gray-100 dark:text-gray-700 dark:hover:bg-gray-300 cursor-pointer",children:"Create Group"})}),n.jsx(Xr,{className:"max-w-lg rounded-2xl border transition-colors duration-300 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800",children:n.jsx(mH,{})})]})]}):n.jsx(fH,{})]})})]})]})})]})};function gH(){const[e,t]=x.useState({}),[r,a]=x.useState(null),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[f,m]=x.useState(""),[g,p]=x.useState(""),v=Na(),b=localStorage.getItem("accessToken"),j="https://fyp-buddy.up.railway.app/",{group:k}=it(K=>K.group),{user:N}=it(K=>K.auth),S=k._id||null,C=N?.department||null,A=async()=>{try{if(d(!0),!C){Wt.error("User department not found"),d(!1);return}const K=await De.get(`${j}/user/get-users`,{headers:{Authorization:`Bearer ${b}`},withCredentials:!0});if(K.data.success){const L=K.data.user.filter(W=>W.role==="supervisor"&&W.department===C).reduce((W,Q)=>{const Z=Q.department||"Other";return W[Z]||(W[Z]=[]),W[Z].push(Q),W},{});t(L)}else Wt.error(K.data.message||"Failed to fetch users")}catch{Wt.error("Failed to load Supervisors")}finally{d(!1)}};x.useEffect(()=>{C&&A()},[C]);const I=K=>{a(K),l(!1)},D=()=>l(!0),T=()=>{a(null),l(!1)},B=()=>l(!1),X=()=>{a(null),l(!1),v(-1)},Y=async K=>{if(K.preventDefault(),!S){Wt.error("Group not found. Please form a group first.");return}try{d(!0);const le=await De.post(`${j}/supervisor/send-request`,{fypTitle:f,description:g,groupId:S,supervisorId:r._id},{headers:{Authorization:`Bearer ${b}`},withCredentials:!0});le.data.success?(Wt.success(le.data.message||"Request sent successfully!"),l(!1),a(null),m(""),p("")):Wt.error(le.data.message||"Failed to send request")}catch(le){console.error("Error sending request:",le),Wt.error(le.response?.data?.message||"Failed to send request")}finally{d(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Find Supervisors | FYP Buddy - Connect with Faculty",description:"Browse available supervisors for your FYP. View their expertise, availability, and send supervision requests to guide your final year project.",keywords:"FYP supervisors, project mentors, faculty advisors, supervision requests"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex-1 flex flex-col gap-6 overflow-y-auto",children:[n.jsxs(Te,{className:"relative bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-800 dark:to-gray-900 p-8 text-center shadow-xl rounded-2xl transition-all duration-300 border-2 border-purple-100 dark:border-gray-700",children:[n.jsx(Pe,{onClick:X,className:"absolute top-4 left-4 flex items-center gap-2 bg-gray-800 text-white dark:text-gray-800 hover:bg-gray-700 dark:bg-gray-100 cursor-pointer dark:hover:bg-gray-200 shadow-md",children:n.jsx(xh,{className:"w-5 h-5"})}),n.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-2 mt-6",children:["Meet Your"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Future"})," ","Mentors"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Connect with experienced supervisors ready to guide you through your FYP journey."})]}),!r&&!o&&n.jsx("div",{className:"flex flex-col items-center w-full",children:c?n.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 dark:border-purple-400"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading supervisors..."})]}):Object.keys(e).length===0?n.jsxs(Te,{className:"p-12 text-center bg-white dark:bg-gray-800 shadow-lg rounded-2xl max-w-md",children:[n.jsx(rn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"No Supervisors Available"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["There are currently no supervisors available in your department (",C,")."]})]}):Object.entries(e).map(([K,le])=>n.jsxs("div",{className:"w-full max-w-6xl text-center mt-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[n.jsx(vm,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[K," Department"]})]}),n.jsx("hr",{className:"w-32 h-[3px] mb-8 mx-auto rounded border-0 bg-gradient-to-r from-purple-500 to-blue-500 dark:from-purple-400 dark:to-blue-400"}),n.jsx("div",{className:"grid gap-6 justify-items-center",style:{gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:le.map(L=>{const W=5-(L.supervision.current||0),Q=L.supervision.isAvailable&&W>0;return n.jsxs(Te,{onClick:()=>I(L),className:`cursor-pointer flex flex-col items-center text-center bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300 w-full max-w-[250px] p-5 border-2 ${Q?"border-purple-200 dark:border-purple-900 hover:border-purple-400 dark:hover:border-purple-600":"border-gray-200 dark:border-gray-700 opacity-75"}`,children:[n.jsx("img",{src:L.profilePic||Ir,alt:L.username,className:"w-24 h-24 rounded-full mb-3 border-4 border-purple-100 dark:border-purple-900 object-cover"}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 leading-tight text-base",children:L.username}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 mb-2",children:[n.jsx(ja,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xs leading-snug",children:L.specialization})]}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${Q?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}`,children:Q?`${W} Slots`:"Unavailable"})})]},L._id)})})]},K))}),r&&!o&&n.jsx(Te,{className:"relative p-8 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900 text-center shadow-xl rounded-2xl transition-all duration-300 max-w-lg mx-auto border-2 border-purple-100 dark:border-gray-700",children:n.jsxs("div",{children:[n.jsx(Pe,{onClick:T,className:"absolute top-4 left-4 flex items-center gap-2 bg-gray-800 text-white dark:text-gray-800 hover:bg-gray-700 dark:bg-gray-100 cursor-pointer dark:hover:bg-gray-200 text-sm px-3 py-1 shadow-md",children:n.jsx(xh,{className:"w-4 h-4"})}),n.jsxs("div",{className:"relative inline-block mb-4",children:[n.jsx("img",{src:r.profilePic||Ir,alt:r.username,className:"w-32 h-32 rounded-full mx-auto border-4 border-purple-200 dark:border-purple-900 object-cover shadow-lg"}),r.supervision.isAvailable&&n.jsx("div",{className:"absolute bottom-2 right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-white dark:border-gray-800"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:r.username}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[n.jsx(ja,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium",children:r.department})]}),n.jsxs("div",{className:"bg-purple-100 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Specialization"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-semibold",children:r.specialization})]}),n.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Available Slots"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:5-(r.supervision.current||0)})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Status"}),n.jsx("p",{className:`text-sm font-bold ${r.supervision.isAvailable?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:r.supervision.isAvailable?"Available":"Unavailable"})]})]}),n.jsx(Pe,{onClick:D,disabled:!r.supervision.isAvailable||5-(r.supervision.current||0)<=0,className:"bg-gradient-to-r from-purple-600 to-blue-600 cursor-pointer hover:from-purple-700 hover:to-blue-700 text-white dark:from-purple-500 dark:to-blue-500 dark:hover:from-purple-600 dark:hover:to-blue-600 px-6 py-3 text-base font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Send FYP Request"})]})}),o&&n.jsx(Te,{className:"p-8 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-gray-900 shadow-xl rounded-2xl transition-all duration-300 max-w-lg mx-auto border-2 border-purple-100 dark:border-gray-700",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx(Pe,{onClick:B,className:"flex items-center gap-2 mb-4 bg-gray-800 text-white dark:text-gray-800 hover:bg-gray-700 dark:bg-gray-100 cursor-pointer dark:hover:bg-gray-200 text-sm px-3 w-fit shadow-md",children:n.jsx(xh,{className:"w-4 h-4"})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Send FYP Request"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Submit your project idea to ",r?.username]})]}),n.jsxs("form",{onSubmit:Y,className:"space-y-5 flex flex-col",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 block mb-2",children:"FYP Idea Title *"}),n.jsx(st,{type:"text",required:!0,placeholder:"Enter your project title",className:"text-sm border-2 border-gray-200 dark:border-gray-700 focus:border-purple-500 dark:focus:border-purple-500 transition-colors",value:f,onChange:K=>m(K.target.value)})]}),n.jsxs("div",{className:"flex-shrink-0 flex flex-col",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 block mb-2",children:"FYP Idea Description *"}),n.jsx(tl,{rows:6,required:!0,placeholder:"Describe your project idea, objectives, and expected outcomes...",className:"text-sm resize-none overflow-y-auto border-2 border-gray-200 dark:border-gray-700 focus:border-purple-500 dark:focus:border-purple-500 transition-colors",value:g,onChange:K=>p(K.target.value),style:{resize:"none",maxHeight:"10rem",minHeight:"6rem"}}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.length," characters"]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.split(/\s+/).filter(K=>K.length>0).length," words"]})]})]}),n.jsx(Pe,{type:"submit",disabled:c,className:"w-full cursor-pointer bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white dark:from-purple-500 dark:to-blue-500 dark:hover:from-purple-600 dark:hover:to-blue-600 py-3 mt-4 flex-shrink-0 font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:c?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):"Send Request"})]})]})})]})]})})]})}function xH(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const yH=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bH=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vH={};function nS(e,t){return(vH.jsx?bH:yH).test(e)}const wH=/[ \t\n\f\r]/g;function jH(e){return typeof e=="object"?e.type==="text"?aS(e.value):!1:aS(e)}function aS(e){return e.replace(wH,"")===""}class jd{constructor(t,r,a){this.normal=r,this.property=t,a&&(this.space=a)}}jd.prototype.normal={};jd.prototype.property={};jd.prototype.space=void 0;function A4(e,t){const r={},a={};for(const o of e)Object.assign(r,o.property),Object.assign(a,o.normal);return new jd(r,a,t)}function hy(e){return e.toLowerCase()}class ia{constructor(t,r){this.attribute=r,this.property=t}}ia.prototype.attribute="";ia.prototype.booleanish=!1;ia.prototype.boolean=!1;ia.prototype.commaOrSpaceSeparated=!1;ia.prototype.commaSeparated=!1;ia.prototype.defined=!1;ia.prototype.mustUseProperty=!1;ia.prototype.number=!1;ia.prototype.overloadedBoolean=!1;ia.prototype.property="";ia.prototype.spaceSeparated=!1;ia.prototype.space=void 0;let kH=0;const Tt=rl(),Yr=rl(),my=rl(),Ie=rl(),xr=rl(),nc=rl(),ga=rl();function rl(){return 2**++kH}const py=Object.freeze(Object.defineProperty({__proto__:null,boolean:Tt,booleanish:Yr,commaOrSpaceSeparated:ga,commaSeparated:nc,number:Ie,overloadedBoolean:my,spaceSeparated:xr},Symbol.toStringTag,{value:"Module"})),Z0=Object.keys(py);class qb extends ia{constructor(t,r,a,o){let l=-1;if(super(t,r),sS(this,"space",o),typeof a=="number")for(;++l<Z0.length;){const c=Z0[l];sS(this,Z0[l],(a&py[c])===py[c])}}}qb.prototype.defined=!0;function sS(e,t,r){r&&(e[t]=r)}function Nc(e){const t={},r={};for(const[a,o]of Object.entries(e.properties)){const l=new qb(a,e.transform(e.attributes||{},a),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(l.mustUseProperty=!0),t[a]=l,r[hy(a)]=a,r[hy(l.attribute)]=a}return new jd(t,r,e.space)}const T4=Nc({properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:xr,ariaCurrent:null,ariaDescribedBy:xr,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:xr,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:xr,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xr,ariaLevel:Ie,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:xr,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:xr,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:Yr,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function R4(e,t){return t in e?e[t]:t}function _4(e,t){return R4(e,t.toLowerCase())}const NH=Nc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nc,acceptCharset:xr,accessKey:xr,action:null,allow:null,allowFullScreen:Tt,allowPaymentRequest:Tt,allowUserMedia:Tt,alt:null,as:null,async:Tt,autoCapitalize:null,autoComplete:xr,autoFocus:Tt,autoPlay:Tt,blocking:xr,capture:null,charSet:null,checked:Tt,cite:null,className:xr,cols:Ie,colSpan:null,content:null,contentEditable:Yr,controls:Tt,controlsList:xr,coords:Ie|nc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Tt,defer:Tt,dir:null,dirName:null,disabled:Tt,download:my,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Tt,formTarget:null,headers:xr,height:Ie,hidden:my,high:Ie,href:null,hrefLang:null,htmlFor:xr,httpEquiv:xr,id:null,imageSizes:null,imageSrcSet:null,inert:Tt,inputMode:null,integrity:null,is:null,isMap:Tt,itemId:null,itemProp:xr,itemRef:xr,itemScope:Tt,itemType:xr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Tt,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:Tt,muted:Tt,name:null,nonce:null,noModule:Tt,noValidate:Tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Tt,optimum:Ie,pattern:null,ping:xr,placeholder:null,playsInline:Tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Tt,referrerPolicy:null,rel:xr,required:Tt,reversed:Tt,rows:Ie,rowSpan:Ie,sandbox:xr,scope:null,scoped:Tt,seamless:Tt,selected:Tt,shadowRootClonable:Tt,shadowRootDelegatesFocus:Tt,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:Tt,useMap:null,value:Yr,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xr,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Tt,declare:Tt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:Tt,noHref:Tt,noShade:Tt,noWrap:Tt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Tt,disableRemotePlayback:Tt,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:_4}),SH=Nc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ga,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:xr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:Tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nc,g2:nc,glyphName:nc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:ga,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ga,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ga,rev:ga,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ga,requiredFeatures:ga,requiredFonts:ga,requiredFormats:ga,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:ga,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ga,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ga,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:R4}),D4=Nc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),M4=Nc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_4}),O4=Nc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),CH={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},EH=/[A-Z]/g,iS=/-[a-z]/g,AH=/^data[-\w.:]+$/i;function TH(e,t){const r=hy(t);let a=t,o=ia;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&AH.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(iS,_H);a="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!iS.test(l)){let c=l.replace(EH,RH);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}o=qb}return new o(a,t)}function RH(e){return"-"+e.toLowerCase()}function _H(e){return e.charAt(1).toUpperCase()}const DH=A4([T4,NH,D4,M4,O4],"html"),Vb=A4([T4,SH,D4,M4,O4],"svg");function MH(e){return e.join(" ").trim()}var zl={},J0,oS;function OH(){if(oS)return J0;oS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,f=`
`,m="/",g="*",p="",v="comment",b="declaration";function j(N,S){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];S=S||{};var C=1,A=1;function I(Q){var Z=Q.match(t);Z&&(C+=Z.length);var U=Q.lastIndexOf(f);A=~U?Q.length-U:A+Q.length}function D(){var Q={line:C,column:A};return function(Z){return Z.position=new T(Q),Y(),Z}}function T(Q){this.start=Q,this.end={line:C,column:A},this.source=S.source}T.prototype.content=N;function B(Q){var Z=new Error(S.source+":"+C+":"+A+": "+Q);if(Z.reason=Q,Z.filename=S.source,Z.line=C,Z.column=A,Z.source=N,!S.silent)throw Z}function X(Q){var Z=Q.exec(N);if(Z){var U=Z[0];return I(U),N=N.slice(U.length),Z}}function Y(){X(r)}function K(Q){var Z;for(Q=Q||[];Z=le();)Z!==!1&&Q.push(Z);return Q}function le(){var Q=D();if(!(m!=N.charAt(0)||g!=N.charAt(1))){for(var Z=2;p!=N.charAt(Z)&&(g!=N.charAt(Z)||m!=N.charAt(Z+1));)++Z;if(Z+=2,p===N.charAt(Z-1))return B("End of comment missing");var U=N.slice(2,Z-2);return A+=2,I(U),N=N.slice(Z),A+=2,Q({type:v,comment:U})}}function L(){var Q=D(),Z=X(a);if(Z){if(le(),!X(o))return B("property missing ':'");var U=X(l),G=Q({type:b,property:k(Z[0].replace(e,p)),value:U?k(U[0].replace(e,p)):p});return X(c),G}}function W(){var Q=[];K(Q);for(var Z;Z=L();)Z!==!1&&(Q.push(Z),K(Q));return Q}return Y(),W()}function k(N){return N?N.replace(d,p):p}return J0=j,J0}var lS;function PH(){if(lS)return zl;lS=1;var e=zl&&zl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.default=r;const t=e(OH());function r(a,o){let l=null;if(!a||typeof a!="string")return l;const c=(0,t.default)(a),d=typeof o=="function";return c.forEach(f=>{if(f.type!=="declaration")return;const{property:m,value:g}=f;d?o(m,g,f):g&&(l=l||{},l[m]=g)}),l}return zl}var Cu={},cS;function LH(){if(cS)return Cu;cS=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(m){return!m||r.test(m)||e.test(m)},c=function(m,g){return g.toUpperCase()},d=function(m,g){return"".concat(g,"-")},f=function(m,g){return g===void 0&&(g={}),l(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(o,d):m=m.replace(a,d),m.replace(t,c))};return Cu.camelCase=f,Cu}var Eu,uS;function zH(){if(uS)return Eu;uS=1;var e=Eu&&Eu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(PH()),r=LH();function a(o,l){var c={};return!o||typeof o!="string"||(0,t.default)(o,function(d,f){d&&f&&(c[(0,r.camelCase)(d,l)]=f)}),c}return a.default=a,Eu=a,Eu}var FH=zH();const IH=ao(FH),P4=L4("end"),Gb=L4("start");function L4(e){return t;function t(r){const a=r&&r.position&&r.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function BH(e){const t=Gb(e),r=P4(e);if(t&&r)return{start:t,end:r}}function Iu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dS(e.position):"start"in e||"end"in e?dS(e):"line"in e||"column"in e?gy(e):""}function gy(e){return fS(e&&e.line)+":"+fS(e&&e.column)}function dS(e){return gy(e&&e.start)+"-"+gy(e&&e.end)}function fS(e){return e&&typeof e=="number"?e:1}class Pn extends Error{constructor(t,r,a){super(),typeof r=="string"&&(a=r,r=void 0);let o="",l={},c=!1;if(r&&("line"in r&&"column"in r?l={place:r}:"start"in r&&"end"in r?l={place:r}:"type"in r?l={ancestors:[r],place:r.position}:l={...r}),typeof t=="string"?o=t:!l.cause&&t&&(c=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof a=="string"){const f=a.indexOf(":");f===-1?l.ruleId=a:(l.source=a.slice(0,f),l.ruleId=a.slice(f+1))}if(!l.place&&l.ancestors&&l.ancestors){const f=l.ancestors[l.ancestors.length-1];f&&(l.place=f.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=Iu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Pn.prototype.file="";Pn.prototype.name="";Pn.prototype.reason="";Pn.prototype.message="";Pn.prototype.stack="";Pn.prototype.column=void 0;Pn.prototype.line=void 0;Pn.prototype.ancestors=void 0;Pn.prototype.cause=void 0;Pn.prototype.fatal=void 0;Pn.prototype.place=void 0;Pn.prototype.ruleId=void 0;Pn.prototype.source=void 0;const Yb={}.hasOwnProperty,$H=new Map,UH=/[A-Z]/g,HH=new Set(["table","tbody","thead","tfoot","tr"]),qH=new Set(["td","th"]),z4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function VH(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=JH(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=ZH(r,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Vb:DH,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=F4(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function F4(e,t,r){if(t.type==="element")return GH(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return YH(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return XH(e,t,r);if(t.type==="mdxjsEsm")return KH(e,t);if(t.type==="root")return WH(e,t,r);if(t.type==="text")return QH(e,t)}function GH(e,t,r){const a=e.schema;let o=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(o=Vb,e.schema=o),e.ancestors.push(t);const l=B4(e,t.tagName,!1),c=eq(e,t);let d=Xb(e,t);return HH.has(t.tagName)&&(d=d.filter(function(f){return typeof f=="string"?!jH(f):!0})),I4(e,c,l,t),Kb(c,d),e.ancestors.pop(),e.schema=a,e.create(t,l,c,r)}function YH(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}rd(e,t.position)}function KH(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rd(e,t.position)}function XH(e,t,r){const a=e.schema;let o=a;t.name==="svg"&&a.space==="html"&&(o=Vb,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:B4(e,t.name,!0),c=tq(e,t),d=Xb(e,t);return I4(e,c,l,t),Kb(c,d),e.ancestors.pop(),e.schema=a,e.create(t,l,c,r)}function WH(e,t,r){const a={};return Kb(a,Xb(e,t)),e.create(t,e.Fragment,a,r)}function QH(e,t){return t.value}function I4(e,t,r,a){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=a)}function Kb(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function ZH(e,t,r){return a;function a(o,l,c,d){const m=Array.isArray(c.children)?r:t;return d?m(l,c,d):m(l,c)}}function JH(e,t){return r;function r(a,o,l,c){const d=Array.isArray(l.children),f=Gb(a);return t(o,l,c,d,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function eq(e,t){const r={};let a,o;for(o in t.properties)if(o!=="children"&&Yb.call(t.properties,o)){const l=rq(e,o,t.properties[o]);if(l){const[c,d]=l;e.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&qH.has(t.tagName)?a=d:r[c]=d}}if(a){const l=r.style||(r.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return r}function tq(e,t){const r={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const l=a.data.estree.body[0];l.type;const c=l.expression;c.type;const d=c.properties[0];d.type,Object.assign(r,e.evaluater.evaluateExpression(d.argument))}else rd(e,t.position);else{const o=a.name;let l;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const d=a.value.data.estree.body[0];d.type,l=e.evaluater.evaluateExpression(d.expression)}else rd(e,t.position);else l=a.value===null?!0:a.value;r[o]=l}return r}function Xb(e,t){const r=[];let a=-1;const o=e.passKeys?new Map:$H;for(;++a<t.children.length;){const l=t.children[a];let c;if(e.passKeys){const f=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(f){const m=o.get(f)||0;c=f+"-"+m,o.set(f,m+1)}}const d=F4(e,l,c);d!==void 0&&r.push(d)}return r}function rq(e,t,r){const a=TH(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=a.commaSeparated?xH(r):MH(r)),a.property==="style"){let o=typeof r=="object"?r:nq(e,String(r));return e.stylePropertyNameCase==="css"&&(o=aq(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&a.space?CH[a.property]||a.property:a.attribute,r]}}function nq(e,t){try{return IH(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const a=r,o=new Pn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=z4+"#cannot-parse-style-attribute",o}}function B4(e,t,r){let a;if(!r)a={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,c;for(;++l<o.length;){const d=nS(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}a=c}else a=nS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const o=a.value;return Yb.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(a);rd(e)}function rd(e,t){const r=new Pn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=z4+"#cannot-handle-mdx-estrees-without-createevaluater",r}function aq(e){const t={};let r;for(r in e)Yb.call(e,r)&&(t[sq(r)]=e[r]);return t}function sq(e){let t=e.replace(UH,iq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iq(e){return"-"+e.toLowerCase()}const ex={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oq={};function Wb(e,t){const r=oq,a=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return $4(e,a,o)}function $4(e,t,r){if(lq(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hS(e.children,t,r)}return Array.isArray(e)?hS(e,t,r):""}function hS(e,t,r){const a=[];let o=-1;for(;++o<e.length;)a[o]=$4(e[o],t,r);return a.join("")}function lq(e){return!!(e&&typeof e=="object")}const mS=document.createElement("i");function Qb(e){const t="&"+e+";";mS.innerHTML=t;const r=mS.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function wa(e,t,r,a){const o=e.length;let l=0,c;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,r=r>0?r:0,a.length<1e4)c=Array.from(a),c.unshift(t,r),e.splice(...c);else for(r&&e.splice(t,r);l<a.length;)c=a.slice(l,l+1e4),c.unshift(t,0),e.splice(...c),l+=1e4,t+=1e4}function za(e,t){return e.length>0?(wa(e,e.length,0,t),e):t}const pS={}.hasOwnProperty;function U4(e){const t={};let r=-1;for(;++r<e.length;)cq(t,e[r]);return t}function cq(e,t){let r;for(r in t){const o=(pS.call(e,r)?e[r]:void 0)||(e[r]={}),l=t[r];let c;if(l)for(c in l){pS.call(o,c)||(o[c]=[]);const d=l[c];uq(o[c],Array.isArray(d)?d:d?[d]:[])}}}function uq(e,t){let r=-1;const a=[];for(;++r<t.length;)(t[r].add==="after"?e:a).push(t[r]);wa(e,0,0,a)}function H4(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function es(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hn=oo(/[A-Za-z]/),_n=oo(/[\dA-Za-z]/),dq=oo(/[#-'*+\--9=?A-Z^-~]/);function lm(e){return e!==null&&(e<32||e===127)}const xy=oo(/\d/),fq=oo(/[\dA-Fa-f]/),hq=oo(/[!-/:-@[-`{-~]/);function ct(e){return e!==null&&e<-2}function gr(e){return e!==null&&(e<0||e===32)}function Pt(e){return e===-2||e===-1||e===32}const Qm=oo(new RegExp("\\p{P}|\\p{S}","u")),Yo=oo(/\s/);function oo(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Sc(e){const t=[];let r=-1,a=0,o=0;for(;++r<e.length;){const l=e.charCodeAt(r);let c="";if(l===37&&_n(e.charCodeAt(r+1))&&_n(e.charCodeAt(r+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(c=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(r+1);l<56320&&d>56319&&d<57344?(c=String.fromCharCode(l,d),o=1):c=""}else c=String.fromCharCode(l);c&&(t.push(e.slice(a,r),encodeURIComponent(c)),a=r+o+1,c=""),o&&(r+=o,o=0)}return t.join("")+e.slice(a)}function qt(e,t,r,a){const o=a?a-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(f){return Pt(f)?(e.enter(r),d(f)):t(f)}function d(f){return Pt(f)&&l++<o?(e.consume(f),d):(e.exit(r),t(f))}}const mq={tokenize:pq};function pq(e){const t=e.attempt(this.parser.constructs.contentInitial,a,o);let r;return t;function a(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),qt(e,t,"linePrefix")}function o(d){return e.enter("paragraph"),l(d)}function l(d){const f=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=f),r=f,c(d)}function c(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return ct(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),c)}}const gq={tokenize:xq},gS={tokenize:yq};function xq(e){const t=this,r=[];let a=0,o,l,c;return d;function d(A){if(a<r.length){const I=r[a];return t.containerState=I[1],e.attempt(I[0].continuation,f,m)(A)}return m(A)}function f(A){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&C();const I=t.events.length;let D=I,T;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){T=t.events[D][1].end;break}S(a);let B=I;for(;B<t.events.length;)t.events[B][1].end={...T},B++;return wa(t.events,D+1,0,t.events.slice(I)),t.events.length=B,m(A)}return d(A)}function m(A){if(a===r.length){if(!o)return v(A);if(o.currentConstruct&&o.currentConstruct.concrete)return j(A);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gS,g,p)(A)}function g(A){return o&&C(),S(a),v(A)}function p(A){return t.parser.lazy[t.now().line]=a!==r.length,c=t.now().offset,j(A)}function v(A){return t.containerState={},e.attempt(gS,b,j)(A)}function b(A){return a++,r.push([t.currentConstruct,t.containerState]),v(A)}function j(A){if(A===null){o&&C(),S(0),e.consume(A);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),k(A)}function k(A){if(A===null){N(e.exit("chunkFlow"),!0),S(0),e.consume(A);return}return ct(A)?(e.consume(A),N(e.exit("chunkFlow")),a=0,t.interrupt=void 0,d):(e.consume(A),k)}function N(A,I){const D=t.sliceStream(A);if(I&&D.push(null),A.previous=l,l&&(l.next=A),l=A,o.defineSkip(A.start),o.write(D),t.parser.lazy[A.start.line]){let T=o.events.length;for(;T--;)if(o.events[T][1].start.offset<c&&(!o.events[T][1].end||o.events[T][1].end.offset>c))return;const B=t.events.length;let X=B,Y,K;for(;X--;)if(t.events[X][0]==="exit"&&t.events[X][1].type==="chunkFlow"){if(Y){K=t.events[X][1].end;break}Y=!0}for(S(a),T=B;T<t.events.length;)t.events[T][1].end={...K},T++;wa(t.events,X+1,0,t.events.slice(B)),t.events.length=T}}function S(A){let I=r.length;for(;I-- >A;){const D=r[I];t.containerState=D[1],D[0].exit.call(t,e)}r.length=A}function C(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function yq(e,t,r){return qt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dc(e){if(e===null||gr(e)||Yo(e))return 1;if(Qm(e))return 2}function Zm(e,t,r){const a=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!a.includes(l)&&(t=l(t,r),a.push(l))}return t}const yy={name:"attention",resolveAll:bq,tokenize:vq};function bq(e,t){let r=-1,a,o,l,c,d,f,m,g;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(a=r;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[a][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;f=e[a][1].end.offset-e[a][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const p={...e[a][1].end},v={...e[r][1].start};xS(p,-f),xS(v,f),c={type:f>1?"strongSequence":"emphasisSequence",start:p,end:{...e[a][1].end}},d={type:f>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},l={type:f>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[r][1].start}},o={type:f>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},e[a][1].end={...c.start},e[r][1].start={...d.end},m=[],e[a][1].end.offset-e[a][1].start.offset&&(m=za(m,[["enter",e[a][1],t],["exit",e[a][1],t]])),m=za(m,[["enter",o,t],["enter",c,t],["exit",c,t],["enter",l,t]]),m=za(m,Zm(t.parser.constructs.insideSpan.null,e.slice(a+1,r),t)),m=za(m,[["exit",l,t],["enter",d,t],["exit",d,t],["exit",o,t]]),e[r][1].end.offset-e[r][1].start.offset?(g=2,m=za(m,[["enter",e[r][1],t],["exit",e[r][1],t]])):g=0,wa(e,a-1,r-a+3,m),r=a+m.length-g-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function vq(e,t){const r=this.parser.constructs.attentionMarkers.null,a=this.previous,o=dc(a);let l;return c;function c(f){return l=f,e.enter("attentionSequence"),d(f)}function d(f){if(f===l)return e.consume(f),d;const m=e.exit("attentionSequence"),g=dc(f),p=!g||g===2&&o||r.includes(f),v=!o||o===2&&g||r.includes(a);return m._open=!!(l===42?p:p&&(o||!v)),m._close=!!(l===42?v:v&&(g||!p)),t(f)}}function xS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wq={name:"autolink",tokenize:jq};function jq(e,t,r){let a=0;return o;function o(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(b){return Hn(b)?(e.consume(b),c):b===64?r(b):m(b)}function c(b){return b===43||b===45||b===46||_n(b)?(a=1,d(b)):m(b)}function d(b){return b===58?(e.consume(b),a=0,f):(b===43||b===45||b===46||_n(b))&&a++<32?(e.consume(b),d):(a=0,m(b))}function f(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||lm(b)?r(b):(e.consume(b),f)}function m(b){return b===64?(e.consume(b),g):dq(b)?(e.consume(b),m):r(b)}function g(b){return _n(b)?p(b):r(b)}function p(b){return b===46?(e.consume(b),a=0,g):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):v(b)}function v(b){if((b===45||_n(b))&&a++<63){const j=b===45?v:p;return e.consume(b),j}return r(b)}}const kd={partial:!0,tokenize:kq};function kq(e,t,r){return a;function a(l){return Pt(l)?qt(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||ct(l)?t(l):r(l)}}const q4={continuation:{tokenize:Sq},exit:Cq,name:"blockQuote",tokenize:Nq};function Nq(e,t,r){const a=this;return o;function o(c){if(c===62){const d=a.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return r(c)}function l(c){return Pt(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function Sq(e,t,r){const a=this;return o;function o(c){return Pt(c)?qt(e,l,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(q4,t,r)(c)}}function Cq(e){e.exit("blockQuote")}const V4={name:"characterEscape",tokenize:Eq};function Eq(e,t,r){return a;function a(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return hq(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(l)}}const G4={name:"characterReference",tokenize:Aq};function Aq(e,t,r){const a=this;let o=0,l,c;return d;function d(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),f}function f(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,c=_n,g(p))}function m(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=fq,g):(e.enter("characterReferenceValue"),l=7,c=xy,g(p))}function g(p){if(p===59&&o){const v=e.exit("characterReferenceValue");return c===_n&&!Qb(a.sliceSerialize(v))?r(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(p)&&o++<l?(e.consume(p),g):r(p)}}const yS={partial:!0,tokenize:Rq},bS={concrete:!0,name:"codeFenced",tokenize:Tq};function Tq(e,t,r){const a=this,o={partial:!0,tokenize:D};let l=0,c=0,d;return f;function f(T){return m(T)}function m(T){const B=a.events[a.events.length-1];return l=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,d=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(T)}function g(T){return T===d?(c++,e.consume(T),g):c<3?r(T):(e.exit("codeFencedFenceSequence"),Pt(T)?qt(e,p,"whitespace")(T):p(T))}function p(T){return T===null||ct(T)?(e.exit("codeFencedFence"),a.interrupt?t(T):e.check(yS,k,I)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||ct(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(T)):Pt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qt(e,b,"whitespace")(T)):T===96&&T===d?r(T):(e.consume(T),v)}function b(T){return T===null||ct(T)?p(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),j(T))}function j(T){return T===null||ct(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(T)):T===96&&T===d?r(T):(e.consume(T),j)}function k(T){return e.attempt(o,I,N)(T)}function N(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),S}function S(T){return l>0&&Pt(T)?qt(e,C,"linePrefix",l+1)(T):C(T)}function C(T){return T===null||ct(T)?e.check(yS,k,I)(T):(e.enter("codeFlowValue"),A(T))}function A(T){return T===null||ct(T)?(e.exit("codeFlowValue"),C(T)):(e.consume(T),A)}function I(T){return e.exit("codeFenced"),t(T)}function D(T,B,X){let Y=0;return K;function K(Z){return T.enter("lineEnding"),T.consume(Z),T.exit("lineEnding"),le}function le(Z){return T.enter("codeFencedFence"),Pt(Z)?qt(T,L,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):L(Z)}function L(Z){return Z===d?(T.enter("codeFencedFenceSequence"),W(Z)):X(Z)}function W(Z){return Z===d?(Y++,T.consume(Z),W):Y>=c?(T.exit("codeFencedFenceSequence"),Pt(Z)?qt(T,Q,"whitespace")(Z):Q(Z)):X(Z)}function Q(Z){return Z===null||ct(Z)?(T.exit("codeFencedFence"),B(Z)):X(Z)}}}function Rq(e,t,r){const a=this;return o;function o(c){return c===null?r(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return a.parser.lazy[a.now().line]?r(c):t(c)}}const tx={name:"codeIndented",tokenize:Dq},_q={partial:!0,tokenize:Mq};function Dq(e,t,r){const a=this;return o;function o(m){return e.enter("codeIndented"),qt(e,l,"linePrefix",5)(m)}function l(m){const g=a.events[a.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(m):r(m)}function c(m){return m===null?f(m):ct(m)?e.attempt(_q,c,f)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||ct(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),d)}function f(m){return e.exit("codeIndented"),t(m)}}function Mq(e,t,r){const a=this;return o;function o(c){return a.parser.lazy[a.now().line]?r(c):ct(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):qt(e,l,"linePrefix",5)(c)}function l(c){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):ct(c)?o(c):r(c)}}const Oq={name:"codeText",previous:Lq,resolve:Pq,tokenize:zq};function Pq(e){let t=e.length-4,r=3,a,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=r;++a<t;)if(e[a][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(a=r-1,t++;++a<=t;)o===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(o=a):(a===t||e[a][1].type==="lineEnding")&&(e[o][1].type="codeTextData",a!==o+2&&(e[o][1].end=e[a-1][1].end,e.splice(o+2,a-o-2),t-=a-o-2,a=o+2),o=void 0);return e}function Lq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zq(e,t,r){let a=0,o,l;return c;function c(p){return e.enter("codeText"),e.enter("codeTextSequence"),d(p)}function d(p){return p===96?(e.consume(p),a++,d):(e.exit("codeTextSequence"),f(p))}function f(p){return p===null?r(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),f):p===96?(l=e.enter("codeTextSequence"),o=0,g(p)):ct(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("codeTextData"),m(p))}function m(p){return p===null||p===32||p===96||ct(p)?(e.exit("codeTextData"),f(p)):(e.consume(p),m)}function g(p){return p===96?(e.consume(p),o++,g):o===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",m(p))}}class Fq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const a=r??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,r,a){const o=r||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return a&&Au(this.left,a),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Au(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Au(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Au(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Au(this.left,r.reverse())}}}function Au(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Y4(e){const t={};let r=-1,a,o,l,c,d,f,m;const g=new Fq(e);for(;++r<g.length;){for(;r in t;)r=t[r];if(a=g.get(r),r&&a[1].type==="chunkFlow"&&g.get(r-1)[1].type==="listItemPrefix"&&(f=a[1]._tokenizer.events,l=0,l<f.length&&f[l][1].type==="lineEndingBlank"&&(l+=2),l<f.length&&f[l][1].type==="content"))for(;++l<f.length&&f[l][1].type!=="content";)f[l][1].type==="chunkText"&&(f[l][1]._isInFirstContentOfListItem=!0,l++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,Iq(g,r)),r=t[r],m=!0);else if(a[1]._container){for(l=r,o=void 0;l--;)if(c=g.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(g.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(a[1].end={...g.get(o)[1].start},d=g.slice(o,r),d.unshift(a),g.splice(o,r-o+1,d))}}return wa(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function Iq(e,t){const r=e.get(t)[1],a=e.get(t)[2];let o=t-1;const l=[];let c=r._tokenizer;c||(c=a.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,f=[],m={};let g,p,v=-1,b=r,j=0,k=0;const N=[k];for(;b;){for(;e.get(++o)[1]!==b;);l.push(o),b._tokenizer||(g=a.sliceStream(b),b.next||g.push(null),p&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),p=b,b=b.next}for(b=r;++v<d.length;)d[v][0]==="exit"&&d[v-1][0]==="enter"&&d[v][1].type===d[v-1][1].type&&d[v][1].start.line!==d[v][1].end.line&&(k=v+1,N.push(k),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):N.pop(),v=N.length;v--;){const S=d.slice(N[v],N[v+1]),C=l.pop();f.push([C,C+S.length-1]),e.splice(C,2,S)}for(f.reverse(),v=-1;++v<f.length;)m[j+f[v][0]]=j+f[v][1],j+=f[v][1]-f[v][0]-1;return m}const Bq={resolve:Uq,tokenize:Hq},$q={partial:!0,tokenize:qq};function Uq(e){return Y4(e),e}function Hq(e,t){let r;return a;function a(d){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?l(d):ct(d)?e.check($q,c,l)(d):(e.consume(d),o)}function l(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function c(d){return e.consume(d),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function qq(e,t,r){const a=this;return o;function o(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),qt(e,l,"linePrefix")}function l(c){if(c===null||ct(c))return r(c);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(c):e.interrupt(a.parser.constructs.flow,r,t)(c)}}function K4(e,t,r,a,o,l,c,d,f){const m=f||Number.POSITIVE_INFINITY;let g=0;return p;function p(S){return S===60?(e.enter(a),e.enter(o),e.enter(l),e.consume(S),e.exit(l),v):S===null||S===32||S===41||lm(S)?r(S):(e.enter(a),e.enter(c),e.enter(d),e.enter("chunkString",{contentType:"string"}),k(S))}function v(S){return S===62?(e.enter(l),e.consume(S),e.exit(l),e.exit(o),e.exit(a),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===62?(e.exit("chunkString"),e.exit(d),v(S)):S===null||S===60||ct(S)?r(S):(e.consume(S),S===92?j:b)}function j(S){return S===60||S===62||S===92?(e.consume(S),b):b(S)}function k(S){return!g&&(S===null||S===41||gr(S))?(e.exit("chunkString"),e.exit(d),e.exit(c),e.exit(a),t(S)):g<m&&S===40?(e.consume(S),g++,k):S===41?(e.consume(S),g--,k):S===null||S===32||S===40||lm(S)?r(S):(e.consume(S),S===92?N:k)}function N(S){return S===40||S===41||S===92?(e.consume(S),k):k(S)}}function X4(e,t,r,a,o,l){const c=this;let d=0,f;return m;function m(b){return e.enter(a),e.enter(o),e.consume(b),e.exit(o),e.enter(l),g}function g(b){return d>999||b===null||b===91||b===93&&!f||b===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?r(b):b===93?(e.exit(l),e.enter(o),e.consume(b),e.exit(o),e.exit(a),t):ct(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||b===91||b===93||ct(b)||d++>999?(e.exit("chunkString"),g(b)):(e.consume(b),f||(f=!Pt(b)),b===92?v:p)}function v(b){return b===91||b===92||b===93?(e.consume(b),d++,p):p(b)}}function W4(e,t,r,a,o,l){let c;return d;function d(v){return v===34||v===39||v===40?(e.enter(a),e.enter(o),e.consume(v),e.exit(o),c=v===40?41:v,f):r(v)}function f(v){return v===c?(e.enter(o),e.consume(v),e.exit(o),e.exit(a),t):(e.enter(l),m(v))}function m(v){return v===c?(e.exit(l),f(c)):v===null?r(v):ct(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),qt(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===c||v===null||ct(v)?(e.exit("chunkString"),m(v)):(e.consume(v),v===92?p:g)}function p(v){return v===c||v===92?(e.consume(v),g):g(v)}}function Bu(e,t){let r;return a;function a(o){return ct(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r=!0,a):Pt(o)?qt(e,a,r?"linePrefix":"lineSuffix")(o):t(o)}}const Vq={name:"definition",tokenize:Yq},Gq={partial:!0,tokenize:Kq};function Yq(e,t,r){const a=this;let o;return l;function l(b){return e.enter("definition"),c(b)}function c(b){return X4.call(a,e,d,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function d(b){return o=es(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),f):r(b)}function f(b){return gr(b)?Bu(e,m)(b):m(b)}function m(b){return K4(e,g,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return e.attempt(Gq,p,p)(b)}function p(b){return Pt(b)?qt(e,v,"whitespace")(b):v(b)}function v(b){return b===null||ct(b)?(e.exit("definition"),a.parser.defined.push(o),t(b)):r(b)}}function Kq(e,t,r){return a;function a(d){return gr(d)?Bu(e,o)(d):r(d)}function o(d){return W4(e,l,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return Pt(d)?qt(e,c,"whitespace")(d):c(d)}function c(d){return d===null||ct(d)?t(d):r(d)}}const Xq={name:"hardBreakEscape",tokenize:Wq};function Wq(e,t,r){return a;function a(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return ct(l)?(e.exit("hardBreakEscape"),t(l)):r(l)}}const Qq={name:"headingAtx",resolve:Zq,tokenize:Jq};function Zq(e,t){let r=e.length-2,a=3,o,l;return e[a][1].type==="whitespace"&&(a+=2),r-2>a&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(a===r-1||r-4>a&&e[r-2][1].type==="whitespace")&&(r-=a+1===r?2:4),r>a&&(o={type:"atxHeadingText",start:e[a][1].start,end:e[r][1].end},l={type:"chunkText",start:e[a][1].start,end:e[r][1].end,contentType:"text"},wa(e,a,r-a+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function Jq(e,t,r){let a=0;return o;function o(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&a++<6?(e.consume(g),c):g===null||gr(g)?(e.exit("atxHeadingSequence"),d(g)):r(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),f(g)):g===null||ct(g)?(e.exit("atxHeading"),t(g)):Pt(g)?qt(e,d,"whitespace")(g):(e.enter("atxHeadingText"),m(g))}function f(g){return g===35?(e.consume(g),f):(e.exit("atxHeadingSequence"),d(g))}function m(g){return g===null||g===35||gr(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),m)}}const eV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vS=["pre","script","style","textarea"],tV={concrete:!0,name:"htmlFlow",resolveTo:aV,tokenize:sV},rV={partial:!0,tokenize:oV},nV={partial:!0,tokenize:iV};function aV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function sV(e,t,r){const a=this;let o,l,c,d,f;return m;function m(z){return g(z)}function g(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),p}function p(z){return z===33?(e.consume(z),v):z===47?(e.consume(z),l=!0,k):z===63?(e.consume(z),o=3,a.interrupt?t:R):Hn(z)?(e.consume(z),c=String.fromCharCode(z),N):r(z)}function v(z){return z===45?(e.consume(z),o=2,b):z===91?(e.consume(z),o=5,d=0,j):Hn(z)?(e.consume(z),o=4,a.interrupt?t:R):r(z)}function b(z){return z===45?(e.consume(z),a.interrupt?t:R):r(z)}function j(z){const ue="CDATA[";return z===ue.charCodeAt(d++)?(e.consume(z),d===ue.length?a.interrupt?t:L:j):r(z)}function k(z){return Hn(z)?(e.consume(z),c=String.fromCharCode(z),N):r(z)}function N(z){if(z===null||z===47||z===62||gr(z)){const ue=z===47,ve=c.toLowerCase();return!ue&&!l&&vS.includes(ve)?(o=1,a.interrupt?t(z):L(z)):eV.includes(c.toLowerCase())?(o=6,ue?(e.consume(z),S):a.interrupt?t(z):L(z)):(o=7,a.interrupt&&!a.parser.lazy[a.now().line]?r(z):l?C(z):A(z))}return z===45||_n(z)?(e.consume(z),c+=String.fromCharCode(z),N):r(z)}function S(z){return z===62?(e.consume(z),a.interrupt?t:L):r(z)}function C(z){return Pt(z)?(e.consume(z),C):K(z)}function A(z){return z===47?(e.consume(z),K):z===58||z===95||Hn(z)?(e.consume(z),I):Pt(z)?(e.consume(z),A):K(z)}function I(z){return z===45||z===46||z===58||z===95||_n(z)?(e.consume(z),I):D(z)}function D(z){return z===61?(e.consume(z),T):Pt(z)?(e.consume(z),D):A(z)}function T(z){return z===null||z===60||z===61||z===62||z===96?r(z):z===34||z===39?(e.consume(z),f=z,B):Pt(z)?(e.consume(z),T):X(z)}function B(z){return z===f?(e.consume(z),f=null,Y):z===null||ct(z)?r(z):(e.consume(z),B)}function X(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||gr(z)?D(z):(e.consume(z),X)}function Y(z){return z===47||z===62||Pt(z)?A(z):r(z)}function K(z){return z===62?(e.consume(z),le):r(z)}function le(z){return z===null||ct(z)?L(z):Pt(z)?(e.consume(z),le):r(z)}function L(z){return z===45&&o===2?(e.consume(z),U):z===60&&o===1?(e.consume(z),G):z===62&&o===4?(e.consume(z),_):z===63&&o===3?(e.consume(z),R):z===93&&o===5?(e.consume(z),V):ct(z)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(rV,$,W)(z)):z===null||ct(z)?(e.exit("htmlFlowData"),W(z)):(e.consume(z),L)}function W(z){return e.check(nV,Q,$)(z)}function Q(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),Z}function Z(z){return z===null||ct(z)?W(z):(e.enter("htmlFlowData"),L(z))}function U(z){return z===45?(e.consume(z),R):L(z)}function G(z){return z===47?(e.consume(z),c="",F):L(z)}function F(z){if(z===62){const ue=c.toLowerCase();return vS.includes(ue)?(e.consume(z),_):L(z)}return Hn(z)&&c.length<8?(e.consume(z),c+=String.fromCharCode(z),F):L(z)}function V(z){return z===93?(e.consume(z),R):L(z)}function R(z){return z===62?(e.consume(z),_):z===45&&o===2?(e.consume(z),R):L(z)}function _(z){return z===null||ct(z)?(e.exit("htmlFlowData"),$(z)):(e.consume(z),_)}function $(z){return e.exit("htmlFlow"),t(z)}}function iV(e,t,r){const a=this;return o;function o(c){return ct(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):r(c)}function l(c){return a.parser.lazy[a.now().line]?r(c):t(c)}}function oV(e,t,r){return a;function a(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(kd,t,r)}}const lV={name:"htmlText",tokenize:cV};function cV(e,t,r){const a=this;let o,l,c;return d;function d(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),f}function f(R){return R===33?(e.consume(R),m):R===47?(e.consume(R),D):R===63?(e.consume(R),A):Hn(R)?(e.consume(R),X):r(R)}function m(R){return R===45?(e.consume(R),g):R===91?(e.consume(R),l=0,j):Hn(R)?(e.consume(R),C):r(R)}function g(R){return R===45?(e.consume(R),b):r(R)}function p(R){return R===null?r(R):R===45?(e.consume(R),v):ct(R)?(c=p,G(R)):(e.consume(R),p)}function v(R){return R===45?(e.consume(R),b):p(R)}function b(R){return R===62?U(R):R===45?v(R):p(R)}function j(R){const _="CDATA[";return R===_.charCodeAt(l++)?(e.consume(R),l===_.length?k:j):r(R)}function k(R){return R===null?r(R):R===93?(e.consume(R),N):ct(R)?(c=k,G(R)):(e.consume(R),k)}function N(R){return R===93?(e.consume(R),S):k(R)}function S(R){return R===62?U(R):R===93?(e.consume(R),S):k(R)}function C(R){return R===null||R===62?U(R):ct(R)?(c=C,G(R)):(e.consume(R),C)}function A(R){return R===null?r(R):R===63?(e.consume(R),I):ct(R)?(c=A,G(R)):(e.consume(R),A)}function I(R){return R===62?U(R):A(R)}function D(R){return Hn(R)?(e.consume(R),T):r(R)}function T(R){return R===45||_n(R)?(e.consume(R),T):B(R)}function B(R){return ct(R)?(c=B,G(R)):Pt(R)?(e.consume(R),B):U(R)}function X(R){return R===45||_n(R)?(e.consume(R),X):R===47||R===62||gr(R)?Y(R):r(R)}function Y(R){return R===47?(e.consume(R),U):R===58||R===95||Hn(R)?(e.consume(R),K):ct(R)?(c=Y,G(R)):Pt(R)?(e.consume(R),Y):U(R)}function K(R){return R===45||R===46||R===58||R===95||_n(R)?(e.consume(R),K):le(R)}function le(R){return R===61?(e.consume(R),L):ct(R)?(c=le,G(R)):Pt(R)?(e.consume(R),le):Y(R)}function L(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),o=R,W):ct(R)?(c=L,G(R)):Pt(R)?(e.consume(R),L):(e.consume(R),Q)}function W(R){return R===o?(e.consume(R),o=void 0,Z):R===null?r(R):ct(R)?(c=W,G(R)):(e.consume(R),W)}function Q(R){return R===null||R===34||R===39||R===60||R===61||R===96?r(R):R===47||R===62||gr(R)?Y(R):(e.consume(R),Q)}function Z(R){return R===47||R===62||gr(R)?Y(R):r(R)}function U(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):r(R)}function G(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),F}function F(R){return Pt(R)?qt(e,V,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):V(R)}function V(R){return e.enter("htmlTextData"),c(R)}}const Zb={name:"labelEnd",resolveAll:hV,resolveTo:mV,tokenize:pV},uV={tokenize:gV},dV={tokenize:xV},fV={tokenize:yV};function hV(e){let t=-1;const r=[];for(;++t<e.length;){const a=e[t][1];if(r.push(e[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const o=a.type==="labelImage"?4:2;a.type="data",t+=o}}return e.length!==r.length&&wa(e,0,e.length,r),e}function mV(e,t){let r=e.length,a=0,o,l,c,d;for(;r--;)if(o=e[r][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(e[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=r,o.type!=="labelLink")){a=2;break}}else o.type==="labelEnd"&&(c=r);const f={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},g={type:"labelText",start:{...e[l+a+2][1].end},end:{...e[c-2][1].start}};return d=[["enter",f,t],["enter",m,t]],d=za(d,e.slice(l+1,l+a+3)),d=za(d,[["enter",g,t]]),d=za(d,Zm(t.parser.constructs.insideSpan.null,e.slice(l+a+4,c-3),t)),d=za(d,[["exit",g,t],e[c-2],e[c-1],["exit",m,t]]),d=za(d,e.slice(c+1)),d=za(d,[["exit",f,t]]),wa(e,l,e.length,d),e}function pV(e,t,r){const a=this;let o=a.events.length,l,c;for(;o--;)if((a.events[o][1].type==="labelImage"||a.events[o][1].type==="labelLink")&&!a.events[o][1]._balanced){l=a.events[o][1];break}return d;function d(v){return l?l._inactive?p(v):(c=a.parser.defined.includes(es(a.sliceSerialize({start:l.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),f):r(v)}function f(v){return v===40?e.attempt(uV,g,c?g:p)(v):v===91?e.attempt(dV,g,c?m:p)(v):c?g(v):p(v)}function m(v){return e.attempt(fV,g,p)(v)}function g(v){return t(v)}function p(v){return l._balanced=!0,r(v)}}function gV(e,t,r){return a;function a(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),o}function o(p){return gr(p)?Bu(e,l)(p):l(p)}function l(p){return p===41?g(p):K4(e,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function c(p){return gr(p)?Bu(e,f)(p):g(p)}function d(p){return r(p)}function f(p){return p===34||p===39||p===40?W4(e,m,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):g(p)}function m(p){return gr(p)?Bu(e,g)(p):g(p)}function g(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):r(p)}}function xV(e,t,r){const a=this;return o;function o(d){return X4.call(a,e,l,c,"reference","referenceMarker","referenceString")(d)}function l(d){return a.parser.defined.includes(es(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(d):r(d)}function c(d){return r(d)}}function yV(e,t,r){return a;function a(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):r(l)}}const bV={name:"labelStartImage",resolveAll:Zb.resolveAll,tokenize:vV};function vV(e,t,r){const a=this;return o;function o(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),c):r(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?r(d):t(d)}}const wV={name:"labelStartLink",resolveAll:Zb.resolveAll,tokenize:jV};function jV(e,t,r){const a=this;return o;function o(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?r(c):t(c)}}const rx={name:"lineEnding",tokenize:kV};function kV(e,t){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),qt(e,t,"linePrefix")}}const Th={name:"thematicBreak",tokenize:NV};function NV(e,t,r){let a=0,o;return l;function l(m){return e.enter("thematicBreak"),c(m)}function c(m){return o=m,d(m)}function d(m){return m===o?(e.enter("thematicBreakSequence"),f(m)):a>=3&&(m===null||ct(m))?(e.exit("thematicBreak"),t(m)):r(m)}function f(m){return m===o?(e.consume(m),a++,f):(e.exit("thematicBreakSequence"),Pt(m)?qt(e,d,"whitespace")(m):d(m))}}const ea={continuation:{tokenize:AV},exit:RV,name:"list",tokenize:EV},SV={partial:!0,tokenize:_V},CV={partial:!0,tokenize:TV};function EV(e,t,r){const a=this,o=a.events[a.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return d;function d(b){const j=a.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!a.containerState.marker||b===a.containerState.marker:xy(b)){if(a.containerState.type||(a.containerState.type=j,e.enter(j,{_container:!0})),j==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(Th,r,m)(b):m(b);if(!a.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(b)}return r(b)}function f(b){return xy(b)&&++c<10?(e.consume(b),f):(!a.interrupt||c<2)&&(a.containerState.marker?b===a.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),m(b)):r(b)}function m(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||b,e.check(kd,a.interrupt?r:g,e.attempt(SV,v,p))}function g(b){return a.containerState.initialBlankLine=!0,l++,v(b)}function p(b){return Pt(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):r(b)}function v(b){return a.containerState.size=l+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function AV(e,t,r){const a=this;return a.containerState._closeFlow=void 0,e.check(kd,o,l);function o(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,qt(e,t,"listItemIndent",a.containerState.size+1)(d)}function l(d){return a.containerState.furtherBlankLines||!Pt(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(CV,t,c)(d))}function c(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,qt(e,e.attempt(ea,t,r),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function TV(e,t,r){const a=this;return qt(e,o,"listItemIndent",a.containerState.size+1);function o(l){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?t(l):r(l)}}function RV(e){e.exit(this.containerState.type)}function _V(e,t,r){const a=this;return qt(e,o,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const c=a.events[a.events.length-1];return!Pt(l)&&c&&c[1].type==="listItemPrefixWhitespace"?t(l):r(l)}}const wS={name:"setextUnderline",resolveTo:DV,tokenize:MV};function DV(e,t){let r=e.length,a,o,l;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){a=r;break}e[r][1].type==="paragraph"&&(o=r)}else e[r][1].type==="content"&&e.splice(r,1),!l&&e[r][1].type==="definition"&&(l=r);const c={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",c,t]),e.splice(l+1,0,["exit",e[a][1],t]),e[a][1].end={...e[l][1].end}):e[a][1]=c,e.push(["exit",c,t]),e}function MV(e,t,r){const a=this;let o;return l;function l(m){let g=a.events.length,p;for(;g--;)if(a.events[g][1].type!=="lineEnding"&&a.events[g][1].type!=="linePrefix"&&a.events[g][1].type!=="content"){p=a.events[g][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||p)?(e.enter("setextHeadingLine"),o=m,c(m)):r(m)}function c(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===o?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),Pt(m)?qt(e,f,"lineSuffix")(m):f(m))}function f(m){return m===null||ct(m)?(e.exit("setextHeadingLine"),t(m)):r(m)}}const OV={tokenize:PV};function PV(e){const t=this,r=e.attempt(kd,a,e.attempt(this.parser.constructs.flowInitial,o,qt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Bq,o)),"linePrefix")));return r;function a(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const LV={resolveAll:Z4()},zV=Q4("string"),FV=Q4("text");function Q4(e){return{resolveAll:Z4(e==="text"?IV:void 0),tokenize:t};function t(r){const a=this,o=this.parser.constructs[e],l=r.attempt(o,c,d);return c;function c(g){return m(g)?l(g):d(g)}function d(g){if(g===null){r.consume(g);return}return r.enter("data"),r.consume(g),f}function f(g){return m(g)?(r.exit("data"),l(g)):(r.consume(g),f)}function m(g){if(g===null)return!0;const p=o[g];let v=-1;if(p)for(;++v<p.length;){const b=p[v];if(!b.previous||b.previous.call(a,a.previous))return!0}return!1}}}function Z4(e){return t;function t(r,a){let o=-1,l;for(;++o<=r.length;)l===void 0?r[o]&&r[o][1].type==="data"&&(l=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==l+2&&(r[l][1].end=r[o-1][1].end,r.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(r,a):r}}function IV(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const a=e[r-1][1],o=t.sliceStream(a);let l=o.length,c=-1,d=0,f;for(;l--;){const m=o[l];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(m===-2)f=!0,d++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(d=0),d){const m={type:r===e.length||f||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:a.start._bufferIndex+c,_index:a.start._index+l,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...m.start},a.start.offset===a.end.offset?Object.assign(a,m):(e.splice(r,0,["enter",m,t],["exit",m,t]),r+=2)}r++}return e}const BV={42:ea,43:ea,45:ea,48:ea,49:ea,50:ea,51:ea,52:ea,53:ea,54:ea,55:ea,56:ea,57:ea,62:q4},$V={91:Vq},UV={[-2]:tx,[-1]:tx,32:tx},HV={35:Qq,42:Th,45:[wS,Th],60:tV,61:wS,95:Th,96:bS,126:bS},qV={38:G4,92:V4},VV={[-5]:rx,[-4]:rx,[-3]:rx,33:bV,38:G4,42:yy,60:[wq,lV],91:wV,92:[Xq,V4],93:Zb,95:yy,96:Oq},GV={null:[yy,LV]},YV={null:[42,95]},KV={null:[]},XV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YV,contentInitial:$V,disable:KV,document:BV,flow:HV,flowInitial:UV,insideSpan:GV,string:qV,text:VV},Symbol.toStringTag,{value:"Module"}));function WV(e,t,r){let a={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},l=[];let c=[],d=[];const f={attempt:B(D),check:B(T),consume:C,enter:A,exit:I,interrupt:B(T,{interrupt:!0})},m={code:null,containerState:{},defineSkip:k,events:[],now:j,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:p};let g=t.tokenize.call(m,f);return t.resolveAll&&l.push(t),m;function p(le){return c=za(c,le),N(),c[c.length-1]!==null?[]:(X(t,0),m.events=Zm(l,m.events,m),m.events)}function v(le,L){return ZV(b(le),L)}function b(le){return QV(c,le)}function j(){const{_bufferIndex:le,_index:L,line:W,column:Q,offset:Z}=a;return{_bufferIndex:le,_index:L,line:W,column:Q,offset:Z}}function k(le){o[le.line]=le.column,K()}function N(){let le;for(;a._index<c.length;){const L=c[a._index];if(typeof L=="string")for(le=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===le&&a._bufferIndex<L.length;)S(L.charCodeAt(a._bufferIndex));else S(L)}}function S(le){g=g(le)}function C(le){ct(le)?(a.line++,a.column=1,a.offset+=le===-3?2:1,K()):le!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),m.previous=le}function A(le,L){const W=L||{};return W.type=le,W.start=j(),m.events.push(["enter",W,m]),d.push(W),W}function I(le){const L=d.pop();return L.end=j(),m.events.push(["exit",L,m]),L}function D(le,L){X(le,L.from)}function T(le,L){L.restore()}function B(le,L){return W;function W(Q,Z,U){let G,F,V,R;return Array.isArray(Q)?$(Q):"tokenize"in Q?$([Q]):_(Q);function _(re){return ce;function ce(Me){const Ne=Me!==null&&re[Me],Ce=Me!==null&&re.null,Ee=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return $(Ee)(Me)}}function $(re){return G=re,F=0,re.length===0?U:z(re[F])}function z(re){return ce;function ce(Me){return R=Y(),V=re,re.partial||(m.currentConstruct=re),re.name&&m.parser.constructs.disable.null.includes(re.name)?ve():re.tokenize.call(L?Object.assign(Object.create(m),L):m,f,ue,ve)(Me)}}function ue(re){return le(V,R),Z}function ve(re){return R.restore(),++F<G.length?z(G[F]):U}}}function X(le,L){le.resolveAll&&!l.includes(le)&&l.push(le),le.resolve&&wa(m.events,L,m.events.length-L,le.resolve(m.events.slice(L),m)),le.resolveTo&&(m.events=le.resolveTo(m.events,m))}function Y(){const le=j(),L=m.previous,W=m.currentConstruct,Q=m.events.length,Z=Array.from(d);return{from:Q,restore:U};function U(){a=le,m.previous=L,m.currentConstruct=W,m.events.length=Q,d=Z,K()}}function K(){a.line in o&&a.column<2&&(a.column=o[a.line],a.offset+=o[a.line]-1)}}function QV(e,t){const r=t.start._index,a=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let c;if(r===o)c=[e[r].slice(a,l)];else{if(c=e.slice(r,o),a>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(a):c.shift()}l>0&&c.push(e[o].slice(0,l))}return c}function ZV(e,t){let r=-1;const a=[];let o;for(;++r<e.length;){const l=e[r];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&o)continue;c=" ";break}default:c=String.fromCharCode(l)}o=l===-2,a.push(c)}return a.join("")}function JV(e){const a={constructs:U4([XV,...(e||{}).extensions||[]]),content:o(mq),defined:[],document:o(gq),flow:o(OV),lazy:{},string:o(zV),text:o(FV)};return a;function o(l){return c;function c(d){return WV(a,l,d)}}}function eG(e){for(;!Y4(e););return e}const jS=/[\0\t\n\r]/g;function tG(){let e=1,t="",r=!0,a;return o;function o(l,c,d){const f=[];let m,g,p,v,b;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),p=0,t="",r&&(l.charCodeAt(0)===65279&&p++,r=void 0);p<l.length;){if(jS.lastIndex=p,m=jS.exec(l),v=m&&m.index!==void 0?m.index:l.length,b=l.charCodeAt(v),!m){t=l.slice(p);break}if(b===10&&p===v&&a)f.push(-3),a=void 0;else switch(a&&(f.push(-5),a=void 0),p<v&&(f.push(l.slice(p,v)),e+=v-p),b){case 0:{f.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,f.push(-2);e++<g;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:a=!0,e=1}p=v+1}return d&&(a&&f.push(-5),t&&f.push(t),f.push(null)),f}}const rG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nG(e){return e.replace(rG,aG)}function aG(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),l=o===120||o===88;return H4(r.slice(l?2:1),l?16:10)}return Qb(r)||e}const J4={}.hasOwnProperty;function sG(e,t,r){return typeof t!="string"&&(r=t,t=void 0),iG(r)(eG(JV(r).document().write(tG()(e,t,!0))))}function iG(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Lt),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:l(bt),blockQuote:l(Ce),characterEscape:Y,characterReference:Y,codeFenced:l(Ee),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ee,c),codeText:l(Re,c),codeTextData:Y,data:Y,codeFlowValue:Y,definition:l(Be),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l($e),hardBreakEscape:l(jt),hardBreakTrailing:l(jt),htmlFlow:l(mt,c),htmlFlowData:Y,htmlText:l(mt,c),htmlTextData:Y,image:l(kt),label:c,link:l(Lt),listItem:l(Vt),listItemValue:v,listOrdered:l(Dr,p),listUnordered:l(Dr),paragraph:l(Sr),reference:z,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(bt),strong:l(Cr),thematicBreak:l(on)},exit:{atxHeading:f(),atxHeadingSequence:D,autolink:f(),autolinkEmail:Ne,autolinkProtocol:Me,blockQuote:f(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:re,characterReference:ce,codeFenced:f(N),codeFencedFence:k,codeFencedFenceInfo:b,codeFencedFenceMeta:j,codeFlowValue:K,codeIndented:f(S),codeText:f(Z),codeTextData:K,data:K,definition:f(),definitionDestinationString:I,definitionLabelString:C,definitionTitleString:A,emphasis:f(),hardBreakEscape:f(L),hardBreakTrailing:f(L),htmlFlow:f(W),htmlFlowData:K,htmlText:f(Q),htmlTextData:K,image:f(G),label:V,labelText:F,lineEnding:le,link:f(U),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ue,resourceDestinationString:R,resourceTitleString:_,resource:$,setextHeading:f(X),setextHeadingLineSequence:B,setextHeadingText:T,strong:f(),thematicBreak:f()}};e5(t,(e||{}).mdastExtensions||[]);const r={};return a;function a(je){let Le={type:"root",children:[]};const tt={stack:[Le],tokenStack:[],config:t,enter:d,exit:m,buffer:c,resume:g,data:r},dt=[];let ht=-1;for(;++ht<je.length;)if(je[ht][1].type==="listOrdered"||je[ht][1].type==="listUnordered")if(je[ht][0]==="enter")dt.push(ht);else{const yr=dt.pop();ht=o(je,yr,ht)}for(ht=-1;++ht<je.length;){const yr=t[je[ht][0]];J4.call(yr,je[ht][1].type)&&yr[je[ht][1].type].call(Object.assign({sliceSerialize:je[ht][2].sliceSerialize},tt),je[ht][1])}if(tt.tokenStack.length>0){const yr=tt.tokenStack[tt.tokenStack.length-1];(yr[1]||kS).call(tt,void 0,yr[0])}for(Le.position={start:Ii(je.length>0?je[0][1].start:{line:1,column:1,offset:0}),end:Ii(je.length>0?je[je.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<t.transforms.length;)Le=t.transforms[ht](Le)||Le;return Le}function o(je,Le,tt){let dt=Le-1,ht=-1,yr=!1,ir,hr,rr,nr;for(;++dt<=tt;){const pt=je[dt];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?ht++:ht--,nr=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(ir&&!nr&&!ht&&!rr&&(rr=dt),nr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nr=void 0}if(!ht&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||ht===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(ir){let Er=dt;for(hr=void 0;Er--;){const br=je[Er];if(br[1].type==="lineEnding"||br[1].type==="lineEndingBlank"){if(br[0]==="exit")continue;hr&&(je[hr][1].type="lineEndingBlank",yr=!0),br[1].type="lineEnding",hr=Er}else if(!(br[1].type==="linePrefix"||br[1].type==="blockQuotePrefix"||br[1].type==="blockQuotePrefixWhitespace"||br[1].type==="blockQuoteMarker"||br[1].type==="listItemIndent"))break}rr&&(!hr||rr<hr)&&(ir._spread=!0),ir.end=Object.assign({},hr?je[hr][1].start:pt[1].end),je.splice(hr||dt,0,["exit",ir,pt[2]]),dt++,tt++}if(pt[1].type==="listItemPrefix"){const Er={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};ir=Er,je.splice(dt,0,["enter",Er,pt[2]]),dt++,tt++,rr=void 0,nr=!0}}}return je[Le][1]._spread=yr,tt}function l(je,Le){return tt;function tt(dt){d.call(this,je(dt),dt),Le&&Le.call(this,dt)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(je,Le,tt){this.stack[this.stack.length-1].children.push(je),this.stack.push(je),this.tokenStack.push([Le,tt||void 0]),je.position={start:Ii(Le.start),end:void 0}}function f(je){return Le;function Le(tt){je&&je.call(this,tt),m.call(this,tt)}}function m(je,Le){const tt=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==je.type&&(Le?Le.call(this,je,dt[0]):(dt[1]||kS).call(this,je,dt[0]));else throw new Error("Cannot close `"+je.type+"` ("+Iu({start:je.start,end:je.end})+"): its not open");tt.position.end=Ii(je.end)}function g(){return Wb(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(je){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(je),10),this.data.expectingFirstListItemValue=void 0}}function b(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=je}function j(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=je}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.value=je.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.value=je.replace(/(\r?\n|\r)$/g,"")}function C(je){const Le=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Le,tt.identifier=es(this.sliceSerialize(je)).toLowerCase()}function A(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.title=je}function I(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.url=je}function D(je){const Le=this.stack[this.stack.length-1];if(!Le.depth){const tt=this.sliceSerialize(je).length;Le.depth=tt}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function B(je){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(je).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(je){const tt=this.stack[this.stack.length-1].children;let dt=tt[tt.length-1];(!dt||dt.type!=="text")&&(dt=Yt(),dt.position={start:Ii(je.start),end:void 0},tt.push(dt)),this.stack.push(dt)}function K(je){const Le=this.stack.pop();Le.value+=this.sliceSerialize(je),Le.position.end=Ii(je.end)}function le(je){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const tt=Le.children[Le.children.length-1];tt.position.end=Ii(je.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&(Y.call(this,je),K.call(this,je))}function L(){this.data.atHardBreak=!0}function W(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.value=je}function Q(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.value=je}function Z(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.value=je}function U(){const je=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";je.type+="Reference",je.referenceType=Le,delete je.url,delete je.title}else delete je.identifier,delete je.label;this.data.referenceType=void 0}function G(){const je=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";je.type+="Reference",je.referenceType=Le,delete je.url,delete je.title}else delete je.identifier,delete je.label;this.data.referenceType=void 0}function F(je){const Le=this.sliceSerialize(je),tt=this.stack[this.stack.length-2];tt.label=nG(Le),tt.identifier=es(Le).toLowerCase()}function V(){const je=this.stack[this.stack.length-1],Le=this.resume(),tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,tt.type==="link"){const dt=je.children;tt.children=dt}else tt.alt=Le}function R(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.url=je}function _(){const je=this.resume(),Le=this.stack[this.stack.length-1];Le.title=je}function $(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function ue(je){const Le=this.resume(),tt=this.stack[this.stack.length-1];tt.label=Le,tt.identifier=es(this.sliceSerialize(je)).toLowerCase(),this.data.referenceType="full"}function ve(je){this.data.characterReferenceType=je.type}function re(je){const Le=this.sliceSerialize(je),tt=this.data.characterReferenceType;let dt;tt?(dt=H4(Le,tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):dt=Qb(Le);const ht=this.stack[this.stack.length-1];ht.value+=dt}function ce(je){const Le=this.stack.pop();Le.position.end=Ii(je.end)}function Me(je){K.call(this,je);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(je)}function Ne(je){K.call(this,je);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(je)}function Ce(){return{type:"blockquote",children:[]}}function Ee(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function bt(){return{type:"heading",depth:0,children:[]}}function jt(){return{type:"break"}}function mt(){return{type:"html",value:""}}function kt(){return{type:"image",title:null,url:"",alt:null}}function Lt(){return{type:"link",title:null,url:"",children:[]}}function Dr(je){return{type:"list",ordered:je.type==="listOrdered",start:null,spread:je._spread,children:[]}}function Vt(je){return{type:"listItem",spread:je._spread,checked:null,children:[]}}function Sr(){return{type:"paragraph",children:[]}}function Cr(){return{type:"strong",children:[]}}function Yt(){return{type:"text",value:""}}function on(){return{type:"thematicBreak"}}}function Ii(e){return{line:e.line,column:e.column,offset:e.offset}}function e5(e,t){let r=-1;for(;++r<t.length;){const a=t[r];Array.isArray(a)?e5(e,a):oG(e,a)}}function oG(e,t){let r;for(r in t)if(J4.call(t,r))switch(r){case"canContainEols":{const a=t[r];a&&e[r].push(...a);break}case"transforms":{const a=t[r];a&&e[r].push(...a);break}case"enter":case"exit":{const a=t[r];a&&Object.assign(e[r],a);break}}}function kS(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Iu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Iu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Iu({start:t.start,end:t.end})+") is still open")}function lG(e){const t=this;t.parser=r;function r(a){return sG(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function cG(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function uG(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function dG(e,t){const r=t.value?t.value+`
`:"",a={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(a.className=["language-"+o[0]]);let l={type:"element",tagName:"code",properties:a,children:[{type:"text",value:r}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function fG(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hG(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mG(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),o=Sc(a.toLowerCase()),l=e.footnoteOrder.indexOf(a);let c,d=e.footnoteCounts.get(a);d===void 0?(d=0,e.footnoteOrder.push(a),c=e.footnoteOrder.length):c=l+1,d+=1,e.footnoteCounts.set(a,d);const f={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,f);const m={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,m),e.applyData(t,m)}function pG(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gG(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function t5(e,t){const r=t.referenceType;let a="]";if(r==="collapsed"?a+="[]":r==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=a:o.push({type:"text",value:a}),o}function xG(e,t){const r=String(t.identifier).toUpperCase(),a=e.definitionById.get(r);if(!a)return t5(e,t);const o={src:Sc(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(o.title=a.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function yG(e,t){const r={src:Sc(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const a={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,a),e.applyData(t,a)}function bG(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const a={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,a),e.applyData(t,a)}function vG(e,t){const r=String(t.identifier).toUpperCase(),a=e.definitionById.get(r);if(!a)return t5(e,t);const o={href:Sc(a.url||"")};a.title!==null&&a.title!==void 0&&(o.title=a.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function wG(e,t){const r={href:Sc(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const a={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function jG(e,t,r){const a=e.all(t),o=r?kG(r):r5(t),l={},c=[];if(typeof t.checked=="boolean"){const g=a[0];let p;g&&g.type==="element"&&g.tagName==="p"?p=g:(p={type:"element",tagName:"p",properties:{},children:[]},a.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const g=a[d];(o||d!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!o?c.push(...g.children):c.push(g)}const f=a[a.length-1];f&&(o||f.type!=="element"||f.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:c};return e.patch(t,m),e.applyData(t,m)}function kG(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let a=-1;for(;!t&&++a<r.length;)t=r5(r[a])}return t}function r5(e){const t=e.spread;return t??e.children.length>1}function NG(e,t){const r={},a=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++o<a.length;){const c=a[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function SG(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function CG(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function EG(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function AG(e,t){const r=e.all(t),a=r.shift(),o=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],c),o.push(c)}if(r.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},d=Gb(t.children[1]),f=P4(t.children[t.children.length-1]);d&&f&&(c.position={start:d,end:f}),o.push(c)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function TG(e,t,r){const a=r?r.children:void 0,l=(a?a.indexOf(t):1)===0?"th":"td",c=r&&r.type==="table"?r.align:void 0,d=c?c.length:t.children.length;let f=-1;const m=[];for(;++f<d;){const p=t.children[f],v={},b=c?c[f]:void 0;b&&(v.align=b);let j={type:"element",tagName:l,properties:v,children:[]};p&&(j.children=e.all(p),e.patch(p,j),j=e.applyData(p,j)),m.push(j)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,g),e.applyData(t,g)}function RG(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const NS=9,SS=32;function _G(e){const t=String(e),r=/\r?\n|\r/g;let a=r.exec(t),o=0;const l=[];for(;a;)l.push(CS(t.slice(o,a.index),o>0,!0),a[0]),o=a.index+a[0].length,a=r.exec(t);return l.push(CS(t.slice(o),o>0,!1)),l.join("")}function CS(e,t,r){let a=0,o=e.length;if(t){let l=e.codePointAt(a);for(;l===NS||l===SS;)a++,l=e.codePointAt(a)}if(r){let l=e.codePointAt(o-1);for(;l===NS||l===SS;)o--,l=e.codePointAt(o-1)}return o>a?e.slice(a,o):""}function DG(e,t){const r={type:"text",value:_G(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function MG(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const OG={blockquote:cG,break:uG,code:dG,delete:fG,emphasis:hG,footnoteReference:mG,heading:pG,html:gG,imageReference:xG,image:yG,inlineCode:bG,linkReference:vG,link:wG,listItem:jG,list:NG,paragraph:SG,root:CG,strong:EG,table:AG,tableCell:RG,tableRow:TG,text:DG,thematicBreak:MG,toml:nh,yaml:nh,definition:nh,footnoteDefinition:nh};function nh(){}const n5=-1,Jm=0,$u=1,cm=2,Jb=3,ev=4,tv=5,rv=6,a5=7,s5=8,ES=typeof self=="object"?self:globalThis,PG=(e,t)=>{const r=(o,l)=>(e.set(l,o),o),a=o=>{if(e.has(o))return e.get(o);const[l,c]=t[o];switch(l){case Jm:case n5:return r(c,o);case $u:{const d=r([],o);for(const f of c)d.push(a(f));return d}case cm:{const d=r({},o);for(const[f,m]of c)d[a(f)]=a(m);return d}case Jb:return r(new Date(c),o);case ev:{const{source:d,flags:f}=c;return r(new RegExp(d,f),o)}case tv:{const d=r(new Map,o);for(const[f,m]of c)d.set(a(f),a(m));return d}case rv:{const d=r(new Set,o);for(const f of c)d.add(a(f));return d}case a5:{const{name:d,message:f}=c;return r(new ES[d](f),o)}case s5:return r(BigInt(c),o);case"BigInt":return r(Object(BigInt(c)),o);case"ArrayBuffer":return r(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return r(new DataView(d),c)}}return r(new ES[l](c),o)};return a},AS=e=>PG(new Map,e)(0),Fl="",{toString:LG}={},{keys:zG}=Object,Tu=e=>{const t=typeof e;if(t!=="object"||!e)return[Jm,t];const r=LG.call(e).slice(8,-1);switch(r){case"Array":return[$u,Fl];case"Object":return[cm,Fl];case"Date":return[Jb,Fl];case"RegExp":return[ev,Fl];case"Map":return[tv,Fl];case"Set":return[rv,Fl];case"DataView":return[$u,r]}return r.includes("Array")?[$u,r]:r.includes("Error")?[a5,r]:[cm,r]},ah=([e,t])=>e===Jm&&(t==="function"||t==="symbol"),FG=(e,t,r,a)=>{const o=(c,d)=>{const f=a.push(c)-1;return r.set(d,f),f},l=c=>{if(r.has(c))return r.get(c);let[d,f]=Tu(c);switch(d){case Jm:{let g=c;switch(f){case"bigint":d=s5,g=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return o([n5],c)}return o([d,g],c)}case $u:{if(f){let v=c;return f==="DataView"?v=new Uint8Array(c.buffer):f==="ArrayBuffer"&&(v=new Uint8Array(c)),o([f,[...v]],c)}const g=[],p=o([d,g],c);for(const v of c)g.push(l(v));return p}case cm:{if(f)switch(f){case"BigInt":return o([f,c.toString()],c);case"Boolean":case"Number":case"String":return o([f,c.valueOf()],c)}if(t&&"toJSON"in c)return l(c.toJSON());const g=[],p=o([d,g],c);for(const v of zG(c))(e||!ah(Tu(c[v])))&&g.push([l(v),l(c[v])]);return p}case Jb:return o([d,c.toISOString()],c);case ev:{const{source:g,flags:p}=c;return o([d,{source:g,flags:p}],c)}case tv:{const g=[],p=o([d,g],c);for(const[v,b]of c)(e||!(ah(Tu(v))||ah(Tu(b))))&&g.push([l(v),l(b)]);return p}case rv:{const g=[],p=o([d,g],c);for(const v of c)(e||!ah(Tu(v)))&&g.push(l(v));return p}}const{message:m}=c;return o([d,{name:f,message:m}],c)};return l},TS=(e,{json:t,lossy:r}={})=>{const a=[];return FG(!(t||r),!!t,new Map,a)(e),a},um=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?AS(TS(e,t)):structuredClone(e):(e,t)=>AS(TS(e,t));function IG(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function BG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $G(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||IG,a=e.options.footnoteBackLabel||BG,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let f=-1;for(;++f<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[f]);if(!m)continue;const g=e.all(m),p=String(m.identifier).toUpperCase(),v=Sc(p.toLowerCase());let b=0;const j=[],k=e.footnoteCounts.get(p);for(;k!==void 0&&++b<=k;){j.length>0&&j.push({type:"text",value:" "});let C=typeof r=="string"?r:r(f,b);typeof C=="string"&&(C={type:"text",value:C}),j.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(f,b),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const N=g[g.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const C=N.children[N.children.length-1];C&&C.type==="text"?C.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...j)}else g.push(...j);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(g,!0)};e.patch(m,S),d.push(S)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...um(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const ep=(function(e){if(e==null)return VG;if(typeof e=="function")return tp(e);if(typeof e=="object")return Array.isArray(e)?UG(e):HG(e);if(typeof e=="string")return qG(e);throw new Error("Expected function, string, or object as test")});function UG(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=ep(e[r]);return tp(a);function a(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function HG(e){const t=e;return tp(r);function r(a){const o=a;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function qG(e){return tp(t);function t(r){return r&&r.type===e}}function tp(e){return t;function t(r,a,o){return!!(GG(r)&&e.call(this,r,typeof a=="number"?a:void 0,o||void 0))}}function VG(){return!0}function GG(e){return e!==null&&typeof e=="object"&&"type"in e}const i5=[],YG=!0,by=!1,KG="skip";function o5(e,t,r,a){let o;typeof t=="function"&&typeof r!="function"?(a=r,r=t):o=t;const l=ep(o),c=a?-1:1;d(e,void 0,[])();function d(f,m,g){const p=f&&typeof f=="object"?f:{};if(typeof p.type=="string"){const b=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=i5,j,k,N;if((!t||l(f,m,g[g.length-1]||void 0))&&(b=XG(r(f,g)),b[0]===by))return b;if("children"in f&&f.children){const S=f;if(S.children&&b[0]!==KG)for(k=(a?S.children.length:-1)+c,N=g.concat(S);k>-1&&k<S.children.length;){const C=S.children[k];if(j=d(C,k,N)(),j[0]===by)return j;k=typeof j[1]=="number"?j[1]:k+c}}return b}}}function XG(e){return Array.isArray(e)?e:typeof e=="number"?[YG,e]:e==null?i5:[e]}function nv(e,t,r,a){let o,l,c;typeof t=="function"&&typeof r!="function"?(l=void 0,c=t,o=r):(l=t,c=r,o=a),o5(e,l,d,o);function d(f,m){const g=m[m.length-1],p=g?g.children.indexOf(f):void 0;return c(f,p,g)}}const vy={}.hasOwnProperty,WG={};function QG(e,t){const r=t||WG,a=new Map,o=new Map,l=new Map,c={...OG,...r.handlers},d={all:m,applyData:JG,definitionById:a,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:c,one:f,options:r,patch:ZG,wrap:tY};return nv(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const p=g.type==="definition"?a:o,v=String(g.identifier).toUpperCase();p.has(v)||p.set(v,g)}}),d;function f(g,p){const v=g.type,b=d.handlers[v];if(vy.call(d.handlers,v)&&b)return b(d,g,p);if(d.options.passThrough&&d.options.passThrough.includes(v)){if("children"in g){const{children:k,...N}=g,S=um(N);return S.children=d.all(g),S}return um(g)}return(d.options.unknownHandler||eY)(d,g,p)}function m(g){const p=[];if("children"in g){const v=g.children;let b=-1;for(;++b<v.length;){const j=d.one(v[b],g);if(j){if(b&&v[b-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=RS(j.value)),!Array.isArray(j)&&j.type==="element")){const k=j.children[0];k&&k.type==="text"&&(k.value=RS(k.value))}Array.isArray(j)?p.push(...j):p.push(j)}}}return p}}function ZG(e,t){e.position&&(t.position=BH(e))}function JG(e,t){let r=t;if(e&&e.data){const a=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof a=="string")if(r.type==="element")r.tagName=a;else{const c="children"in r?r.children:[r];r={type:"element",tagName:a,properties:{},children:c}}r.type==="element"&&l&&Object.assign(r.properties,um(l)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function eY(e,t){const r=t.data||{},a="value"in t&&!(vy.call(r,"hProperties")||vy.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function tY(e,t){const r=[];let a=-1;for(t&&r.push({type:"text",value:`
`});++a<e.length;)a&&r.push({type:"text",value:`
`}),r.push(e[a]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function RS(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function _S(e,t){const r=QG(e,t),a=r.one(e,void 0),o=$G(r),l=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function rY(e,t){return e&&"run"in e?async function(r,a){const o=_S(r,{file:a,...t});await e.run(o,a)}:function(r,a){return _S(r,{file:a,...e||t})}}function DS(e){if(e)throw e}var nx,MS;function nY(){if(MS)return nx;MS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var g=e.call(m,"constructor"),p=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!p)return!1;var v;for(v in m);return typeof v>"u"||e.call(m,v)},c=function(m,g){r&&g.name==="__proto__"?r(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},d=function(m,g){if(g==="__proto__")if(e.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};return nx=function f(){var m,g,p,v,b,j,k=arguments[0],N=1,S=arguments.length,C=!1;for(typeof k=="boolean"&&(C=k,k=arguments[1]||{},N=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});N<S;++N)if(m=arguments[N],m!=null)for(g in m)p=d(k,g),v=d(m,g),k!==v&&(C&&v&&(l(v)||(b=o(v)))?(b?(b=!1,j=p&&o(p)?p:[]):j=p&&l(p)?p:{},c(k,{name:g,newValue:f(C,j,v)})):typeof v<"u"&&c(k,{name:g,newValue:v}));return k},nx}var aY=nY();const ax=ao(aY);function wy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sY(){const e=[],t={run:r,use:a};return t;function r(...o){let l=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...o);function d(f,...m){const g=e[++l];let p=-1;if(f){c(f);return}for(;++p<o.length;)(m[p]===null||m[p]===void 0)&&(m[p]=o[p]);o=m,g?iY(g,d)(...m):c(null,...m)}}function a(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function iY(e,t){let r;return a;function a(...c){const d=e.length>c.length;let f;d&&c.push(o);try{f=e.apply(this,c)}catch(m){const g=m;if(d&&r)throw g;return o(g)}d||(f&&f.then&&typeof f.then=="function"?f.then(l,o):f instanceof Error?o(f):l(f))}function o(c,...d){r||(r=!0,t(c,...d))}function l(c){o(null,c)}}const ys={basename:oY,dirname:lY,extname:cY,join:uY,sep:"/"};function oY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nd(e);let r=0,a=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){r=o+1;break}}else a<0&&(l=!0,a=o+1);return a<0?"":e.slice(r,a)}if(t===e)return"";let c=-1,d=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){r=o+1;break}}else c<0&&(l=!0,c=o+1),d>-1&&(e.codePointAt(o)===t.codePointAt(d--)?d<0&&(a=o):(d=-1,a=c));return r===a?a=c:a<0&&(a=e.length),e.slice(r,a)}function lY(e){if(Nd(e),e.length===0)return".";let t=-1,r=e.length,a;for(;--r;)if(e.codePointAt(r)===47){if(a){t=r;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cY(e){Nd(e);let t=e.length,r=-1,a=0,o=-1,l=0,c;for(;t--;){const d=e.codePointAt(t);if(d===47){if(c){a=t+1;break}continue}r<0&&(c=!0,r=t+1),d===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||r<0||l===0||l===1&&o===r-1&&o===a+1?"":e.slice(o,r)}function uY(...e){let t=-1,r;for(;++t<e.length;)Nd(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":dY(r)}function dY(e){Nd(e);const t=e.codePointAt(0)===47;let r=fY(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function fY(e,t){let r="",a=0,o=-1,l=0,c=-1,d,f;for(;++c<=e.length;){if(c<e.length)d=e.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(o===c-1||l===1))if(o!==c-1&&l===2){if(r.length<2||a!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(f=r.lastIndexOf("/"),f!==r.length-1){f<0?(r="",a=0):(r=r.slice(0,f),a=r.length-1-r.lastIndexOf("/")),o=c,l=0;continue}}else if(r.length>0){r="",a=0,o=c,l=0;continue}}t&&(r=r.length>0?r+"/..":"..",a=2)}else r.length>0?r+="/"+e.slice(o+1,c):r=e.slice(o+1,c),a=c-o-1;o=c,l=0}else d===46&&l>-1?l++:l=-1}return r}function Nd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const hY={cwd:mY};function mY(){return"/"}function jy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pY(e){if(typeof e=="string")e=new URL(e);else if(!jy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gY(e)}function gY(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const a=t.codePointAt(r+2);if(a===70||a===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const sx=["history","path","basename","stem","extname","dirname"];class l5{constructor(t){let r;t?jy(t)?r={path:t}:typeof t=="string"||xY(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":hY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<sx.length;){const l=sx[a];l in r&&r[l]!==void 0&&r[l]!==null&&(this[l]=l==="history"?[...r[l]]:r[l])}let o;for(o in r)sx.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?ys.basename(this.path):void 0}set basename(t){ox(t,"basename"),ix(t,"basename"),this.path=ys.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ys.dirname(this.path):void 0}set dirname(t){OS(this.basename,"dirname"),this.path=ys.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ys.extname(this.path):void 0}set extname(t){if(ix(t,"extname"),OS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ys.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){jy(t)&&(t=pY(t)),ox(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ys.basename(this.path,this.extname):void 0}set stem(t){ox(t,"stem"),ix(t,"stem"),this.path=ys.join(this.dirname||"",t+(this.extname||""))}fail(t,r,a){const o=this.message(t,r,a);throw o.fatal=!0,o}info(t,r,a){const o=this.message(t,r,a);return o.fatal=void 0,o}message(t,r,a){const o=new Pn(t,r,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ix(e,t){if(e&&e.includes(ys.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ys.sep+"`")}function ox(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function OS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yY=(function(e){const a=this.constructor.prototype,o=a[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,a),l}),bY={}.hasOwnProperty;class av extends yY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sY()}copy(){const t=new av;let r=-1;for(;++r<this.attachers.length;){const a=this.attachers[r];t.use(...a)}return t.data(ax(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(ux("data",this.frozen),this.namespace[t]=r,this):bY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ux("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const o=r.call(t,...a);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=sh(t),a=this.parser||this.Parser;return lx("parse",a),a(String(r),r)}process(t,r){const a=this;return this.freeze(),lx("process",this.parser||this.Parser),cx("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(l,c){const d=sh(t),f=a.parse(d);a.run(f,d,function(g,p,v){if(g||!p||!v)return m(g);const b=p,j=a.stringify(b,v);jY(j)?v.value=j:v.result=j,m(g,v)});function m(g,p){g||!p?c(g):l?l(p):r(void 0,p)}}}processSync(t){let r=!1,a;return this.freeze(),lx("processSync",this.parser||this.Parser),cx("processSync",this.compiler||this.Compiler),this.process(t,o),LS("processSync","process",r),a;function o(l,c){r=!0,DS(l),a=c}}run(t,r,a){PS(t),this.freeze();const o=this.transformers;return!a&&typeof r=="function"&&(a=r,r=void 0),a?l(void 0,a):new Promise(l);function l(c,d){const f=sh(r);o.run(t,f,m);function m(g,p,v){const b=p||t;g?d(g):c?c(b):a(void 0,b,v)}}}runSync(t,r){let a=!1,o;return this.run(t,r,l),LS("runSync","run",a),o;function l(c,d){DS(c),o=d,a=!0}}stringify(t,r){this.freeze();const a=sh(r),o=this.compiler||this.Compiler;return cx("stringify",o),PS(t),o(t,a)}use(t,...r){const a=this.attachers,o=this.namespace;if(ux("use",this.frozen),t!=null)if(typeof t=="function")f(t,r);else if(typeof t=="object")Array.isArray(t)?d(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")f(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...p]=m;f(g,p)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(o.settings=ax(!0,o.settings,m.settings))}function d(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const p=m[g];l(p)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function f(m,g){let p=-1,v=-1;for(;++p<a.length;)if(a[p][0]===m){v=p;break}if(v===-1)a.push([m,...g]);else if(g.length>0){let[b,...j]=g;const k=a[v][1];wy(k)&&wy(b)&&(b=ax(!0,k,b)),a[v]=[m,b,...j]}}}}const vY=new av().freeze();function lx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function cx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ux(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function PS(e){if(!wy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function LS(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function sh(e){return wY(e)?e:new l5(e)}function wY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function jY(e){return typeof e=="string"||kY(e)}function kY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zS=[],FS={allowDangerousHtml:!0},SY=/^(https?|ircs?|mailto|xmpp)$/i,CY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function EY(e){const t=AY(e),r=TY(e);return RY(t.runSync(t.parse(r),r),e)}function AY(e){const t=e.rehypePlugins||zS,r=e.remarkPlugins||zS,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...FS}:FS;return vY().use(lG).use(r).use(rY,a).use(t)}function TY(e){const t=e.children||"",r=new l5;return typeof t=="string"&&(r.value=t),r}function RY(e,t){const r=t.allowedElements,a=t.allowElement,o=t.components,l=t.disallowedElements,c=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||_Y;for(const g of CY)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+NY+g.id,void 0);return nv(e,m),VH(e,{Fragment:n.Fragment,components:o,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0});function m(g,p,v){if(g.type==="raw"&&v&&typeof p=="number")return c?v.children.splice(p,1):v.children[p]={type:"text",value:g.value},p;if(g.type==="element"){let b;for(b in ex)if(Object.hasOwn(ex,b)&&Object.hasOwn(g.properties,b)){const j=g.properties[b],k=ex[b];(k===null||k.includes(g.tagName))&&(g.properties[b]=f(String(j||""),b,g))}}if(g.type==="element"){let b=r?!r.includes(g.tagName):l?l.includes(g.tagName):!1;if(!b&&a&&typeof p=="number"&&(b=!a(g,p,v)),b&&v&&typeof p=="number")return d&&g.children?v.children.splice(p,1,...g.children):v.children.splice(p,1),p}}}function _Y(e){const t=e.indexOf(":"),r=e.indexOf("?"),a=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||r!==-1&&t>r||a!==-1&&t>a||SY.test(e.slice(0,t))?e:""}function IS(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,o=r.indexOf(t);for(;o!==-1;)a++,o=r.indexOf(t,o+t.length);return a}function DY(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function MY(e,t,r){const o=ep((r||{}).ignore||[]),l=OY(t);let c=-1;for(;++c<l.length;)o5(e,"text",d);function d(m,g){let p=-1,v;for(;++p<g.length;){const b=g[p],j=v?v.children:void 0;if(o(b,j?j.indexOf(b):void 0,v))return;v=b}if(v)return f(m,g)}function f(m,g){const p=g[g.length-1],v=l[c][0],b=l[c][1];let j=0;const N=p.children.indexOf(m);let S=!1,C=[];v.lastIndex=0;let A=v.exec(m.value);for(;A;){const I=A.index,D={index:A.index,input:A.input,stack:[...g,m]};let T=b(...A,D);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?v.lastIndex=I+1:(j!==I&&C.push({type:"text",value:m.value.slice(j,I)}),Array.isArray(T)?C.push(...T):T&&C.push(T),j=I+A[0].length,S=!0),!v.global)break;A=v.exec(m.value)}return S?(j<m.value.length&&C.push({type:"text",value:m.value.slice(j)}),p.children.splice(N,1,...C)):C=[m],N+C.length}}function OY(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<r.length;){const o=r[a];t.push([PY(o[0]),LY(o[1])])}return t}function PY(e){return typeof e=="string"?new RegExp(DY(e),"g"):e}function LY(e){return typeof e=="function"?e:function(){return e}}const dx="phrasing",fx=["autolink","link","image","label"];function zY(){return{transforms:[qY],enter:{literalAutolink:IY,literalAutolinkEmail:hx,literalAutolinkHttp:hx,literalAutolinkWww:hx},exit:{literalAutolink:HY,literalAutolinkEmail:UY,literalAutolinkHttp:BY,literalAutolinkWww:$Y}}}function FY(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:dx,notInConstruct:fx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:dx,notInConstruct:fx},{character:":",before:"[ps]",after:"\\/",inConstruct:dx,notInConstruct:fx}]}}function IY(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function hx(e){this.config.enter.autolinkProtocol.call(this,e)}function BY(e){this.config.exit.autolinkProtocol.call(this,e)}function $Y(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function UY(e){this.config.exit.autolinkEmail.call(this,e)}function HY(e){this.exit(e)}function qY(e){MY(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,VY],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),GY]],{ignore:["link","linkReference"]})}function VY(e,t,r,a,o){let l="";if(!c5(o)||(/^w/i.test(t)&&(r=t+r,t="",l="http://"),!YY(r)))return!1;const c=KY(r+a);if(!c[0])return!1;const d={type:"link",title:null,url:l+t+c[0],children:[{type:"text",value:t+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function GY(e,t,r,a){return!c5(a,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function YY(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function KY(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],a=r.indexOf(")");const o=IS(e,"(");let l=IS(e,")");for(;a!==-1&&o>l;)e+=r.slice(0,a+1),r=r.slice(a+1),a=r.indexOf(")"),l++;return[e,r]}function c5(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Yo(r)||Qm(r))&&(!t||r!==47)}u5.peek=nK;function XY(){this.buffer()}function WY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function QY(){this.buffer()}function ZY(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function JY(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=es(this.sliceSerialize(e)).toLowerCase(),r.label=t}function eK(e){this.exit(e)}function tK(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=es(this.sliceSerialize(e)).toLowerCase(),r.label=t}function rK(e){this.exit(e)}function nK(){return"["}function u5(e,t,r,a){const o=r.createTracker(a);let l=o.move("[^");const c=r.enter("footnoteReference"),d=r.enter("reference");return l+=o.move(r.safe(r.associationId(e),{after:"]",before:l})),d(),c(),l+=o.move("]"),l}function aK(){return{enter:{gfmFootnoteCallString:XY,gfmFootnoteCall:WY,gfmFootnoteDefinitionLabelString:QY,gfmFootnoteDefinition:ZY},exit:{gfmFootnoteCallString:JY,gfmFootnoteCall:eK,gfmFootnoteDefinitionLabelString:tK,gfmFootnoteDefinition:rK}}}function sK(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:u5},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(a,o,l,c){const d=l.createTracker(c);let f=d.move("[^");const m=l.enter("footnoteDefinition"),g=l.enter("label");return f+=d.move(l.safe(l.associationId(a),{before:f,after:"]"})),g(),f+=d.move("]:"),a.children&&a.children.length>0&&(d.shift(4),f+=d.move((t?`
`:" ")+l.indentLines(l.containerFlow(a,d.current()),t?d5:iK))),m(),f}}function iK(e,t,r){return t===0?e:d5(e,t,r)}function d5(e,t,r){return(r?"":"    ")+e}const oK=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];f5.peek=fK;function lK(){return{canContainEols:["delete"],enter:{strikethrough:uK},exit:{strikethrough:dK}}}function cK(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:oK}],handlers:{delete:f5}}}function uK(e){this.enter({type:"delete",children:[]},e)}function dK(e){this.exit(e)}function f5(e,t,r,a){const o=r.createTracker(a),l=r.enter("strikethrough");let c=o.move("~~");return c+=r.containerPhrasing(e,{...o.current(),before:c,after:"~"}),c+=o.move("~~"),l(),c}function fK(){return"~"}function hK(e){return e.length}function mK(e,t){const r=t||{},a=(r.align||[]).concat(),o=r.stringLength||hK,l=[],c=[],d=[],f=[];let m=0,g=-1;for(;++g<e.length;){const k=[],N=[];let S=-1;for(e[g].length>m&&(m=e[g].length);++S<e[g].length;){const C=pK(e[g][S]);if(r.alignDelimiters!==!1){const A=o(C);N[S]=A,(f[S]===void 0||A>f[S])&&(f[S]=A)}k.push(C)}c[g]=k,d[g]=N}let p=-1;if(typeof a=="object"&&"length"in a)for(;++p<m;)l[p]=BS(a[p]);else{const k=BS(a);for(;++p<m;)l[p]=k}p=-1;const v=[],b=[];for(;++p<m;){const k=l[p];let N="",S="";k===99?(N=":",S=":"):k===108?N=":":k===114&&(S=":");let C=r.alignDelimiters===!1?1:Math.max(1,f[p]-N.length-S.length);const A=N+"-".repeat(C)+S;r.alignDelimiters!==!1&&(C=N.length+C+S.length,C>f[p]&&(f[p]=C),b[p]=C),v[p]=A}c.splice(1,0,v),d.splice(1,0,b),g=-1;const j=[];for(;++g<c.length;){const k=c[g],N=d[g];p=-1;const S=[];for(;++p<m;){const C=k[p]||"";let A="",I="";if(r.alignDelimiters!==!1){const D=f[p]-(N[p]||0),T=l[p];T===114?A=" ".repeat(D):T===99?D%2?(A=" ".repeat(D/2+.5),I=" ".repeat(D/2-.5)):(A=" ".repeat(D/2),I=A):I=" ".repeat(D)}r.delimiterStart!==!1&&!p&&S.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&C==="")&&(r.delimiterStart!==!1||p)&&S.push(" "),r.alignDelimiters!==!1&&S.push(A),S.push(C),r.alignDelimiters!==!1&&S.push(I),r.padding!==!1&&S.push(" "),(r.delimiterEnd!==!1||p!==m-1)&&S.push("|")}j.push(r.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return j.join(`
`)}function pK(e){return e==null?"":String(e)}function BS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function gK(e,t,r,a){const o=r.enter("blockquote"),l=r.createTracker(a);l.move("> "),l.shift(2);const c=r.indentLines(r.containerFlow(e,l.current()),xK);return o(),c}function xK(e,t,r){return">"+(r?"":" ")+e}function yK(e,t){return $S(e,t.inConstruct,!0)&&!$S(e,t.notInConstruct,!1)}function $S(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}function US(e,t,r,a){let o=-1;for(;++o<r.unsafe.length;)if(r.unsafe[o].character===`
`&&yK(r.stack,r.unsafe[o]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function bK(e,t){const r=String(e);let a=r.indexOf(t),o=a,l=0,c=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===o?++l>c&&(c=l):l=1,o=a+t.length,a=r.indexOf(t,o);return c}function vK(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function wK(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function jK(e,t,r,a){const o=wK(r),l=e.value||"",c=o==="`"?"GraveAccent":"Tilde";if(vK(e,r)){const p=r.enter("codeIndented"),v=r.indentLines(l,kK);return p(),v}const d=r.createTracker(a),f=o.repeat(Math.max(bK(l,o)+1,3)),m=r.enter("codeFenced");let g=d.move(f);if(e.lang){const p=r.enter(`codeFencedLang${c}`);g+=d.move(r.safe(e.lang,{before:g,after:" ",encode:["`"],...d.current()})),p()}if(e.lang&&e.meta){const p=r.enter(`codeFencedMeta${c}`);g+=d.move(" "),g+=d.move(r.safe(e.meta,{before:g,after:`
`,encode:["`"],...d.current()})),p()}return g+=d.move(`
`),l&&(g+=d.move(l+`
`)),g+=d.move(f),m(),g}function kK(e,t,r){return(r?"":"    ")+e}function sv(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function NK(e,t,r,a){const o=sv(r),l=o==='"'?"Quote":"Apostrophe",c=r.enter("definition");let d=r.enter("label");const f=r.createTracker(a);let m=f.move("[");return m+=f.move(r.safe(r.associationId(e),{before:m,after:"]",...f.current()})),m+=f.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),m+=f.move("<"),m+=f.move(r.safe(e.url,{before:m,after:">",...f.current()})),m+=f.move(">")):(d=r.enter("destinationRaw"),m+=f.move(r.safe(e.url,{before:m,after:e.title?" ":`
`,...f.current()}))),d(),e.title&&(d=r.enter(`title${l}`),m+=f.move(" "+o),m+=f.move(r.safe(e.title,{before:m,after:o,...f.current()})),m+=f.move(o),d()),c(),m}function SK(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function nd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function dm(e,t,r){const a=dc(e),o=dc(t);return a===void 0?o===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}h5.peek=CK;function h5(e,t,r,a){const o=SK(r),l=r.enter("emphasis"),c=r.createTracker(a),d=c.move(o);let f=c.move(r.containerPhrasing(e,{after:o,before:d,...c.current()}));const m=f.charCodeAt(0),g=dm(a.before.charCodeAt(a.before.length-1),m,o);g.inside&&(f=nd(m)+f.slice(1));const p=f.charCodeAt(f.length-1),v=dm(a.after.charCodeAt(0),p,o);v.inside&&(f=f.slice(0,-1)+nd(p));const b=c.move(o);return l(),r.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+f+b}function CK(e,t,r){return r.options.emphasis||"*"}function EK(e,t){let r=!1;return nv(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return r=!0,by}),!!((!e.depth||e.depth<3)&&Wb(e)&&(t.options.setext||r))}function AK(e,t,r,a){const o=Math.max(Math.min(6,e.depth||1),1),l=r.createTracker(a);if(EK(e,r)){const g=r.enter("headingSetext"),p=r.enter("phrasing"),v=r.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return p(),g(),v+`
`+(o===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(o),d=r.enter("headingAtx"),f=r.enter("phrasing");l.move(c+" ");let m=r.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(m)&&(m=nd(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,r.options.closeAtx&&(m+=" "+c),f(),d(),m}m5.peek=TK;function m5(e){return e.value||""}function TK(){return"<"}p5.peek=RK;function p5(e,t,r,a){const o=sv(r),l=o==='"'?"Quote":"Apostrophe",c=r.enter("image");let d=r.enter("label");const f=r.createTracker(a);let m=f.move("![");return m+=f.move(r.safe(e.alt,{before:m,after:"]",...f.current()})),m+=f.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),m+=f.move("<"),m+=f.move(r.safe(e.url,{before:m,after:">",...f.current()})),m+=f.move(">")):(d=r.enter("destinationRaw"),m+=f.move(r.safe(e.url,{before:m,after:e.title?" ":")",...f.current()}))),d(),e.title&&(d=r.enter(`title${l}`),m+=f.move(" "+o),m+=f.move(r.safe(e.title,{before:m,after:o,...f.current()})),m+=f.move(o),d()),m+=f.move(")"),c(),m}function RK(){return"!"}g5.peek=_K;function g5(e,t,r,a){const o=e.referenceType,l=r.enter("imageReference");let c=r.enter("label");const d=r.createTracker(a);let f=d.move("![");const m=r.safe(e.alt,{before:f,after:"]",...d.current()});f+=d.move(m+"]["),c();const g=r.stack;r.stack=[],c=r.enter("reference");const p=r.safe(r.associationId(e),{before:f,after:"]",...d.current()});return c(),r.stack=g,l(),o==="full"||!m||m!==p?f+=d.move(p+"]"):o==="shortcut"?f=f.slice(0,-1):f+=d.move("]"),f}function _K(){return"!"}x5.peek=DK;function x5(e,t,r){let a=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(a);)o+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++l<r.unsafe.length;){const c=r.unsafe[l],d=r.compilePattern(c);let f;if(c.atBreak)for(;f=d.exec(a);){let m=f.index;a.charCodeAt(m)===10&&a.charCodeAt(m-1)===13&&m--,a=a.slice(0,m)+" "+a.slice(f.index+1)}}return o+a+o}function DK(){return"`"}function y5(e,t){const r=Wb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}b5.peek=MK;function b5(e,t,r,a){const o=sv(r),l=o==='"'?"Quote":"Apostrophe",c=r.createTracker(a);let d,f;if(y5(e,r)){const g=r.stack;r.stack=[],d=r.enter("autolink");let p=c.move("<");return p+=c.move(r.containerPhrasing(e,{before:p,after:">",...c.current()})),p+=c.move(">"),d(),r.stack=g,p}d=r.enter("link"),f=r.enter("label");let m=c.move("[");return m+=c.move(r.containerPhrasing(e,{before:m,after:"](",...c.current()})),m+=c.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=r.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(r.safe(e.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(f=r.enter("destinationRaw"),m+=c.move(r.safe(e.url,{before:m,after:e.title?" ":")",...c.current()}))),f(),e.title&&(f=r.enter(`title${l}`),m+=c.move(" "+o),m+=c.move(r.safe(e.title,{before:m,after:o,...c.current()})),m+=c.move(o),f()),m+=c.move(")"),d(),m}function MK(e,t,r){return y5(e,r)?"<":"["}v5.peek=OK;function v5(e,t,r,a){const o=e.referenceType,l=r.enter("linkReference");let c=r.enter("label");const d=r.createTracker(a);let f=d.move("[");const m=r.containerPhrasing(e,{before:f,after:"]",...d.current()});f+=d.move(m+"]["),c();const g=r.stack;r.stack=[],c=r.enter("reference");const p=r.safe(r.associationId(e),{before:f,after:"]",...d.current()});return c(),r.stack=g,l(),o==="full"||!m||m!==p?f+=d.move(p+"]"):o==="shortcut"?f=f.slice(0,-1):f+=d.move("]"),f}function OK(){return"["}function iv(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function PK(e){const t=iv(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function LK(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function w5(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function zK(e,t,r,a){const o=r.enter("list"),l=r.bulletCurrent;let c=e.ordered?LK(r):iv(r);const d=e.ordered?c==="."?")":".":PK(r);let f=t&&r.bulletLastUsed?c===r.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&g&&(!g.children||!g.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(f=!0),w5(r)===c&&g){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(c=d),r.bulletCurrent=c;const m=r.containerFlow(e,a);return r.bulletLastUsed=c,r.bulletCurrent=l,o(),m}function FK(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function IK(e,t,r,a){const o=FK(r);let l=r.bulletCurrent||iv(r);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let c=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(c=Math.ceil(c/4)*4);const d=r.createTracker(a);d.move(l+" ".repeat(c-l.length)),d.shift(c);const f=r.enter("listItem"),m=r.indentLines(r.containerFlow(e,d.current()),g);return f(),m;function g(p,v,b){return v?(b?"":" ".repeat(c))+p:(b?l:l+" ".repeat(c-l.length))+p}}function BK(e,t,r,a){const o=r.enter("paragraph"),l=r.enter("phrasing"),c=r.containerPhrasing(e,a);return l(),o(),c}const $K=ep(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function UK(e,t,r,a){return(e.children.some(function(c){return $K(c)})?r.containerPhrasing:r.containerFlow).call(r,e,a)}function HK(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}j5.peek=qK;function j5(e,t,r,a){const o=HK(r),l=r.enter("strong"),c=r.createTracker(a),d=c.move(o+o);let f=c.move(r.containerPhrasing(e,{after:o,before:d,...c.current()}));const m=f.charCodeAt(0),g=dm(a.before.charCodeAt(a.before.length-1),m,o);g.inside&&(f=nd(m)+f.slice(1));const p=f.charCodeAt(f.length-1),v=dm(a.after.charCodeAt(0),p,o);v.inside&&(f=f.slice(0,-1)+nd(p));const b=c.move(o+o);return l(),r.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+f+b}function qK(e,t,r){return r.options.strong||"*"}function VK(e,t,r,a){return r.safe(e.value,a)}function GK(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function YK(e,t,r){const a=(w5(r)+(r.options.ruleSpaces?" ":"")).repeat(GK(r));return r.options.ruleSpaces?a.slice(0,-1):a}const k5={blockquote:gK,break:US,code:jK,definition:NK,emphasis:h5,hardBreak:US,heading:AK,html:m5,image:p5,imageReference:g5,inlineCode:x5,link:b5,linkReference:v5,list:zK,listItem:IK,paragraph:BK,root:UK,strong:j5,text:VK,thematicBreak:YK};function KK(){return{enter:{table:XK,tableData:HS,tableHeader:HS,tableRow:QK},exit:{codeText:ZK,table:WK,tableData:mx,tableHeader:mx,tableRow:mx}}}function XK(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function WK(e){this.exit(e),this.data.inTable=void 0}function QK(e){this.enter({type:"tableRow",children:[]},e)}function mx(e){this.exit(e)}function HS(e){this.enter({type:"tableCell",children:[]},e)}function ZK(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,JK));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function JK(e,t){return t==="|"?t:e}function eX(e){const t=e||{},r=t.tableCellPadding,a=t.tablePipeAlign,o=t.stringLength,l=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:f,tableRow:d}};function c(b,j,k,N){return m(g(b,k,N),b.align)}function d(b,j,k,N){const S=p(b,k,N),C=m([S]);return C.slice(0,C.indexOf(`
`))}function f(b,j,k,N){const S=k.enter("tableCell"),C=k.enter("phrasing"),A=k.containerPhrasing(b,{...N,before:l,after:l});return C(),S(),A}function m(b,j){return mK(b,{align:j,alignDelimiters:a,padding:r,stringLength:o})}function g(b,j,k){const N=b.children;let S=-1;const C=[],A=j.enter("table");for(;++S<N.length;)C[S]=p(N[S],j,k);return A(),C}function p(b,j,k){const N=b.children;let S=-1;const C=[],A=j.enter("tableRow");for(;++S<N.length;)C[S]=f(N[S],b,j,k);return A(),C}function v(b,j,k){let N=k5.inlineCode(b,j,k);return k.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function tX(){return{exit:{taskListCheckValueChecked:qS,taskListCheckValueUnchecked:qS,paragraph:nX}}}function rX(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:aX}}}function qS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function nX(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const a=r.children[0];if(a&&a.type==="text"){const o=t.children;let l=-1,c;for(;++l<o.length;){const d=o[l];if(d.type==="paragraph"){c=d;break}}c===r&&(a.value=a.value.slice(1),a.value.length===0?r.children.shift():r.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,r.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function aX(e,t,r,a){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",c="["+(e.checked?"x":" ")+"] ",d=r.createTracker(a);l&&d.move(c);let f=k5.listItem(e,t,r,{...a,...d.current()});return l&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),f;function m(g){return g+c}}function sX(){return[zY(),aK(),lK(),KK(),tX()]}function iX(e){return{extensions:[FY(),sK(e),cK(),eX(e),rX()]}}const oX={tokenize:hX,partial:!0},N5={tokenize:mX,partial:!0},S5={tokenize:pX,partial:!0},C5={tokenize:gX,partial:!0},lX={tokenize:xX,partial:!0},E5={name:"wwwAutolink",tokenize:dX,previous:T5},A5={name:"protocolAutolink",tokenize:fX,previous:R5},hi={name:"emailAutolink",tokenize:uX,previous:_5},Ps={};function cX(){return{text:Ps}}let _o=48;for(;_o<123;)Ps[_o]=hi,_o++,_o===58?_o=65:_o===91&&(_o=97);Ps[43]=hi;Ps[45]=hi;Ps[46]=hi;Ps[95]=hi;Ps[72]=[hi,A5];Ps[104]=[hi,A5];Ps[87]=[hi,E5];Ps[119]=[hi,E5];function uX(e,t,r){const a=this;let o,l;return c;function c(p){return!ky(p)||!_5.call(a,a.previous)||ov(a.events)?r(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(p))}function d(p){return ky(p)?(e.consume(p),d):p===64?(e.consume(p),f):r(p)}function f(p){return p===46?e.check(lX,g,m)(p):p===45||p===95||_n(p)?(l=!0,e.consume(p),f):g(p)}function m(p){return e.consume(p),o=!0,f}function g(p){return l&&o&&Hn(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):r(p)}}function dX(e,t,r){const a=this;return o;function o(c){return c!==87&&c!==119||!T5.call(a,a.previous)||ov(a.events)?r(c):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(oX,e.attempt(N5,e.attempt(S5,l),r),r)(c))}function l(c){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(c)}}function fX(e,t,r){const a=this;let o="",l=!1;return c;function c(p){return(p===72||p===104)&&R5.call(a,a.previous)&&!ov(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(p),e.consume(p),d):r(p)}function d(p){if(Hn(p)&&o.length<5)return o+=String.fromCodePoint(p),e.consume(p),d;if(p===58){const v=o.toLowerCase();if(v==="http"||v==="https")return e.consume(p),f}return r(p)}function f(p){return p===47?(e.consume(p),l?m:(l=!0,f)):r(p)}function m(p){return p===null||lm(p)||gr(p)||Yo(p)||Qm(p)?r(p):e.attempt(N5,e.attempt(S5,g),r)(p)}function g(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function hX(e,t,r){let a=0;return o;function o(c){return(c===87||c===119)&&a<3?(a++,e.consume(c),o):c===46&&a===3?(e.consume(c),l):r(c)}function l(c){return c===null?r(c):t(c)}}function mX(e,t,r){let a,o,l;return c;function c(m){return m===46||m===95?e.check(C5,f,d)(m):m===null||gr(m)||Yo(m)||m!==45&&Qm(m)?f(m):(l=!0,e.consume(m),c)}function d(m){return m===95?a=!0:(o=a,a=void 0),e.consume(m),c}function f(m){return o||a||!l?r(m):t(m)}}function pX(e,t){let r=0,a=0;return o;function o(c){return c===40?(r++,e.consume(c),o):c===41&&a<r?l(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?e.check(C5,t,l)(c):c===null||gr(c)||Yo(c)?t(c):(e.consume(c),o)}function l(c){return c===41&&a++,e.consume(c),o}}function gX(e,t,r){return a;function a(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),a):d===38?(e.consume(d),l):d===93?(e.consume(d),o):d===60||d===null||gr(d)||Yo(d)?t(d):r(d)}function o(d){return d===null||d===40||d===91||gr(d)||Yo(d)?t(d):a(d)}function l(d){return Hn(d)?c(d):r(d)}function c(d){return d===59?(e.consume(d),a):Hn(d)?(e.consume(d),c):r(d)}}function xX(e,t,r){return a;function a(l){return e.consume(l),o}function o(l){return _n(l)?r(l):t(l)}}function T5(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||gr(e)}function R5(e){return!Hn(e)}function _5(e){return!(e===47||ky(e))}function ky(e){return e===43||e===45||e===46||e===95||_n(e)}function ov(e){let t=e.length,r=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){r=!0;break}if(a._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const yX={tokenize:CX,partial:!0};function bX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:kX,continuation:{tokenize:NX},exit:SX}},text:{91:{name:"gfmFootnoteCall",tokenize:jX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:vX,resolveTo:wX}}}}function vX(e,t,r){const a=this;let o=a.events.length;const l=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;o--;){const f=a.events[o][1];if(f.type==="labelImage"){c=f;break}if(f.type==="gfmFootnoteCall"||f.type==="labelLink"||f.type==="label"||f.type==="image"||f.type==="link")break}return d;function d(f){if(!c||!c._balanced)return r(f);const m=es(a.sliceSerialize({start:c.end,end:a.now()}));return m.codePointAt(0)!==94||!l.includes(m.slice(1))?r(f):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),t(f))}}function wX(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},d=[e[r+1],e[r+2],["enter",a,t],e[r+3],e[r+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",c,t],["exit",c,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(r,e.length-r+1,...d),e}function jX(e,t,r){const a=this,o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let l=0,c;return d;function d(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),f}function f(p){return p!==94?r(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(p){if(l>999||p===93&&!c||p===null||p===91||gr(p))return r(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return o.includes(es(a.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(p)}return gr(p)||(c=!0),l++,e.consume(p),p===92?g:m}function g(p){return p===91||p===92||p===93?(e.consume(p),l++,m):m(p)}}function kX(e,t,r){const a=this,o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let l,c=0,d;return f;function f(j){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(j),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(j){return j===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(j),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):r(j)}function g(j){if(c>999||j===93&&!d||j===null||j===91||gr(j))return r(j);if(j===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return l=es(a.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(j),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return gr(j)||(d=!0),c++,e.consume(j),j===92?p:g}function p(j){return j===91||j===92||j===93?(e.consume(j),c++,g):g(j)}function v(j){return j===58?(e.enter("definitionMarker"),e.consume(j),e.exit("definitionMarker"),o.includes(l)||o.push(l),qt(e,b,"gfmFootnoteDefinitionWhitespace")):r(j)}function b(j){return t(j)}}function NX(e,t,r){return e.check(kd,t,e.attempt(yX,t,r))}function SX(e){e.exit("gfmFootnoteDefinition")}function CX(e,t,r){const a=this;return qt(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?t(l):r(l)}}function EX(e){let r=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:l,resolveAll:o};return r==null&&(r=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function o(c,d){let f=-1;for(;++f<c.length;)if(c[f][0]==="enter"&&c[f][1].type==="strikethroughSequenceTemporary"&&c[f][1]._close){let m=f;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[f][1].end.offset-c[f][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[f][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[f][1].end)},p={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[f][1].start)},v=[["enter",g,d],["enter",c[m][1],d],["exit",c[m][1],d],["enter",p,d]],b=d.parser.constructs.insideSpan.null;b&&wa(v,v.length,0,Zm(b,c.slice(m+1,f),d)),wa(v,v.length,0,[["exit",p,d],["enter",c[f][1],d],["exit",c[f][1],d],["exit",g,d]]),wa(c,m-1,f-m+3,v),f=m+v.length-2;break}}for(f=-1;++f<c.length;)c[f][1].type==="strikethroughSequenceTemporary"&&(c[f][1].type="data");return c}function l(c,d,f){const m=this.previous,g=this.events;let p=0;return v;function v(j){return m===126&&g[g.length-1][1].type!=="characterEscape"?f(j):(c.enter("strikethroughSequenceTemporary"),b(j))}function b(j){const k=dc(m);if(j===126)return p>1?f(j):(c.consume(j),p++,b);if(p<2&&!r)return f(j);const N=c.exit("strikethroughSequenceTemporary"),S=dc(j);return N._open=!S||S===2&&!!k,N._close=!k||k===2&&!!S,d(j)}}}class AX{constructor(){this.map=[]}add(t,r,a){TX(this,t,r,a)}consume(t){if(this.map.sort(function(l,c){return l[0]-c[0]}),this.map.length===0)return;let r=this.map.length;const a=[];for(;r>0;)r-=1,a.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];a.push(t.slice()),t.length=0;let o=a.pop();for(;o;){for(const l of o)t.push(l);o=a.pop()}this.map.length=0}}function TX(e,t,r,a){let o=0;if(!(r===0&&a.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=r,e.map[o][2].push(...a);return}o+=1}e.map.push([t,r,a])}}function RX(e,t){let r=!1;const a=[];for(;t<e.length;){const o=e[t];if(r){if(o[0]==="enter")o[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=a.length-1;a[l]=a[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return a}function _X(){return{flow:{null:{name:"table",tokenize:DX,resolveAll:MX}}}}function DX(e,t,r){const a=this;let o=0,l=0,c;return d;function d(K){let le=a.events.length-1;for(;le>-1;){const Q=a.events[le][1].type;if(Q==="lineEnding"||Q==="linePrefix")le--;else break}const L=le>-1?a.events[le][1].type:null,W=L==="tableHead"||L==="tableRow"?T:f;return W===T&&a.parser.lazy[a.now().line]?r(K):W(K)}function f(K){return e.enter("tableHead"),e.enter("tableRow"),m(K)}function m(K){return K===124||(c=!0,l+=1),g(K)}function g(K){return K===null?r(K):ct(K)?l>1?(l=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),b):r(K):Pt(K)?qt(e,g,"whitespace")(K):(l+=1,c&&(c=!1,o+=1),K===124?(e.enter("tableCellDivider"),e.consume(K),e.exit("tableCellDivider"),c=!0,g):(e.enter("data"),p(K)))}function p(K){return K===null||K===124||gr(K)?(e.exit("data"),g(K)):(e.consume(K),K===92?v:p)}function v(K){return K===92||K===124?(e.consume(K),p):p(K)}function b(K){return a.interrupt=!1,a.parser.lazy[a.now().line]?r(K):(e.enter("tableDelimiterRow"),c=!1,Pt(K)?qt(e,j,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):j(K))}function j(K){return K===45||K===58?N(K):K===124?(c=!0,e.enter("tableCellDivider"),e.consume(K),e.exit("tableCellDivider"),k):D(K)}function k(K){return Pt(K)?qt(e,N,"whitespace")(K):N(K)}function N(K){return K===58?(l+=1,c=!0,e.enter("tableDelimiterMarker"),e.consume(K),e.exit("tableDelimiterMarker"),S):K===45?(l+=1,S(K)):K===null||ct(K)?I(K):D(K)}function S(K){return K===45?(e.enter("tableDelimiterFiller"),C(K)):D(K)}function C(K){return K===45?(e.consume(K),C):K===58?(c=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(K),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(K))}function A(K){return Pt(K)?qt(e,I,"whitespace")(K):I(K)}function I(K){return K===124?j(K):K===null||ct(K)?!c||o!==l?D(K):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(K)):D(K)}function D(K){return r(K)}function T(K){return e.enter("tableRow"),B(K)}function B(K){return K===124?(e.enter("tableCellDivider"),e.consume(K),e.exit("tableCellDivider"),B):K===null||ct(K)?(e.exit("tableRow"),t(K)):Pt(K)?qt(e,B,"whitespace")(K):(e.enter("data"),X(K))}function X(K){return K===null||K===124||gr(K)?(e.exit("data"),B(K)):(e.consume(K),K===92?Y:X)}function Y(K){return K===92||K===124?(e.consume(K),X):X(K)}}function MX(e,t){let r=-1,a=!0,o=0,l=[0,0,0,0],c=[0,0,0,0],d=!1,f=0,m,g,p;const v=new AX;for(;++r<e.length;){const b=e[r],j=b[1];b[0]==="enter"?j.type==="tableHead"?(d=!1,f!==0&&(VS(v,t,f,m,g),g=void 0,f=0),m={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(r,0,[["enter",m,t]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(a=!0,p=void 0,l=[0,0,0,0],c=[0,r+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(r,0,[["enter",g,t]])),o=j.type==="tableDelimiterRow"?2:g?3:1):o&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(l[1]!==0&&(c[0]=c[1],p=ih(v,t,l,o,void 0,p),l=[0,0,0,0]),c[2]=r)):j.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(c[0]=c[1],p=ih(v,t,l,o,void 0,p)),l=c,c=[l[1],r,0,0])):j.type==="tableHead"?(d=!0,f=r):j.type==="tableRow"||j.type==="tableDelimiterRow"?(f=r,l[1]!==0?(c[0]=c[1],p=ih(v,t,l,o,r,p)):c[1]!==0&&(p=ih(v,t,c,o,r,p)),o=0):o&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=r)}for(f!==0&&VS(v,t,f,m,g),v.consume(t.events),r=-1;++r<t.events.length;){const b=t.events[r];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=RX(t.events,r))}return e}function ih(e,t,r,a,o,l){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",d="tableContent";r[0]!==0&&(l.end=Object.assign({},Ul(t.events,r[0])),e.add(r[0],0,[["exit",l,t]]));const f=Ul(t.events,r[1]);if(l={type:c,start:Object.assign({},f),end:Object.assign({},f)},e.add(r[1],0,[["enter",l,t]]),r[2]!==0){const m=Ul(t.events,r[2]),g=Ul(t.events,r[3]),p={type:d,start:Object.assign({},m),end:Object.assign({},g)};if(e.add(r[2],0,[["enter",p,t]]),a!==2){const v=t.events[r[2]],b=t.events[r[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const j=r[2]+1,k=r[3]-r[2]-1;e.add(j,k,[])}}e.add(r[3]+1,0,[["exit",p,t]])}return o!==void 0&&(l.end=Object.assign({},Ul(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function VS(e,t,r,a,o){const l=[],c=Ul(t.events,r);o&&(o.end=Object.assign({},c),l.push(["exit",o,t])),a.end=Object.assign({},c),l.push(["exit",a,t]),e.add(r+1,0,l)}function Ul(e,t){const r=e[t],a=r[0]==="enter"?"start":"end";return r[1][a]}const OX={name:"tasklistCheck",tokenize:LX};function PX(){return{text:{91:OX}}}function LX(e,t,r){const a=this;return o;function o(f){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?r(f):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(f),e.exit("taskListCheckMarker"),l)}function l(f){return gr(f)?(e.enter("taskListCheckValueUnchecked"),e.consume(f),e.exit("taskListCheckValueUnchecked"),c):f===88||f===120?(e.enter("taskListCheckValueChecked"),e.consume(f),e.exit("taskListCheckValueChecked"),c):r(f)}function c(f){return f===93?(e.enter("taskListCheckMarker"),e.consume(f),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):r(f)}function d(f){return ct(f)?t(f):Pt(f)?e.check({tokenize:zX},t,r)(f):r(f)}}function zX(e,t,r){return qt(e,a,"whitespace");function a(o){return o===null?r(o):t(o)}}function FX(e){return U4([cX(),bX(),EX(e),_X(),PX()])}const IX={};function BX(e){const t=this,r=e||IX,a=t.data(),o=a.micromarkExtensions||(a.micromarkExtensions=[]),l=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);o.push(FX(r)),l.push(sX()),c.push(iX(r))}function GS({message:e,user:t}){const r=e.sender==="user";return n.jsxs("div",{className:`flex gap-3 ${r?"justify-end":"justify-start"}`,children:[!r&&n.jsx(tr,{className:"w-9 h-9 flex-shrink-0",children:n.jsx(wn,{className:"bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 text-white text-lg",children:""})}),n.jsxs("div",{className:`flex flex-col ${r?"items-end":"items-start"} max-w-[75%]`,children:[n.jsx("div",{className:`rounded-2xl px-4 py-3 shadow-sm ${r?"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700"}`,children:r?n.jsx("div",{className:"whitespace-pre-wrap break-words text-sm leading-relaxed",children:e.text}):n.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:n.jsx(EY,{remarkPlugins:[BX],components:{p:({children:a})=>n.jsx("p",{className:"mb-3 last:mb-0 leading-7 text-gray-900 dark:text-gray-100",children:a}),strong:({children:a})=>n.jsx("strong",{className:"font-semibold text-gray-900 dark:text-gray-100",children:a}),em:({children:a})=>n.jsx("em",{className:"italic text-gray-900 dark:text-gray-100",children:a}),ul:({children:a})=>n.jsx("ul",{className:"my-3 ml-4 space-y-1.5 list-disc marker:text-gray-500 dark:marker:text-gray-400",children:a}),ol:({children:a})=>n.jsx("ol",{className:"my-3 ml-4 space-y-1.5 list-decimal marker:text-gray-500 dark:marker:text-gray-400",children:a}),li:({children:a})=>n.jsx("li",{className:"leading-7 text-gray-900 dark:text-gray-100 pl-1",children:a}),h1:({children:a})=>n.jsx("h1",{className:"text-xl font-bold mb-3 mt-4 first:mt-0 text-gray-900 dark:text-gray-100",children:a}),h2:({children:a})=>n.jsx("h2",{className:"text-lg font-bold mb-2 mt-4 first:mt-0 text-gray-900 dark:text-gray-100",children:a}),h3:({children:a})=>n.jsx("h3",{className:"text-base font-semibold mb-2 mt-3 first:mt-0 text-gray-900 dark:text-gray-100",children:a}),code:({inline:a,children:o})=>a?n.jsx("code",{className:"px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-700 text-sm font-mono text-purple-600 dark:text-purple-400",children:o}):n.jsx("code",{className:"block p-3 rounded-lg bg-gray-100 dark:bg-gray-900 text-sm font-mono overflow-x-auto text-gray-900 dark:text-gray-100",children:o}),pre:({children:a})=>n.jsx("pre",{className:"my-3 rounded-lg overflow-hidden",children:a}),blockquote:({children:a})=>n.jsx("blockquote",{className:"border-l-4 border-gray-300 dark:border-gray-600 pl-4 my-3 italic text-gray-700 dark:text-gray-300",children:a}),a:({href:a,children:o})=>n.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 dark:text-purple-400 hover:underline",children:o}),hr:()=>n.jsx("hr",{className:"my-4 border-gray-300 dark:border-gray-600"}),table:({children:a})=>n.jsx("div",{className:"my-3 overflow-x-auto",children:n.jsx("table",{className:"min-w-full border border-gray-300 dark:border-gray-600",children:a})}),thead:({children:a})=>n.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:a}),tbody:({children:a})=>n.jsx("tbody",{className:"divide-y divide-gray-300 dark:divide-gray-600",children:a}),tr:({children:a})=>n.jsx("tr",{children:a}),th:({children:a})=>n.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-gray-100",children:a}),td:({children:a})=>n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-gray-100",children:a})},children:e.text})})}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 px-1",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),r&&n.jsxs(tr,{className:"w-9 h-9 flex-shrink-0",children:[n.jsx(Rr,{src:t?.profilePic||Ir}),n.jsx(wn,{className:"bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 text-white",children:t?.username?.[0]?.toUpperCase()||"U"})]})]})}function $X({value:e,onChange:t,onSend:r,onKeyPress:a,isLoading:o,inputRef:l}){return n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex gap-3 items-end",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsx(st,{ref:l,value:e,onChange:t,onKeyPress:a,placeholder:"Type your message...",disabled:o,className:"w-full px-4 py-3 rounded-xl border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400 transition-all duration-200"})}),n.jsx(Pe,{onClick:r,disabled:!e.trim()||o,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?n.jsx(wt,{className:"w-5 h-5 animate-spin"}):n.jsx(bC,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 text-center",children:"FYP Buddy AI can make mistakes. Check important information."})]})}function UX(){return n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx(tr,{className:"w-9 h-9 flex-shrink-0",children:n.jsx(wn,{className:"bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 text-white text-lg",children:""})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl px-4 py-3 shadow-sm border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"w-4 h-4 animate-spin text-purple-600 dark:text-purple-400"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Thinking..."})]})})]})}function D5({chat:e,isActive:t,onSelect:r,onDelete:a,onRename:o}){const[l,c]=x.useState(!1),[d,f]=x.useState(e.title),m=b=>{b.stopPropagation(),c(!0),f(e.title)},g=async b=>{b.stopPropagation(),d.trim()&&d!==e.title&&await o(e.id,d.trim()),c(!1)},p=b=>{b.stopPropagation(),c(!1),f(e.title)},v=b=>{b.key==="Enter"?g(b):b.key==="Escape"&&p(b)};return n.jsx("div",{onClick:l?void 0:r,className:`group relative p-3 rounded-xl cursor-pointer transition-all duration-200 ${t?"bg-purple-50 dark:bg-gray-700 border-2 border-purple-500 dark:border-purple-600":"bg-gray-50 dark:bg-gray-700/60 hover:bg-gray-100 dark:hover:bg-gray-700 border-2 border-transparent"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(wm,{className:`w-4 h-4 mt-1 flex-shrink-0 ${t?"text-purple-600 dark:text-purple-400":"text-gray-400 dark:text-gray-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[l?n.jsxs("div",{className:"flex items-center gap-1",onClick:b=>b.stopPropagation(),children:[n.jsx(st,{value:d,onChange:b=>f(b.target.value),onKeyDown:v,className:"h-7 text-sm px-2",autoFocus:!0}),n.jsx("button",{onClick:g,className:"p-1 rounded hover:bg-green-100 dark:hover:bg-green-900/30 text-green-600",title:"Save",children:n.jsx(Zo,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:p,className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600",title:"Cancel",children:n.jsx(tn,{className:"w-3.5 h-3.5"})})]}):n.jsx("p",{className:`text-sm font-medium truncate ${t?"text-purple-900 dark:text-gray-100":"text-gray-900 dark:text-gray-100"}`,children:e.title}),!l&&n.jsx("p",{className:`text-xs mt-1 ${t?"text-purple-600 dark:text-gray-400":"text-gray-400 dark:text-gray-500"}`,children:e.lastActivity.toLocaleDateString([],{month:"short",day:"numeric"})})]}),!l&&n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:m,className:"p-1 rounded hover:bg-blue-100 dark:hover:bg-blue-900/30 text-gray-400 hover:text-blue-500",title:"Rename chat",children:n.jsx(gC,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:a,className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500",title:"Delete chat",children:n.jsx(Ia,{className:"w-3.5 h-3.5"})})]})]})})}function HX({chats:e,activeChatId:t,onNewChat:r,onSelectChat:a,onDeleteChat:o,onRenameChat:l}){return n.jsxs("aside",{className:"hidden xl:flex flex-col w-80 bg-white dark:bg-gray-800 p-6 shadow-md rounded-2xl sticky top-20 h-[calc(100vh-5rem)] max-h-[calc(100vh-5rem)] flex-shrink-0 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Chat"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"History"})]}),n.jsxs(Pe,{onClick:r,size:"sm",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-sm",children:[n.jsx(jm,{className:"w-4 h-4 mr-1"}),"New"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 custom-scroll",children:e.map(c=>n.jsx(D5,{chat:c,isActive:c.id===t,onSelect:()=>a(c.id),onDelete:d=>o(c.id,d),onRename:l},c.id))}),n.jsx("div",{className:"pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:[e.length," ",e.length===1?"conversation":"conversations"]})})]})}function qX({isOpen:e,onClose:t,chats:r,activeChatId:a,onNewChat:o,onSelectChat:l,onDeleteChat:c,onRenameChat:d}){return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 xl:hidden",onClick:t}),n.jsxs("aside",{className:"fixed right-0 top-0 bottom-0 z-50 flex flex-col w-80 bg-white dark:bg-gray-800 shadow-2xl xl:hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Chat"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"History"})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors","aria-label":"Close chats",children:n.jsx(tn,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:n.jsxs(Pe,{onClick:o,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-sm",children:[n.jsx(jm,{className:"w-4 h-4 mr-2"}),"New Chat"]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n.jsx("div",{className:"space-y-2",children:r.map(f=>n.jsx(D5,{chat:f,isActive:f.id===a,onSelect:()=>{l(f.id),t()},onDelete:m=>c(f.id,m),onRename:d},f.id))})}),n.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:[r.length," ",r.length===1?"conversation":"conversations"]})})]})]}):null}function VX(){const{user:e}=it(G=>G.auth),t="https://fyp-buddy.up.railway.app/",r=localStorage.getItem("accessToken"),[a,o]=x.useState([]),[l,c]=x.useState(null),[d,f]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(!1),[b,j]=x.useState(!0),[k,N]=x.useState(!1),[S,C]=x.useState(""),A=x.useRef(null),I=x.useRef(null),D=x.useRef(null),T=a.find(G=>G.id===l)||a[0]||{messages:[]},B=()=>{A.current&&A.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})};x.useEffect(()=>{const G=setTimeout(()=>{B()},100);return()=>clearTimeout(G)},[T?.messages]),x.useEffect(()=>{X()},[]);const X=async()=>{try{j(!0);const G=await De.get(`${t}/chatbot/sessions`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0,validateStatus:()=>!0});if(G.data.success&&G.data.sessions&&G.data.sessions.length>0){const F=G.data.sessions.map(V=>({id:V.id,sessionId:V.id,title:V.title,messages:[],lastActivity:new Date(V.updated_at),messageCount:V.message_count}));o(F),c(F[0].id),F[0].id&&await Y(F[0].id)}else o([]),c(null)}catch(G){console.error("Error loading chats:",G),o([]),c(null)}finally{j(!1)}},Y=async G=>{try{const F=await De.get(`${t}/chatbot/sessions/${G}/messages`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0,validateStatus:()=>!0});if(F.data.success&&F.data.messages){const V=F.data.messages.map((R,_)=>({id:_+1,text:R.content,sender:R.role==="user"?"user":"bot",timestamp:new Date(R.timestamp)}));o(R=>R.map(_=>_.id===G?{..._,messages:V}:_))}}catch(F){console.error("Error loading messages:",F)}},K=(G,F,V)=>{N(!0),C("");let R=0;D.current&&clearInterval(D.current),D.current=setInterval(()=>{if(R<G.length){const _=G.slice(R,R+10);C($=>$+_),R+=10}else clearInterval(D.current),N(!1),C(""),o(_=>_.map($=>$.id===V?{...$,messages:[...$.messages,{id:F,text:G,sender:"bot",timestamp:new Date}]}:$))},5)},le=async(G=null)=>{const F=G||d.trim();if(!F&&!G)return;f(""),g(!0);let V=[...a];if(a.length===0||!l){const R={id:"temp",sessionId:null,title:F.substring(0,30)+(F.length>30?"...":""),messages:[{id:1,text:F,sender:"user",timestamp:new Date}],lastActivity:new Date};o([R]),c("temp"),V=[R]}else{const R={id:(T?.messages?.length||0)+1,text:F,sender:"user",timestamp:new Date},_=a.map($=>$.id===l?{...$,messages:[...$.messages||[],R],lastActivity:new Date,title:($.messages?.length||0)===0?F.substring(0,30)+(F.length>30?"...":""):$.title}:$);o(_),V=_}try{const R=await De.post(`${t}/chatbot/chat`,{message:F,session_id:T?.sessionId||null},{headers:{Authorization:`Bearer ${r}`},withCredentials:!0,validateStatus:()=>!0});if(g(!1),R.data.success){const _=R.data.session_id;if(l==="temp"||!l){const z=V.find(re=>re.id==="temp")?.messages||[{id:1,text:F,sender:"user",timestamp:new Date}],ue={id:_,sessionId:_,title:F.substring(0,30)+(F.length>30?"...":""),messages:z,lastActivity:new Date};o([ue]),c(_);const ve=z.length+1;K(R.data.response,ve,_)}else{o(z=>z.map(ue=>ue.id===l?{...ue,sessionId:_||ue.sessionId,lastActivity:new Date}:ue));const $=(T?.messages?.length||0)+2;K(R.data.response,$,l)}}else{const _={id:(T?.messages?.length||0)+2,text:`Sorry, I encountered an error: ${R.data.message||"Please try again."}`,sender:"bot",timestamp:new Date};o($=>$.map(z=>z.id===l?{...z,messages:[...z.messages||[],_],lastActivity:new Date}:z)),ee.error(R.data.message||"Failed to send message")}}catch(R){console.error("Chat error:",R),g(!1);const _={id:(T?.messages?.length||0)+2,text:"Sorry, I am having trouble connecting. Please check if the chatbot service is running.",sender:"bot",timestamp:new Date};o($=>$.map(z=>z.id===l?{...z,messages:[...z.messages||[],_],lastActivity:new Date}:z)),ee.error(R.response?.data?.message||"Unable to send message")}},L=async()=>{try{const G=await De.post(`${t}/chatbot/sessions/new`,{title:"New Chat"},{headers:{Authorization:`Bearer ${r}`},withCredentials:!0,validateStatus:()=>!0});if(G.data.success){const F={id:G.data.session_id,sessionId:G.data.session_id,title:"New Chat",messages:[{id:1,text:` Hello ${e?.username?.split(" ")[0]||"there"}! I'm your FYP Buddy AI assistant. How can I help you today?`,sender:"bot",timestamp:new Date}],lastActivity:new Date};o([F,...a]),c(F.id),v(!1)}}catch(G){console.error("Error creating new chat:",G),ee.error("Failed to create new chat")}},W=async(G,F)=>{F.stopPropagation();try{if((await De.delete(`${t}/chatbot/sessions/${G}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0,validateStatus:()=>!0})).data.success){const R=a.filter(_=>_.id!==G);o(R),G===l||R.length===0?c(null):(c(R[0]?.id),await Y(R[0]?.id)),ee.success("Chat deleted")}}catch(V){console.error("Error deleting chat:",V),ee.error("Failed to delete chat")}},Q=async G=>{D.current&&(clearInterval(D.current),N(!1),C("")),c(G),v(!1);const F=a.find(V=>V.id===G);F&&(!F.messages||F.messages.length===0)&&await Y(G)},Z=async(G,F)=>{try{const V=await De.post(`${t}/chatbot/sessions/rename`,{session_id:G,title:F},{headers:{Authorization:`Bearer ${r}`},withCredentials:!0,validateStatus:()=>!0});V.data.success?(o(R=>R.map(_=>_.id===G?{..._,title:F}:_)),ee.success("Chat renamed")):ee.error(V.data.message||"Failed to rename chat")}catch(V){console.error("Error renaming chat:",V),ee.error("Failed to rename chat")}},U=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),le())};return x.useEffect(()=>()=>{D.current&&clearInterval(D.current)},[]),b?n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading chats..."})]})})]})}):n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"AI Chatbot | FYP Buddy - Get Instant Help",description:"Chat with our AI assistant for instant help with your FYP. Get answers to questions, guidance on research, and support throughout your project journey.",keywords:"AI chatbot, FYP assistant, project help, research guidance, academic support"}),n.jsxs("div",{className:"min-h-screen mt-15",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("div",{className:"flex flex-col xl:flex-row flex-1 gap-5",children:[n.jsxs("main",{className:"flex-1 flex flex-col gap-5",children:[n.jsx(Te,{className:"w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>v(!p),className:"xl:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors","aria-label":"Toggle chats",children:n.jsx(pC,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 flex items-center justify-center",children:n.jsx(Wy,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800 animate-pulse"})]}),n.jsxs("div",{className:"text-left",children:[n.jsx("h1",{className:"text-2xl font-extrabold text-gray-900 dark:text-gray-100",children:n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"FYP Buddy AI"})}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your intelligent FYP assistant"})]})]})]})}),n.jsxs(Te,{className:"w-full max-w-5xl mx-auto flex-1 flex flex-col bg-white dark:bg-gray-800 shadow-md rounded-2xl overflow-hidden",children:[n.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50 dark:bg-gray-900",children:!l&&a.length===0?n.jsxs("div",{className:"flex flex-col h-full items-center justify-center text-center px-6",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 flex items-center justify-center mb-6 text-4xl",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:"Welcome to FYP Buddy AI"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md",children:"Your intelligent assistant for Final Year Projects. Ask me anything about project ideas, technologies, or guidance!"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Type a message below to start your first conversation"})]}):n.jsxs(n.Fragment,{children:[T?.messages?.map(G=>n.jsx(GS,{message:G,user:e},G.id)),m&&n.jsx(UX,{}),k&&n.jsx(GS,{message:{id:"typing",text:S,sender:"bot",timestamp:new Date},user:e}),n.jsx("div",{ref:A})]})}),n.jsx($X,{value:d,onChange:G=>f(G.target.value),onSend:()=>le(),onKeyPress:U,isLoading:m||k,inputRef:I})]})]}),n.jsx(HX,{chats:a,activeChatId:l,onNewChat:L,onSelectChat:Q,onDeleteChat:W,onRenameChat:Z})]})]}),n.jsx(qX,{isOpen:p,onClose:()=>v(!1),chats:a,activeChatId:l,onNewChat:L,onSelectChat:Q,onDeleteChat:W,onRenameChat:Z})]})]})}var rp="Popover",[M5]=is(rp,[wc]),Sd=wc(),[GX,lo]=M5(rp),O5=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,d=Sd(t),f=x.useRef(null),[m,g]=x.useState(!1),[p,v]=$o({prop:a,defaultProp:o??!1,onChange:l,caller:rp});return n.jsx(db,{...d,children:n.jsx(GX,{scope:t,contentId:jn(),triggerRef:f,open:p,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(b=>!b),[v]),hasCustomAnchor:m,onCustomAnchorAdd:x.useCallback(()=>g(!0),[]),onCustomAnchorRemove:x.useCallback(()=>g(!1),[]),modal:c,children:r})})};O5.displayName=rp;var P5="PopoverAnchor",YX=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=lo(P5,r),l=Sd(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return x.useEffect(()=>(c(),()=>d()),[c,d]),n.jsx(Dm,{...l,...a,ref:t})});YX.displayName=P5;var L5="PopoverTrigger",z5=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=lo(L5,r),l=Sd(r),c=Jt(t,o.triggerRef),d=n.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":U5(o.open),...a,ref:c,onClick:Qe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:n.jsx(Dm,{asChild:!0,...l,children:d})});z5.displayName=L5;var lv="PopoverPortal",[KX,XX]=M5(lv,{forceMount:void 0}),F5=e=>{const{__scopePopover:t,forceMount:r,children:a,container:o}=e,l=lo(lv,t);return n.jsx(KX,{scope:t,forceMount:r,children:n.jsx(os,{present:r||l.open,children:n.jsx(dd,{asChild:!0,container:o,children:a})})})};F5.displayName=lv;var fc="PopoverContent",I5=x.forwardRef((e,t)=>{const r=XX(fc,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,l=lo(fc,e.__scopePopover);return n.jsx(os,{present:a||l.open,children:l.modal?n.jsx(QX,{...o,ref:t}):n.jsx(ZX,{...o,ref:t})})});I5.displayName=fc;var WX=Zi("PopoverContent.RemoveScroll"),QX=x.forwardRef((e,t)=>{const r=lo(fc,e.__scopePopover),a=x.useRef(null),o=Jt(t,a),l=x.useRef(!1);return x.useEffect(()=>{const c=a.current;if(c)return Om(c)},[]),n.jsx(hd,{as:WX,allowPinchZoom:!0,children:n.jsx(B5,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,c=>{c.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Qe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),ZX=x.forwardRef((e,t)=>{const r=lo(fc,e.__scopePopover),a=x.useRef(!1),o=x.useRef(!1);return n.jsx(B5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),B5=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,...p}=e,v=lo(fc,r),b=Sd(r);return Em(),n.jsx(cd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:n.jsx(ld,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:n.jsx(fb,{"data-state":U5(v.open),role:"dialog",id:v.contentId,...b,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$5="PopoverClose",JX=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=lo($5,r);return n.jsx(ut.button,{type:"button",...a,ref:t,onClick:Qe(e.onClick,()=>o.onOpenChange(!1))})});JX.displayName=$5;var eW="PopoverArrow",tW=x.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=Sd(r);return n.jsx(hb,{...o,...a,ref:t})});tW.displayName=eW;function U5(e){return e?"open":"closed"}var rW=O5,nW=z5,aW=F5,sW=I5;function Uu({...e}){return n.jsx(rW,{"data-slot":"popover",...e})}function Hu({...e}){return n.jsx(nW,{"data-slot":"popover-trigger",...e})}function qu({className:e,align:t="center",sideOffset:r=4,...a}){return n.jsx(aW,{children:n.jsx(sW,{"data-slot":"popover-content",align:t,sideOffset:r,className:ot("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}async function H5(e,t,r=[]){try{const a=[...r].map(p=>typeof p=="object"?p.id||p._id:p).filter(Boolean).sort().join(","),o=`${e}:${a}`,l=new TextEncoder,c=l.encode(o),d=await crypto.subtle.importKey("raw",c,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),f=l.encode("chat-encryption-salt-v1"),m=await crypto.subtle.deriveBits({name:"PBKDF2",salt:f,iterations:1e5,hash:"SHA-256"},d,256);return await crypto.subtle.importKey("raw",m,{name:"AES-GCM"},!1,["encrypt","decrypt"])}catch(a){throw console.error("Error deriving room key:",a),new Error("Failed to derive encryption key")}}async function Il(e,t){try{const a=new TextEncoder().encode(typeof e=="string"?e:JSON.stringify(e)),o=crypto.getRandomValues(new Uint8Array(12)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:o,tagLength:128},t,a),c=new Uint8Array(o.length+l.byteLength);return c.set(o,0),c.set(new Uint8Array(l),o.length),btoa(String.fromCharCode(...c))}catch(r){throw console.error("Error encrypting data:",r),new Error("Failed to encrypt data")}}async function Bl(e,t){try{const r=Uint8Array.from(atob(e),f=>f.charCodeAt(0)),a=r.slice(0,12),o=r.slice(12),l=await crypto.subtle.decrypt({name:"AES-GCM",iv:a,tagLength:128},t,o),d=new TextDecoder().decode(l);try{return JSON.parse(d)}catch{return d}}catch(r){throw console.error("Error decrypting data:",r),new Error("Failed to decrypt data")}}async function q5(e,t,r,a){try{const o=await H5(t,r,a),l={...e};if(l.text!==void 0&&l.text!==null&&(l.text=l.text.trim()?await Il(l.text.trim(),o):""),l.attachments&&Array.isArray(l.attachments)&&(l.attachments=await Promise.all(l.attachments.map(async c=>{const d={...c};return d.url&&(d.url=await Il(d.url,o)),d.fileName&&(d.fileName=await Il(d.fileName,o)),d}))),l.contactData){const c={};l.contactData.userId&&(c.userId=l.contactData.userId),l.contactData.username&&(c.username=await Il(l.contactData.username,o)),l.contactData.email&&(c.email=await Il(l.contactData.email,o)),l.contactData.phone&&(c.phone=await Il(l.contactData.phone,o)),l.contactData=c}return l.isEncrypted=!0,l}catch(o){throw console.error("Error encrypting message:",o),o}}async function ac(e,t,r,a){try{if(!e.isEncrypted)return e;const o=await H5(t,r,a),l={...e};if(l.text&&l.text!=="This message was deleted"&&l.text.trim())try{l.text.length>20&&/^[A-Za-z0-9+/=]+$/.test(l.text)&&(l.text=await Bl(l.text,o))}catch(c){console.error("Error decrypting text:",c),l.text="[Encrypted message - decryption failed]"}if(l.attachments&&Array.isArray(l.attachments)&&(l.attachments=await Promise.all(l.attachments.map(async c=>{const d={...c};try{d.url&&!d.url.startsWith("http")&&/^[A-Za-z0-9+/=]+$/.test(d.url)&&(d.url=await Bl(d.url,o)),d.fileName&&!d.fileName.includes(".")&&/^[A-Za-z0-9+/=]+$/.test(d.fileName)&&(d.fileName=await Bl(d.fileName,o))}catch(f){console.error("Error decrypting attachment:",f)}return d}))),l.contactData){const c={...l.contactData};try{c.username&&/^[A-Za-z0-9+/=]+$/.test(c.username)&&c.username.length>20&&(c.username=await Bl(c.username,o)),c.email&&!c.email.includes("@")&&/^[A-Za-z0-9+/=]+$/.test(c.email)&&(c.email=await Bl(c.email,o)),c.phone&&!/^\d+$/.test(c.phone)&&/^[A-Za-z0-9+/=]+$/.test(c.phone)&&(c.phone=await Bl(c.phone,o)),l.contactData=c}catch(d){console.error("Error decrypting contact data:",d)}}return delete l.isEncrypted,l}catch(o){return console.error("Error decrypting message:",o),e}}const V5=({activeChat:e,isChatsOpen:t,setIsChatsOpen:r,onlineUsers:a,startAudioCall:o,startVideoCall:l,getChatAvatar:c,getChatTitle:d,getChatIcon:f})=>n.jsx(Te,{className:"mb-5 p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border-none",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>r(!t),className:"lg:hidden w-10 h-10 flex items-center justify-center rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 mr-3","aria-label":"Toggle chats",children:n.jsx(pC,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsxs("div",{className:"relative",children:[e?.avatar?n.jsxs(tr,{className:"w-14 h-14 border-2 border-purple-500/20 dark:border-gray-600",children:[c(e),n.jsx(wn,{className:"bg-gradient-to-br from-purple-500 to-indigo-500 text-white",children:e.name?.[0]?.toUpperCase()||"C"})]}):n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-500 flex items-center justify-center shadow-lg shadow-purple-500/30",children:e?f(e):n.jsx(ni,{className:"w-7 h-7 text-white"})}),e?.type==="individual"&&e?.participant?n.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-4 h-4 rounded-full border-2 border-white dark:border-gray-800 ${a.has(e.participant.id)?"bg-green-500":"bg-gray-400"}`}):n.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-500 rounded-full border-2 border-white dark:border-gray-800"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-extrabold text-gray-900 dark:text-gray-100",children:n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:e?d(e):"Chat"})}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:e?.type==="public"?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"All students"]}):e?.type==="group"?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.participants?.filter(m=>a.has(m.id)).length||0," online"]}):e?.participant?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${a.has(e.participant.id)?"bg-green-500":"bg-gray-400"}`}),a.has(e.participant.id)?"Online":"Offline"]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})})]})]}),e?.type!=="public"&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:o,className:"w-10 h-10 flex items-center justify-center rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 shadow-sm","aria-label":"Voice Call",children:n.jsx(ii,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:l,className:"w-10 h-10 flex items-center justify-center rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 shadow-sm","aria-label":"Video Call",children:n.jsx(oc,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]})}),G5=({message:e,isCurrentUser:t,showAvatar:r,user:a,deleteMenuOpen:o,setDeleteMenuOpen:l,contextMenu:c,setContextMenu:d,handleDeleteMessage:f,handleImageDownload:m,handleFilePreview:g,handleImageContextMenu:p,formatTime:v})=>{const b=e.sender||{},j=b.role==="supervisor";return n.jsxs("div",{className:`flex gap-3 ${t?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:[!t&&(r?n.jsxs(tr,{className:"w-9 h-9 border-2 border-purple-500/20 dark:border-gray-600 flex-shrink-0",children:[n.jsx(Rr,{src:b.profilePic||Ir}),n.jsx(wn,{className:"bg-gradient-to-br from-purple-500 to-indigo-500 text-white",children:b.username?.[0]?.toUpperCase()||"U"})]}):n.jsx("div",{className:"w-9 flex-shrink-0"})),n.jsxs("div",{className:`flex flex-col gap-1 max-w-[75%] md:max-w-[65%] ${t?"items-end":"items-start"}`,children:[!t&&r&&n.jsxs("div",{className:"flex items-center gap-2 px-1",children:[n.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:b.username||"Unknown"}),j&&n.jsx(zh,{className:"w-3 h-3 text-yellow-500 dark:text-yellow-400"})]}),n.jsxs("div",{className:`rounded-2xl px-5 py-3 shadow-md relative group ${t?"bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-br-sm":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-bl-sm border border-gray-200 dark:border-gray-600"}`,children:[t&&!e.isDeleted&&n.jsxs(Vx,{open:o[e.id],onOpenChange:k=>l(N=>({...N,[e.id]:k})),children:[n.jsx(Gx,{asChild:!0,children:n.jsx("button",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-gray-800 dark:bg-gray-700 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center hover:bg-gray-700 dark:hover:bg-gray-600",onClick:k=>k.stopPropagation(),children:n.jsx(Fk,{className:"w-3 h-3"})})}),n.jsxs(Yx,{align:"end",className:"w-48",children:[n.jsxs(zu,{onClick:()=>f(e.id,!1),className:"text-red-600 dark:text-red-400",children:[n.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Delete for me"]}),t&&n.jsxs(n.Fragment,{children:[n.jsx(Kx,{}),n.jsxs(zu,{onClick:()=>f(e.id,!0),className:"text-red-600 dark:text-red-400",children:[n.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Delete for everyone"]})]})]})]}),!t&&!e.isDeleted&&n.jsxs(Vx,{open:o[e.id],onOpenChange:k=>l(N=>({...N,[e.id]:k})),children:[n.jsx(Gx,{asChild:!0,children:n.jsx("button",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-gray-800 dark:bg-gray-700 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center hover:bg-gray-700 dark:hover:bg-gray-600",onClick:k=>k.stopPropagation(),children:n.jsx(Fk,{className:"w-3 h-3"})})}),n.jsx(Yx,{align:"end",className:"w-48",children:n.jsxs(zu,{onClick:()=>f(e.id,!1),className:"text-red-600 dark:text-red-400",children:[n.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Delete for me"]})})]}),e.isDeleted?n.jsx("div",{className:"text-sm italic opacity-70",children:"This message was deleted"}):n.jsxs(n.Fragment,{children:[e.messageType==="image"&&e.attachments?.length>0&&n.jsxs("div",{className:"mb-2 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:e.attachments[0].url,alt:e.attachments[0].fileName||"Image",className:"max-w-full max-h-64 object-contain rounded-lg cursor-pointer",onContextMenu:k=>p(k,e.id,e.attachments[0].url),onClick:k=>{(k.ctrlKey||k.metaKey)&&m(e.attachments[0].url,e.attachments[0].fileName)}}),n.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[n.jsx("button",{className:"px-2 py-1 text-xs rounded-md bg-white/80 dark:bg-gray-800/80 backdrop-blur shadow border border-gray-200 dark:border-gray-700 hover:bg-white dark:hover:bg-gray-700",onClick:()=>g(e.attachments[0].url),children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(ba,{className:"w-3 h-3"})," Preview"]})}),n.jsx("button",{className:"px-2 py-1 text-xs rounded-md bg-white/80 dark:bg-gray-800/80 backdrop-blur shadow border border-gray-200 dark:border-gray-700 hover:bg-white dark:hover:bg-gray-700",onClick:()=>m(e.attachments[0].url,e.attachments[0].fileName),children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Fh,{className:"w-3 h-3"})," Download"]})})]}),c.open&&c.messageId===e.id&&n.jsxs("div",{className:"fixed z-50 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 min-w-[150px]",style:{left:c.x,top:c.y},onClick:k=>k.stopPropagation(),children:[n.jsxs("button",{onClick:()=>{m(c.imageUrl,e.attachments[0]?.fileName),d({open:!1,x:0,y:0,messageId:null,imageUrl:null})},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Fh,{className:"w-4 h-4"}),"Download"]}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),n.jsxs("button",{onClick:()=>{f(e.id,!1),d({open:!1,x:0,y:0,messageId:null,imageUrl:null})},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Ia,{className:"w-4 h-4"}),"Delete for me"]}),t&&n.jsxs("button",{onClick:()=>{f(e.id,!0),d({open:!1,x:0,y:0,messageId:null,imageUrl:null})},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[n.jsx(Ia,{className:"w-4 h-4"}),"Delete for everyone"]})]})]}),e.messageType==="document"&&e.attachments?.length>0&&n.jsxs("div",{className:"mb-2 p-3 bg-black/10 dark:bg-white/10 rounded-lg flex items-center gap-3",children:[n.jsx(hn,{className:"w-6 h-6 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:e.attachments[0].fileName||"Document"}),n.jsxs("p",{className:"text-xs opacity-70",children:[(e.attachments[0].fileSize/1024).toFixed(2)," KB"]})]}),n.jsx("a",{href:e.attachments[0].url,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline",children:"Download"}),n.jsx("a",{href:e.attachments[0].url,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline ml-2",children:"Preview"})]}),e.messageType==="contact"&&e.contactData&&n.jsxs("div",{className:"mb-2 p-3 bg-black/10 dark:bg-white/10 rounded-lg flex items-center gap-3",children:[n.jsxs(tr,{className:"w-10 h-10",children:[n.jsx(Rr,{src:e.contactData.profilePic||Ir}),n.jsx(wn,{children:e.contactData.username?.[0]?.toUpperCase()||"C"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium",children:e.contactData.username||"Contact"}),e.contactData.phone&&n.jsx("p",{className:"text-xs opacity-70",children:e.contactData.phone}),e.contactData.email&&n.jsx("p",{className:"text-xs opacity-70",children:e.contactData.email})]})]}),(e.messageType==="video_call"||e.messageType==="audio_call")&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-full ${e.meta?.callStatus==="missed"||e.meta?.callStatus==="declined"?"bg-red-100 dark:bg-red-900/30":e.messageType==="video_call"?t?"bg-white/20":"bg-purple-100 dark:bg-purple-900/30":t?"bg-white/20":"bg-green-100 dark:bg-green-900/30"}`,children:e.messageType==="video_call"?n.jsx(oc,{className:`w-5 h-5 ${e.meta?.callStatus==="missed"||e.meta?.callStatus==="declined"?"text-red-600 dark:text-red-400":t?"text-white":"text-purple-600 dark:text-purple-400"}`}):n.jsx(ii,{className:`w-5 h-5 ${e.meta?.callStatus==="missed"||e.meta?.callStatus==="declined"?"text-red-600 dark:text-red-400":t?"text-white":"text-green-600 dark:text-green-400"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium",children:[e.meta?.callStatus==="missed"&&!t&&"Missed ",e.meta?.callStatus==="declined"&&!t&&"Declined ",e.messageType==="video_call"?"Video call":"Audio call"]}),e.meta?.callDuration>0?n.jsx("p",{className:"text-xs opacity-70",children:(()=>{const k=e.meta.callDuration,N=Math.floor(k/3600),S=Math.floor(k%3600/60),C=k%60;return N>0?`${N}:${S.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`:`${S}:${C.toString().padStart(2,"0")}`})()}):n.jsx("p",{className:"text-xs opacity-70",children:e.meta?.callStatus==="missed"?"No answer":e.meta?.callStatus==="declined"?"Declined":"Not connected"})]})]}),e.text&&e.messageType!=="video_call"&&e.messageType!=="audio_call"&&n.jsx("div",{className:"whitespace-pre-wrap break-words text-sm leading-relaxed",children:e.text})]}),n.jsxs("div",{className:`flex items-center gap-2 mt-2 ${t?"text-white/70":"text-gray-500 dark:text-gray-400"}`,children:[n.jsx("span",{className:"text-xs",children:v(e.timestamp)}),t&&n.jsx("span",{className:"text-xs flex items-center ml-1",children:(()=>{if(e.activeChat?.type==="individual"&&e.activeChat?.participant){const k=e.activeChat.participant.id,N=e.readBy?.includes(k),S=e.deliveredTo?.includes(k);return n.jsx("span",{className:"flex items-center",title:N?"Read":S?"Delivered":"Sent",children:N?n.jsxs("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 16 16",children:[n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"}),n.jsx("path",{d:"M13.854 5.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 12.293l6.646-6.647a.5.5 0 0 1 .708 0z"})]}):S?n.jsxs("svg",{className:"w-4 h-4 text-white/70 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 16 16",children:[n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"}),n.jsx("path",{d:"M13.854 5.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 12.293l6.646-6.647a.5.5 0 0 1 .708 0z"})]}):n.jsx("svg",{className:"w-4 h-4 text-white/70 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 16 16",children:n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})})}if(e.activeChat?.type==="public")return n.jsx("span",{className:"flex items-center",title:"Sent",children:n.jsx("svg",{className:"w-4 h-4 text-white/70 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 16 16",children:n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})});if(e.activeChat?.type==="group"){const k=e.activeChat?.participants?.length||0,N=e.readBy?.length||0,S=e.deliveredTo?.length||0,C=N>=k-1,A=S>=k-1;return n.jsx("span",{className:"flex items-center",title:C?`Read by all (${N})`:A?`Delivered to all (${S})`:"Sent",children:C?n.jsxs("svg",{className:"w-4 h-4 text-blue-400",fill:"currentColor",viewBox:"0 0 16 16",children:[n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"}),n.jsx("path",{d:"M13.854 5.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 12.293l6.646-6.647a.5.5 0 0 1 .708 0z"})]}):A?n.jsxs("svg",{className:"w-4 h-4 text-white/70 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 16 16",children:[n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"}),n.jsx("path",{d:"M13.854 5.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 12.293l6.646-6.647a.5.5 0 0 1 .708 0z"})]}):n.jsx("svg",{className:"w-4 h-4 text-white/70 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 16 16",children:n.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})})}return null})()})]})]})]}),t&&(r?n.jsxs(tr,{className:"w-9 h-9 border-2 border-purple-500/20 dark:border-gray-600 flex-shrink-0",children:[n.jsx(Rr,{src:a?.profilePic||Ir}),n.jsx(wn,{className:"bg-gradient-to-br from-purple-500 to-indigo-500 text-white",children:a?.username?.[0]?.toUpperCase()||"U"})]}):n.jsx("div",{className:"w-9 flex-shrink-0"}))]})},Y5=({inputValue:e,setInputValue:t,canSendMessage:r,uploading:a,activeChat:o,imageInputRef:l,fileInputRef:c,inputRef:d,isAttachmentMenuOpen:f,setIsAttachmentMenuOpen:m,handleImageSelect:g,handleDocumentSelect:p,handleContactShare:v,handleSendMessage:b,handleKeyPress:j,connectionError:k,socketRef:N})=>n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsx("input",{type:"file",ref:l,accept:"image/*",onChange:g,className:"hidden"}),n.jsx("input",{type:"file",ref:c,accept:".pdf,.doc,.docx,.txt,.xls,.xlsx,.ppt,.pptx",onChange:p,className:"hidden"}),n.jsxs("div",{className:"flex gap-3 items-end",children:[n.jsxs(Uu,{open:f,onOpenChange:m,children:[n.jsx(Hu,{asChild:!0,children:n.jsx(Pe,{type:"button",disabled:!r||a,className:"px-4 py-6 rounded-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:a?n.jsx(wt,{className:"w-5 h-5 animate-spin"}):n.jsx(jm,{className:"w-5 h-5"})})}),n.jsx(qu,{className:"w-64 p-2",align:"start",side:"top",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>{l.current?.click()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:n.jsx(kP,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Photos"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Share images"})]})]}),n.jsxs("button",{onClick:()=>{c.current?.click()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:n.jsx(hn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Documents"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Share files"})]})]}),n.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(bh,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Contact"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Share your contact"})]})]})]})})]}),n.jsx("div",{className:"flex-1 relative",children:n.jsx(st,{ref:d,value:e,disabled:!r||a,onChange:S=>t(S.target.value),onKeyPress:S=>{!r||a||j(S)},placeholder:o?"Type your message... (Press Enter to send)":"Select a chat to start messaging",className:"w-full pr-12 py-6 rounded-xl border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus-visible:ring-2 focus-visible:ring-purple-500 dark:focus-visible:ring-gray-500 transition-all duration-200"})}),n.jsx(Pe,{onClick:()=>b(),disabled:!e.trim()&&!a||!r||a,className:"px-6 py-6 rounded-xl bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-500 hover:via-blue-500 hover:to-indigo-500 text-white shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:n.jsx(bC,{className:"w-5 h-5"})})]}),k&&n.jsxs("div",{className:"mt-2 p-2 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-400 dark:border-yellow-700 rounded-lg",children:[n.jsx("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:k}),N.current&&!N.current.connected&&n.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"Reconnecting..."})]}),N.current&&N.current.connected&&!k&&n.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2",children:" Connected"})]}),fm=({chats:e,activeChatId:t,roomsLoading:r,chatMessages:a,unreadCounts:o,onlineUsers:l,handleChatSelect:c,getChatAvatar:d,getChatTitle:f,getChatIcon:m,isChatsOpen:g,setIsChatsOpen:p,isMobile:v})=>{const b=()=>n.jsx("div",{className:"space-y-1",children:r?n.jsx("div",{className:"flex justify-center py-6",children:n.jsx(wt,{className:"w-5 h-5 animate-spin text-purple-500"})}):e.length?e.map(j=>n.jsx("div",{onClick:()=>c(j.id),className:`group relative p-3 rounded-xl cursor-pointer transition-all duration-200 ${j.id===t?"bg-purple-50 dark:bg-gray-700 border-2 border-purple-500 dark:border-gray-600":"bg-gray-50 dark:bg-gray-700/60 hover:bg-gray-100 dark:hover:bg-gray-700 border-2 border-transparent"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${j.id===t?"bg-gradient-to-br from-purple-500 to-purple-700 dark:bg-gray-600":"bg-gradient-to-br from-gray-400 to-gray-500 dark:from-gray-600 dark:to-gray-700"}`,children:j.avatar||j.participant?.profilePic?n.jsxs(tr,{className:"w-full h-full",children:[d(j),n.jsx(wn,{className:"bg-transparent text-white",children:j.name?.[0]?.toUpperCase()})]}):m(j)}),n.jsxs("div",{className:"flex-1 min-w-0 relative",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("p",{className:`text-sm font-medium truncate ${j.id===t?"text-purple-900 dark:text-gray-100":"text-gray-900 dark:text-gray-100"}`,children:f(j)}),o[j.id]>0&&n.jsx("span",{className:"flex-shrink-0 bg-purple-600 text-white text-xs font-semibold px-2 py-0.5 rounded-full min-w-[20px] text-center",children:o[j.id]>99?"99+":o[j.id]})]}),n.jsx("p",{className:`text-xs mt-1 truncate ${j.id===t?"text-purple-700 dark:text-gray-300":"text-gray-500 dark:text-gray-400"}`,children:a[j.id]?.length>0?`${a[j.id][a[j.id].length-1]?.text?.substring(0,30)||""}...`:"No messages yet"}),j.type==="individual"&&j.participant&&n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-0.5",children:l.has(j.participant.id)?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Online"]}):n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),"Offline"]})})]})]})},j.id)):n.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 py-6",children:"No chats available yet."})});return v?n.jsx(n.Fragment,{children:g&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!1)}),n.jsxs("aside",{className:"fixed right-0 top-0 bottom-0 z-50 flex flex-col w-80 bg-white dark:bg-gray-800 shadow-2xl lg:hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chats"}),n.jsx("button",{onClick:()=>p(!1),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200","aria-label":"Close chats",children:n.jsx(tn,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-white dark:bg-gray-800",children:b()})]})]})}):n.jsxs("aside",{className:"hidden lg:flex flex-col w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border-none overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[n.jsx(wm,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Chats"})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.length," ",e.length===1?"chat":"chats"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-white dark:bg-gray-800",children:b()})]})},Bi=({stream:e,videoRef:t,onStreamLoaded:r,...a})=>{const o=x.useRef(null);return x.useEffect(()=>{t&&(typeof t=="function"?t(o.current):t.current=o.current)},[t]),x.useEffect(()=>{const l=o.current;if(l&&e){l.srcObject=e,l.play().catch(()=>{});const c=()=>{r&&r(l)};return l.addEventListener("loadedmetadata",c),()=>{l.removeEventListener("loadedmetadata",c)}}},[e,r]),n.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,...a})},iW=e=>{if(!e)return!1;const t=e.getVideoTracks()[0];if(!t)return!1;const r=t.label.toLowerCase();if(r.includes("screen")||r.includes("window")||r.includes("monitor")||r.includes("display")||r.includes("chrome")||r.includes("firefox")||r.includes("electron"))return!0;try{const a=t.getSettings?.();if(a){const{width:o,height:l}=a;if(o&&l&&(o>=1920||l>=1080||o/l>=1.6&&(o>=1280||l>=720)))return!0}}catch{}if(t.contentHint==="detail"||t.contentHint==="text")return!0;if(t.kind==="video"&&t.readyState==="live"){const a=t.getConstraints?.();if(a&&(a.displaySurface||a.logicalSurface))return!0}return!1},K5=({isVideoCallOpen:e,endVideoCall:t,isConnecting:r,remoteStreams:a,activeChat:o,isAudioOnly:l,user:c,micEnabled:d,cameraEnabled:f,toggleMic:m,toggleCamera:g,localVideoRef:p,remoteVideoRef:v,localStream:b,cameraStream:j,isScreenSharing:k,toggleScreenShare:N,group:S,addParticipantToCall:C,maximizedPeerId:A,setMaximizedPeerId:I,getChatAvatar:D,getChatTitle:T,firstRemoteEntry:B,isCallMinimized:X,setIsCallMinimized:Y,participantsMap:K={},callDuration:le=0})=>{const[L,W]=pr.useState(new Set),Q=U=>{const G=Math.floor(U/3600),F=Math.floor(U%3600/60),V=U%60;return G>0?`${G.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`:`${F.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`},Z=U=>{const G=K[String(U)];return{username:G?.username||"Participant",profilePic:G?.profilePic||null}};return x.useEffect(()=>{const U=()=>{const F=new Set;Object.entries(a).forEach(([R,_])=>{if(iW(_)){F.add(R),console.log(`[Screen Share Detection] Detected screen share from peer: ${R}`);const z=_.getVideoTracks()[0];if(z){console.log(`[Screen Share Detection] Track label: ${z.label}`);const ue=z.getSettings?.();ue&&console.log(`[Screen Share Detection] Track dimensions: ${ue.width}x${ue.height}`)}}}),(F.size!==L.size||Array.from(F).some(R=>!L.has(R)))&&(console.log("[Screen Share Detection] Updated detected screen shares:",Array.from(F)),W(F))};U();const G=setInterval(U,1e3);return()=>clearInterval(G)},[a,L]),n.jsx(_r,{open:e&&!X,onOpenChange:U=>{U||t()},children:n.jsxs(Xr,{fullScreen:!0,showCloseButton:!1,className:"p-0 bg-white dark:bg-gray-900",children:[n.jsxs(an,{className:"absolute top-2 left-2 sm:top-4 sm:left-4 z-10",children:[n.jsx(sn,{className:"text-base sm:text-lg text-white",children:l?"Audio Call":"Video Call"}),n.jsx(Ha,{className:"sr-only",children:"Video call interface"})]}),n.jsx("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 bg-black/70 px-3 py-1.5 rounded-md",children:n.jsx("p",{className:"text-white text-sm font-medium",children:Q(le)})}),n.jsx("div",{className:"flex flex-col h-full w-full",children:!r&&Object.entries(a).length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white h-full w-full",children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-700 mb-6 flex items-center justify-center border-4 border-purple-500 shadow-2xl",children:n.jsxs(tr,{className:"w-full h-full",children:[D(o),n.jsx(wn,{className:"text-4xl",children:o?.participant?.username?.[0]||"U"})]})}),n.jsx("p",{className:"text-xl font-semibold mb-2",children:T(o)}),n.jsx("p",{className:"text-sm text-gray-400 mb-8",children:"Calling..."}),n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[!l&&n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:g,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ${f?"bg-gray-700 hover:bg-gray-600 hover:scale-105":"bg-red-500 hover:bg-red-600 hover:scale-105"}`,children:f?n.jsx(oc,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"}):n.jsx($k,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:f?"Camera":"Camera Off"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:m,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ${d?"bg-gray-700 hover:bg-gray-600 hover:scale-105":"bg-red-500 hover:bg-red-600 hover:scale-105"}`,children:d?n.jsx(Po,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"}):n.jsx(Gl,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:d?"Mute":"Unmute"})]}),(()=>{const U=Array.isArray(o?.participants)?o.participants:[],G=Array.isArray(S?.members)&&S.members.length?S.members.filter(R=>U.some(_=>String(_._id||_.id||_)===String(R._id||R.id))):Array.isArray(S?.participants)?S.participants.filter(R=>U.some(_=>String(_._id||_.id||_)===String(R._id||R.id))):[],F=o?.type==="group"||o?.type==="public",V=S?.supervisor?._id&&U.some(R=>String(R._id||R.id||R)===String(S.supervisor._id));return F&&G?.length?n.jsxs(Uu,{children:[n.jsx(Hu,{asChild:!0,children:n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-lg hover:scale-105",children:n.jsx(bh,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Add"})]})}),n.jsx(qu,{className:"w-56 sm:w-64 bg-gray-800 border-gray-700",children:n.jsxs("div",{className:"space-y-1",children:[G.filter(R=>(R._id||R.id)!==c?._id).map(R=>n.jsx("button",{onClick:()=>C(R._id||R.id),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded text-white hover:bg-gray-700 transition-colors",children:R.username},R._id||R.id)),V&&n.jsxs("button",{onClick:()=>C(S.supervisor._id),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded text-white hover:bg-gray-700 transition-colors",children:[S.supervisor.username," (Supervisor)"]})]})})]}):null})(),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:()=>Y(!0),className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-lg hover:scale-105",children:n.jsx(T0,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Minimize"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:t,className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-lg hover:scale-105",children:n.jsx(tn,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"End Call"})]})]})]}):l?n.jsxs("div",{className:"relative h-full w-full flex flex-col bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 overflow-hidden",children:[n.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:n.jsxs("div",{className:"flex flex-col items-center gap-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-6 flex-wrap",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-700 mb-3 flex items-center justify-center border-4 border-purple-500 shadow-lg",children:n.jsxs(tr,{className:"w-full h-full",children:[n.jsx(Rr,{src:c?.profilePic||Ir}),n.jsx(wn,{className:"bg-gradient-to-br from-purple-500 to-indigo-500 text-white text-3xl",children:c?.username?.[0]?.toUpperCase()||"Y"})]})}),n.jsx("p",{className:"text-white text-base font-semibold",children:c?.username||"You"}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:d?n.jsx(Po,{className:"w-4 h-4 text-green-400"}):n.jsx(Gl,{className:"w-4 h-4 text-red-400"})})]}),Object.entries(a).map(([U,G])=>{const F=Z(U);return n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-700 mb-3 flex items-center justify-center border-4 border-blue-500 shadow-lg",children:n.jsxs(tr,{className:"w-full h-full",children:[n.jsx(Rr,{src:F.profilePic||Ir}),n.jsx(wn,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white text-3xl",children:F.username?.[0]?.toUpperCase()||"P"})]})}),n.jsx("p",{className:"text-white text-base font-semibold",children:F.username}),n.jsx("div",{className:"flex items-center gap-1 mt-2",children:n.jsx(Po,{className:"w-4 h-4 text-green-400"})}),n.jsx("audio",{ref:V=>{V&&G&&(V.srcObject!==G&&(V.srcObject=G),V.play().catch(()=>{}))},autoPlay:!0,playsInline:!0})]},U)})]}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"Audio Call in progress..."})})]})}),n.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-t from-gray-900 via-gray-900/95 to-gray-900/90 backdrop-blur-sm",children:n.jsxs("div",{className:"flex justify-center items-center gap-3 sm:gap-4 max-w-2xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:m,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ${d?"bg-gray-700 hover:bg-gray-600 hover:scale-105":"bg-red-500 hover:bg-red-600 hover:scale-105"}`,"aria-label":"Toggle Mute",children:d?n.jsx(Po,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"}):n.jsx(Gl,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:d?"Mute":"Unmute"})]}),(()=>{const U=Array.isArray(o?.participants)?o.participants:[],G=Array.isArray(S?.members)&&S.members.length?S.members.filter(R=>U.some(_=>String(_._id||_.id||_)===String(R._id||R.id))):Array.isArray(S?.participants)?S.participants.filter(R=>U.some(_=>String(_._id||_.id||_)===String(R._id||R.id))):[],F=o?.type==="group"||o?.type==="public",V=S?.supervisor?._id&&U.some(R=>String(R._id||R.id||R)===String(S.supervisor._id));return F&&G?.length?n.jsxs(Uu,{children:[n.jsx(Hu,{asChild:!0,children:n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-lg hover:scale-105","aria-label":"Add Participant",children:n.jsx(bh,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Add"})]})}),n.jsx(qu,{className:"w-56 sm:w-64 bg-gray-800 border-gray-700",children:n.jsxs("div",{className:"space-y-1",children:[G.filter(R=>(R._id||R.id)!==c?._id).map(R=>n.jsx("button",{onClick:()=>C(R._id||R.id),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded text-white hover:bg-gray-700 transition-colors",children:R.username},R._id||R.id)),V&&n.jsxs("button",{onClick:()=>C(S.supervisor._id),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded text-white hover:bg-gray-700 transition-colors",children:[S.supervisor.username," (Supervisor)"]})]})})]}):null})(),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:()=>Y(!0),className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-lg hover:scale-105","aria-label":"Minimize",children:n.jsx(T0,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Minimize"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:t,className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-lg hover:scale-105","aria-label":"End Call",children:n.jsx(tn,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"End Call"})]})]})})]}):n.jsxs("div",{className:"relative h-full w-full flex flex-col bg-black overflow-hidden",children:[n.jsx("div",{className:"flex-1 p-2 sm:p-3 md:p-4 overflow-y-auto",children:Object.keys(a).length===1&&!A?n.jsxs("div",{className:"relative h-full",children:[n.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-900 h-full",children:[n.jsx(Bi,{videoRef:v,stream:B?B[1]:null,className:"w-full h-full object-contain bg-black"}),n.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:B?Z(B[0]).username:"Participant"})]}),n.jsxs("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 w-24 sm:w-40 md:w-56 lg:w-64 aspect-video rounded-lg sm:rounded-xl overflow-hidden bg-gray-900 border border-gray-800 shadow-lg",children:[n.jsx(Bi,{videoRef:p,stream:k?b:j||b,muted:!0,className:"w-full h-full object-contain bg-black"}),n.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:[c?.username||"You"," ",k&&"(Screen)"]})]})]}):(()=>{const U=Object.keys(a).length+1,G=k,F=Array.from(L)[0];return!A&&(U===3||U===4)&&(G||F)?n.jsxs("div",{className:"flex flex-col md:flex-row gap-2 sm:gap-3 md:gap-4 h-full",children:[n.jsx("div",{className:"flex-[2] flex items-center justify-center min-h-[60%] md:min-h-0",children:G?n.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-900 w-full h-full",children:[n.jsx(Bi,{videoRef:p,stream:b,muted:!0,className:"w-full h-full object-contain bg-black"}),n.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:[c?.username||"You"," (Screen)"]}),n.jsx("button",{onClick:()=>I("local"),className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg text-white hover:bg-black/70 transition-colors",children:n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-sm"})})]}):F?n.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-900 w-full h-full",children:[n.jsx(Bi,{stream:a[F],className:"w-full h-full object-contain bg-black"}),n.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:[Z(F).username," (Screen)"]}),n.jsx("button",{onClick:()=>I(F),className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg text-white hover:bg-black/70 transition-colors",children:n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-sm"})})]}):null}),n.jsxs("div",{className:"flex-[1] flex flex-row md:flex-col gap-2 sm:gap-3 md:gap-4 overflow-x-auto md:overflow-x-hidden",children:[!G&&n.jsxs("div",{className:"relative rounded-lg sm:rounded-xl overflow-hidden bg-gray-900 flex-shrink-0 w-32 sm:w-40 md:w-full md:flex-1 aspect-video md:aspect-auto",children:[n.jsx(Bi,{videoRef:p,stream:j||b,muted:!0,className:"w-full h-full object-contain bg-black"}),n.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:c?.username||"You"}),n.jsx("button",{onClick:()=>I("local"),className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg text-white hover:bg-black/70 transition-colors",children:n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-sm"})})]}),Object.entries(a).map(([R,_])=>R===F?null:n.jsxs("div",{className:"relative rounded-lg sm:rounded-xl overflow-hidden bg-gray-900 flex-shrink-0 w-32 sm:w-40 md:w-full md:flex-1 aspect-video md:aspect-auto",children:[n.jsx(Bi,{stream:_,className:"w-full h-full object-contain bg-black"}),n.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:Z(R).username}),n.jsx("button",{onClick:()=>I(R),className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg text-white hover:bg-black/70 transition-colors",children:n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-sm"})})]},R))]})]}):n.jsxs("div",{className:`grid gap-2 sm:gap-3 md:gap-4 h-full ${A||Object.keys(a).length===0?"grid-cols-1":Object.keys(a).length===1?"grid-cols-1 md:grid-cols-2":Object.keys(a).length<=3?"grid-cols-1 sm:grid-cols-2":"grid-cols-2 lg:grid-cols-3"}${Object.keys(a).length+1>=3&&Object.keys(a).length+1<=4?" sm:grid-cols-2 sm:grid-rows-2":""}`,children:[n.jsxs("div",{className:`relative rounded-lg sm:rounded-xl overflow-hidden bg-gray-900 h-full ${A==="local"?"fixed inset-2 sm:inset-4 z-50":A?"hidden":""}`,children:[n.jsx(Bi,{videoRef:p,stream:k?b:j||b,muted:!0,className:"w-full h-full object-contain bg-black"}),n.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:[c?.username||"You"," ",k&&"(Screen)"]}),n.jsx("button",{onClick:()=>I(A==="local"?null:"local"),className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg text-white hover:bg-black/70 transition-colors",children:A==="local"?n.jsx(tn,{className:"w-4 h-4"}):n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-sm"})})]}),Object.entries(a).map(([R,_])=>n.jsxs("div",{className:`relative rounded-lg sm:rounded-xl overflow-hidden bg-gray-900 h-full ${A===R?"fixed inset-2 sm:inset-4 z-50":A?"hidden":""}`,children:[n.jsx(Bi,{stream:_,className:"w-full h-full object-contain bg-black"}),n.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 px-3 py-1.5 rounded-md text-white text-sm font-medium",children:[Z(R).username," ",L.has(R)&&"(Screen)"]}),n.jsx("button",{onClick:()=>I(A===R?null:R),className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg text-white hover:bg-black/70 transition-colors",children:A===R?n.jsx(tn,{className:"w-4 h-4"}):n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-sm"})})]},R))]})})()}),n.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-t from-gray-900 via-gray-900/95 to-gray-900/90 backdrop-blur-sm",children:n.jsxs("div",{className:"flex justify-center items-center gap-3 sm:gap-4 max-w-2xl mx-auto",children:[!l&&n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:g,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ${f?"bg-gray-700 hover:bg-gray-600 hover:scale-105":"bg-red-500 hover:bg-red-600 hover:scale-105"}`,"aria-label":"Toggle Video",children:f?n.jsx(oc,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"}):n.jsx($k,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:f?"Camera":"Camera Off"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:m,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ${d?"bg-gray-700 hover:bg-gray-600 hover:scale-105":"bg-red-500 hover:bg-red-600 hover:scale-105"}`,"aria-label":"Toggle Mute",children:d?n.jsx(Po,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"}):n.jsx(Gl,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:d?"Mute":"Unmute"})]}),!l&&n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:N,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ${k?"bg-blue-600 hover:bg-blue-700 hover:scale-105":"bg-gray-700 hover:bg-gray-600 hover:scale-105"}`,"aria-label":"Share Screen",children:n.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:k?"Stop Share":"Share"})]}),(()=>{const U=Array.isArray(o?.participants)?o.participants:[],G=Array.isArray(S?.members)&&S.members.length?S.members.filter(R=>U.some(_=>String(_._id||_.id||_)===String(R._id||R.id))):Array.isArray(S?.participants)?S.participants.filter(R=>U.some(_=>String(_._id||_.id||_)===String(R._id||R.id))):[],F=o?.type==="group"||o?.type==="public",V=S?.supervisor?._id&&U.some(R=>String(R._id||R.id||R)===String(S.supervisor._id));return F&&G?.length?n.jsxs(Uu,{children:[n.jsx(Hu,{asChild:!0,children:n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-lg hover:scale-105","aria-label":"Add Participant",children:n.jsx(bh,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Add"})]})}),n.jsx(qu,{className:"w-56 sm:w-64 bg-gray-800 border-gray-700",children:n.jsxs("div",{className:"space-y-1",children:[G.filter(R=>(R._id||R.id)!==c?._id).map(R=>n.jsx("button",{onClick:()=>C(R._id||R.id),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded text-white hover:bg-gray-700 transition-colors",children:R.username},R._id||R.id)),V&&n.jsxs("button",{onClick:()=>C(S.supervisor._id),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded text-white hover:bg-gray-700 transition-colors",children:[S.supervisor.username," (Supervisor)"]})]})})]}):null})(),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:()=>Y(!0),className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-lg hover:scale-105","aria-label":"Minimize",children:n.jsx(T0,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Minimize"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[n.jsx("button",{onClick:t,className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-lg hover:scale-105","aria-label":"End Call",children:n.jsx(tn,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),n.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"End Call"})]})]})})]})})]})})},X5=({isVideoCallOpen:e,isCallMinimized:t,setIsCallMinimized:r,endVideoCall:a,isAudioOnly:o,activeChat:l,getChatAvatar:c,getChatTitle:d,localVideoRef:f,localStream:m,cameraStream:g,isScreenSharing:p,micEnabled:v,toggleMic:b,remoteStreams:j,callDuration:k=0})=>{if(!e||!t)return null;const N=Object.entries(j)[0]||null,S=C=>{const A=Math.floor(C/60),I=C%60;return`${A.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`};return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 bg-gray-900 rounded-2xl shadow-2xl border-2 border-gray-700 overflow-hidden cursor-pointer transition-transform hover:scale-105",style:{width:"320px",height:o?"120px":"240px"},onClick:()=>r(!1),children:o?n.jsx("div",{className:"w-full h-full flex items-center p-4 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center border-2 border-blue-500",children:n.jsxs(tr,{className:"w-full h-full",children:[c(l),n.jsx(wn,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:l?.participant?.username?.[0]?.toUpperCase()||"P"})]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-white font-medium text-sm",children:d(l)}),n.jsx("p",{className:"text-gray-400 text-xs",children:S(k)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:C=>{C.stopPropagation(),b()},className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-200 shadow-md ${v?"bg-gray-700 hover:bg-gray-600":"bg-red-500 hover:bg-red-600"}`,children:v?n.jsx(Po,{className:"w-4 h-4 text-white"}):n.jsx(Gl,{className:"w-4 h-4 text-white"})}),n.jsx("button",{onClick:C=>{C.stopPropagation(),a()},className:"w-9 h-9 rounded-full flex items-center justify-center bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-md",children:n.jsx(tn,{className:"w-4 h-4 text-white"})})]})]})}):n.jsxs("div",{className:"relative w-full h-full",children:[N?n.jsx("video",{ref:C=>{C&&N[1]&&(C.srcObject!==N[1]&&(C.srcObject=N[1]),C.play().catch(()=>{}))},autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:n.jsxs(tr,{className:"w-16 h-16",children:[c(l),n.jsx(wn,{children:l?.participant?.username?.[0]||"U"})]})}),n.jsx("div",{className:"absolute top-2 right-2 w-16 h-16 rounded-lg overflow-hidden bg-gray-900 border border-gray-700",children:n.jsx("video",{ref:C=>{if(C){const A=p?m:g||m;A&&C.srcObject!==A&&(C.srcObject=A,C.play().catch(()=>{}))}},autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute top-2 left-2 bg-black/70 px-2 py-1 rounded-md",children:n.jsx("p",{className:"text-white text-xs font-medium",children:S(k)})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("button",{onClick:C=>{C.stopPropagation(),b()},className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 shadow-md ${v?"bg-gray-700 hover:bg-gray-600":"bg-red-500 hover:bg-red-600"}`,children:v?n.jsx(Po,{className:"w-3.5 h-3.5 text-white"}):n.jsx(Gl,{className:"w-3.5 h-3.5 text-white"})}),n.jsx("button",{onClick:C=>{C.stopPropagation(),a()},className:"w-8 h-8 rounded-full flex items-center justify-center bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-md",children:n.jsx(tn,{className:"w-3.5 h-3.5 text-white"})})]}),n.jsx("p",{className:"text-white text-xs font-semibold truncate max-w-[120px]",children:d(l)}),n.jsx("button",{onClick:C=>{C.stopPropagation(),r(!1)},className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-all duration-200 shadow-md",children:n.jsx(BP,{className:"w-3.5 h-3.5 text-white"})})]})]})})},W5=({incomingCall:e,setIncomingCall:t,acceptRing:r,declineRing:a,getChatAvatar:o,getChatTitle:l})=>{const c=x.useRef(null);x.useEffect(()=>(e&&c.current?c.current.play().catch(m=>{console.log("Could not play ringtone:",m)}):!e&&c.current&&(c.current.pause(),c.current.currentTime=0),()=>{c.current&&(c.current.pause(),c.current.currentTime=0)}),[e]);const d=()=>{c.current&&(c.current.pause(),c.current.currentTime=0),r(e?.from,e?.roomKey,e?.isAudioOnly)},f=()=>{c.current&&(c.current.pause(),c.current.currentTime=0),a(e?.from,e?.roomKey)};return n.jsxs(n.Fragment,{children:[n.jsx("audio",{ref:c,loop:!0,preload:"auto",children:n.jsx("source",{src:"https://www.soundjay.com/phone/sounds/telephone-ring-04.mp3",type:"audio/mpeg"})}),n.jsx(_r,{open:!!e,onOpenChange:m=>{m||(c.current&&(c.current.pause(),c.current.currentTime=0),t(null))},children:n.jsxs(Xr,{className:"w-[90%] max-w-[380px] sm:max-w-md rounded-3xl bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 border-2 border-gray-200 dark:border-gray-700 shadow-2xl",children:[n.jsxs(an,{className:"sr-only",children:[n.jsx(sn,{children:"Incoming Call"}),n.jsxs(Ha,{children:["Incoming ",e?.isAudioOnly?"audio":"video"," call from ",l(e?.chat)]})]}),n.jsxs("div",{className:"flex flex-col items-center py-6 sm:py-8 px-4 sm:px-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${e?.isAudioOnly?"bg-green-100 dark:bg-green-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:[e?.isAudioOnly?n.jsx(ii,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):n.jsx(oc,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),n.jsx("span",{className:`text-sm font-medium ${e?.isAudioOnly?"text-green-700 dark:text-green-300":"text-blue-700 dark:text-blue-300"}`,children:e?.isAudioOnly?"Audio Call":"Video Call"})]})}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 animate-ping opacity-20"}),n.jsx("div",{className:"relative w-28 h-28 sm:w-32 sm:h-32 rounded-full overflow-hidden bg-gradient-to-br from-purple-500 to-blue-500 p-1 shadow-2xl",children:n.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-white dark:bg-gray-800",children:n.jsxs(tr,{className:"w-full h-full",children:[o(e?.chat),n.jsx(wn,{className:"text-3xl bg-gradient-to-br from-purple-500 to-blue-500 text-white",children:e?.chat?.participant?.username?.[0]?.toUpperCase()||"U"})]})})})]}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-center mb-2 text-gray-900 dark:text-white",children:l(e?.chat)||"Incoming Call"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-8 animate-pulse",children:"Calling..."}),n.jsxs("div",{className:"flex items-center gap-6 sm:gap-8",children:[n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("button",{onClick:f,className:"w-16 h-16 sm:w-18 sm:h-18 rounded-full bg-red-600 hover:bg-red-700 transition-all duration-200 flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-105 active:scale-95","aria-label":"Decline call",children:n.jsx(QP,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),n.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Decline"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("button",{onClick:d,className:"w-16 h-16 sm:w-18 sm:h-18 rounded-full bg-green-600 hover:bg-green-700 transition-all duration-200 flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-105 active:scale-95 animate-pulse","aria-label":"Accept call",children:n.jsx(ii,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),n.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Accept"})]})]})]})]})})]})},Mo="https://fyp-buddy.up.railway.app/",YS=Mo;function oW(){const{user:e}=it(O=>O.auth),{group:t}=it(O=>O.group),[r,a]=x.useState([]),[o,l]=x.useState({}),[c,d]=x.useState(null),[f,m]=x.useState(!0),[g,p]=x.useState({}),[v,b]=x.useState({}),[j,k]=x.useState(null),[N,S]=x.useState(""),[C,A]=x.useState(!1),[I,D]=x.useState(new Set),[T,B]=x.useState({}),[X,Y]=x.useState(!1),[K,le]=x.useState(!1),[L,W]=x.useState({open:!1,x:0,y:0,messageId:null,imageUrl:null}),[Q,Z]=x.useState({}),[U,G]=x.useState(!0),F=x.useRef(null),V=x.useRef(null),R=x.useRef(null),_=x.useRef(!0),$=x.useRef(null),z=x.useRef(null),ue=x.useRef(null),ve=x.useRef(null),re=x.useRef([]),ce=x.useRef(null),[Me,Ne]=x.useState(!1),Ce=x.useRef(null),[Ee,Re]=x.useState(null),Be=x.useRef(null),[$e,bt]=x.useState(null),jt=x.useRef(null),[mt,kt]=x.useState({}),Lt=x.useRef({}),Dr=x.useRef({}),Vt=x.useRef(new Set),Sr=x.useRef(new Set),Cr=x.useRef(!1),[Yt,on]=x.useState(!1),je=x.useRef(!1),[Le,tt]=x.useState(null),[dt,ht]=x.useState([]),[yr,ir]=x.useState(!0),[hr,rr]=x.useState(!0),[nr,pt]=x.useState(!1),[Er,br]=x.useState(!1),Ln=x.useMemo(()=>Object.entries(mt)[0]||null,[mt]),kn=x.useRef(null),[us,Vn]=x.useState(null),Qr=x.useRef(!0),zn=x.useRef(!0),[mn,Gn]=x.useState(!1),[oa,Tr]=x.useState(0),se=x.useRef(null),me=x.useRef(null),pe=x.useRef(null),Se=x.useMemo(()=>r.find(O=>O.id===c)||null,[r,c]),Fe=Array.isArray(o[c])?o[c]:[];g[c];const Ye=!!c&&!f&&!j,Ge=x.useCallback(O=>{try{const P=`chat_order_student_${e?._id||"anon"}`,M=localStorage.getItem(P);if(!M)return[...O].sort((oe,te)=>{const ne=oe.unreadCount||0,de=te.unreadCount||0;return ne>0&&de===0?-1:ne===0&&de>0?1:0});const q=JSON.parse(M);if(!Array.isArray(q)||!q.length)return[...O].sort((oe,te)=>{const ne=oe.unreadCount||0,de=te.unreadCount||0;return ne>0&&de===0?-1:ne===0&&de>0?1:0});const J=new Map(q.map((oe,te)=>[String(oe),te]));return[...O].sort((oe,te)=>{const ne=oe.unreadCount||0,de=te.unreadCount||0;if(ne>0&&de>0||ne===0&&de===0){const ye=J.has(String(oe.id))?J.get(String(oe.id)):Number.MAX_SAFE_INTEGER,ze=J.has(String(te.id))?J.get(String(te.id)):Number.MAX_SAFE_INTEGER;return ye-ze}return ne>0&&de===0?-1:ne===0&&de>0?1:0})}catch{return O}},[e?._id]),Ve=x.useCallback(O=>{try{const P=`chat_order_student_${e?._id||"anon"}`;localStorage.setItem(P,JSON.stringify(O.map(M=>M.id)))}catch{}},[e?._id]);x.useEffect(()=>{if(!Me)return;const O=()=>{if(!Ce.current)return;const M=Yt?Ee:$e||Ee;if(M)try{Ce.current.srcObject!==M&&(Ce.current.srcObject=M);const q=Ce.current.play();q&&typeof q.then=="function"&&q.catch(J=>{console.error("Error playing video:",J),setTimeout(O,100)})}catch(q){console.error("Error setting video stream:",q),setTimeout(O,100)}},P=setTimeout(O,50);return()=>clearTimeout(P)},[Me,Ee,$e,Yt]),x.useEffect(()=>{if(!Me)return;const O=Ln?Ln[1]:null;if(kn.current&&O)try{kn.current.srcObject!==O&&(kn.current.srcObject=O);const P=kn.current.play();P&&typeof P.then=="function"&&P.catch(()=>{})}catch{}},[Me,Ln]),x.useEffect(()=>{if(!Me)return;const O=Ce.current,P=Yt?Ee:$e||Ee;if(O&&P)try{O.srcObject!==P&&(O.srcObject=P);const M=O.play();M&&typeof M.then=="function"&&M.catch(()=>{})}catch{}else if(O&&!P)try{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(M=>{Re(q=>q||M),Be.current=Be.current||M,bt(q=>q||M),jt.current=jt.current||M;try{O.srcObject!==M&&(O.srcObject=M);const q=O.play();q&&typeof q.then=="function"&&q.catch(()=>{})}catch{}}).catch(()=>{})}catch{}},[Me,Ee,$e,Yt,nr,mt]),x.useEffect(()=>{const O=Object.keys(mt).length>0;return Me&&O&&!se.current?(console.log("[CALL TIMER] Starting timer - first participant connected"),me.current=Date.now(),Tr(0),se.current=setInterval(()=>{Tr(P=>P+1)},1e3)):!Me&&se.current&&(clearInterval(se.current),se.current=null,me.current=null,Tr(0)),()=>{se.current&&(clearInterval(se.current),se.current=null)}},[Me,mt]),x.useEffect(()=>{if(!Me)return;const P=setTimeout(()=>{const M=Ce.current,q=Yt?Ee:$e||Ee;if(M&&q)try{M.srcObject!==q&&(M.srcObject=q);const J=M.play();J&&typeof J.then=="function"&&J.catch(()=>{})}catch{}},150);return()=>clearTimeout(P)},[nr]),x.useEffect(()=>{if(!e?._id||!Mo)return;let O=!1;return(async()=>{m(!0);try{const M=localStorage.getItem("accessToken");if(!M){m(!1);return}const q=await De.get(`${Mo}/chat/rooms`,{headers:{Authorization:`Bearer ${M}`}});if(O)return;const J=q.data?.rooms||[],oe=Ge(J);a(oe),Ve(oe);const te=new Set,ne={};J.forEach(de=>{ne[de.id]=de.unreadCount||0,de.participants?.forEach(ye=>{ye.isOnline&&te.add(ye.id)})}),B(ne),D(te),l(de=>{const ye={...de};let ze=!1;return J.forEach(rt=>{ye[rt.id]||(ye[rt.id]=[],ze=!0)}),Object.keys(ye).forEach(rt=>{J.some(yt=>yt.id===rt)||(delete ye[rt],ze=!0)}),ze?ye:de});try{const de=sessionStorage.getItem("openRoomKey");if(de){const ye=oe.find(ze=>String(ze.id)===String(de));ye&&d(ye.id),sessionStorage.removeItem("openRoomKey")}}catch{}}catch(M){O||ee.error(M.response?.data?.message||M.message||"Unable to load chats")}finally{O||m(!1)}})(),()=>{O=!0}},[e?._id,t?.groupName]),x.useEffect(()=>{re.current=r},[r]),x.useEffect(()=>{ce.current=c},[c]),x.useEffect(()=>{Qr.current=yr},[yr]),x.useEffect(()=>{zn.current=hr},[hr]),x.useEffect(()=>{if(!r.length){d(null);return}c&&r.some(O=>O.id===c)},[r,c]),x.useEffect(()=>{if(!e?._id||!YS)return;const O=localStorage.getItem("accessToken");if(!O)return;const P=Xl(YS,{auth:{token:O},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return P.on("connect_error",M=>{console.error("Socket connection error:",M.message),k(`Connection failed: ${M.message}`)}),F.current=P,P.on("connect",()=>{console.log("Socket connected"),k(null)}),P.on("disconnect",M=>{console.log("Socket disconnected:",M),M==="io server disconnect"&&P.connect()}),P.on("reconnect",M=>{console.log("Socket reconnected after",M,"attempts"),k(null)}),P.on("reconnect_attempt",M=>{console.log("Reconnection attempt",M)}),P.on("reconnect_error",M=>{console.error("Reconnection error:",M),k("Reconnecting...")}),P.on("reconnect_failed",()=>{console.error("Reconnection failed"),k("Unable to reconnect. Please refresh the page.")}),P.on("connect_error",M=>{console.error("Connection error:",M),k(M.message||"Unable to connect to chat")}),P.on("chat:new-message",async M=>{try{if(!M||!M.roomKey){console.error("Invalid message received:",M);return}const te=(re.current.find(ye=>ye.id===M.roomKey)?.participants||[]).map(ye=>String(ye.id||ye._id||ye)).filter(Boolean);let ne;try{ne=await ac(M,M.roomKey,e?._id,te)}catch(ye){console.error("Error decrypting message:",ye),ne=M}l(ye=>{const ze=ye[ne.roomKey]||[];return ze.some(yt=>yt.id===ne.id||yt.timestamp===ne.timestamp&&yt.sender?.id===ne.sender?.id)?ye:{...ye,[ne.roomKey]:[...ze,ne]}});const de=ce.current;ne.sender.id!==e?._id&&(Xe(ne.roomKey,[ne.id]),ne.roomKey===de?Ke(ne.roomKey,[ne.id]):B(ye=>({...ye,[ne.roomKey]:(ye[ne.roomKey]||0)+1}))),a(ye=>{const ze=ye.findIndex(lt=>lt.id===ne.roomKey);if(ze<=0)return ye;const rt=ye[ze],yt=[...ye.slice(0,ze),...ye.slice(ze+1)],nt=[rt,...yt];try{Ve(nt)}catch{}return nt})}catch(q){console.error("Error processing new message:",q),M&&M.roomKey&&(l(J=>{const oe=J[M.roomKey]||[];return oe.some(ne=>ne.id===M.id)?J:{...J,[M.roomKey]:[...oe,M]}}),a(J=>{const oe=J.findIndex(ye=>ye.id===M.roomKey);if(oe<=0)return J;const te=J[oe],ne=[...J.slice(0,oe),...J.slice(oe+1)],de=[te,...ne];try{Ve(de)}catch{}return de}))}}),P.on("chat:rooms",M=>{if(!M||!Array.isArray(M))return;const q=Ge(M);a(q),Ve(q),m(!1);const J={},oe=new Set;M.forEach(te=>{J[te.id]=te.unreadCount||0,l(ne=>ne[te.id]?ne:{...ne,[te.id]:[]}),te.participants?.forEach(ne=>{const de=String(ne.id||ne._id||ne);ne.isOnline&&oe.add(de)})}),B(J),D(oe);try{const te=sessionStorage.getItem("openRoomKey");if(te){const de=q.find(ye=>String(ye.id)===String(te));de&&d(de.id),sessionStorage.removeItem("openRoomKey")}const ne=sessionStorage.getItem("incomingCall");if(ne){const de=JSON.parse(ne);if(de?.roomKey){const ye=q.find(ze=>String(ze.id)===String(de.roomKey))||null;tt({from:de.from,roomKey:de.roomKey,chat:ye,peers:de.peers,isAudioOnly:de.isAudioOnly})}sessionStorage.removeItem("incomingCall")}}catch{}}),P.on("rtc:ring",M=>{const{from:q,roomKey:J,peers:oe,isAudioOnly:te}=M||{};if(!q||!J)return;if(Me&&String(ce.current)===String(J)){console.log(`[RTC:RING] Ignoring incoming call - already in call from same room (${J})`);return}const ye=(re.current||[]).find(ze=>String(ze.id)===String(J))||null;tt({from:q,roomKey:J,chat:ye,peers:oe,isAudioOnly:te})}),P.on("rtc:ring:accept",async M=>{const{from:q,roomKey:J,peers:oe,isAccepter:te}=M||{};if(!q||!J||!ce.current||String(J)!==String(ce.current))return;const ne=Me&&Sr.current.has(String(J));if(!te&&!ne){console.log("[RTC:RING:ACCEPT] Ignoring accept event - not accepter and not in call");return}if(te){Cr.current=!1,console.log(`[RTC:RING:ACCEPT] We are accepting the call from ${q}`);const de=String(q);if(ht(ye=>ye.includes(de)?ye:[...ye,de]),Vt.current.add(de),Array.isArray(oe)&&oe.length>0&&(console.log(`[RTC:RING:ACCEPT] Adding ${oe.length} existing participants to call`),oe.forEach(ye=>{const ze=String(ye);ze!==String(e?._id)&&ze!==de&&(ht(rt=>rt.includes(ze)?rt:[...rt,ze]),Vt.current.add(ze))})),pt(!0),await Sn(de),Array.isArray(oe)&&oe.length>0)for(const ye of oe){const ze=String(ye);ze!==String(e?._id)&&ze!==de&&await Sn(ze)}}else if(ne){console.log(`[RTC:RING:ACCEPT] New participant ${q} joined our call`);const de=String(q);de!==String(e?._id)&&!Lt.current[de]&&(ht(ye=>ye.includes(de)?ye:[...ye,de]),Vt.current.add(de),pt(!0),await Sn(de))}}),P.on("rtc:ring:decline",M=>{const{from:q,roomKey:J}=M||{};if(!q||!J||!ce.current||String(J)!==String(ce.current))return;ht(te=>te.filter(ne=>ne!==q)),ee.error("Call declined"),Yn(Er?"audio_call":"video_call",0,"missed")}),P.on("rtc:offer",async M=>{try{const{from:q,roomKey:J,offer:oe}=M||{};if(!q||!J||!ce.current||String(J)!==String(ce.current)||!Sr.current.has(String(J)))return;const te=String(q);te!==String(e?._id)&&(Vt.current.has(te)||(console.log(`[RTC:OFFER] Adding participant ${te} to accepted list`),Vt.current.add(te),ht(ze=>ze.includes(te)?ze:[...ze,te])));let ne=Lt.current[q];if(!ne){ne=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),Lt.current[q]=ne;let ze=Be.current||jt.current;ze||(console.log("[RTC:OFFER] No local stream available, acquiring media..."),ze=await navigator.mediaDevices.getUserMedia({video:!Er,audio:!0}),Re(ze),Be.current=ze,bt(ze),jt.current=ze,setTimeout(()=>{if(Ce.current&&ze)try{Ce.current.srcObject=ze;const lt=Ce.current.play();lt&&typeof lt.then=="function"&&lt.catch(Bt=>{console.error("Error playing video in offer handler:",Bt),setTimeout(()=>{if(Ce.current&&ze)try{Ce.current.srcObject=ze,Ce.current.play().catch(()=>{})}catch{}},200)})}catch(lt){console.error("Error setting video in offer handler:",lt)}},100));const rt=ze.getTracks();if(rt.length===0){console.error("[RTC:OFFER] Stream has no tracks, cannot proceed");return}const yt=rt.find(lt=>lt.kind==="video"),nt=yt&&(yt.label.toLowerCase().includes("screen")||yt.label.toLowerCase().includes("window")||yt.label.toLowerCase().includes("monitor"));console.log(`[RTC:OFFER] Adding ${rt.length} tracks to peer connection for ${q} (isScreenSharing: ${je.current}, detected: ${nt})`),rt.forEach(lt=>{if(ne.getSenders().find(Bt=>Bt.track===lt)){console.log(`[RTC:OFFER] Track ${lt.kind} already added, skipping`);return}lt.kind==="audio"&&(lt.enabled=Qr.current),lt.kind==="video"&&(lt.enabled=zn.current),console.log(`[RTC:OFFER] Adding ${lt.kind} track (label: ${lt.label})`),ne.addTrack(lt,ze)}),ne.ontrack=lt=>{const Bt=lt.streams?.[0];Bt&&(console.log(`[RTC:OFFER] Received remote stream from ${q} with ${Bt.getTracks().length} tracks`),Vt.current.has(String(q))&&kt(Gt=>{const En={...Gt};return En[q]=Bt,console.log(`[RTC:OFFER] Updated remoteStreams, now have ${Object.keys(En).length} remote streams`),En}),lt.streams?.forEach(Gt=>{Gt.getTracks().forEach(En=>{En.onended=()=>{kt(Bn=>{const $n={...Bn};if($n[q]){const Sa=new MediaStream($n[q].getTracks().filter(Ga=>Ga!==En));Sa.getTracks().length>0?$n[q]=Sa:delete $n[q]}return $n})}})}))},ne.oniceconnectionstatechange=()=>{const lt=ne.iceConnectionState;console.log(`[RTC:OFFER] ICE connection state for ${q}: ${lt}`),(lt==="connected"||lt==="completed")&&pt(!1)},ne.onicecandidate=lt=>{lt.candidate&&F.current?.connected&&F.current.emit("rtc:candidate",{to:q,roomKey:J,candidate:lt.candidate})}}await ne.setRemoteDescription(new RTCSessionDescription(oe));const de=Dr.current[q]||[];if(de.length){console.log(`[RTC:OFFER] Processing ${de.length} queued ICE candidates for ${q}`);for(const ze of de)try{await ne.addIceCandidate(new RTCIceCandidate(ze))}catch{}Dr.current[q]=[]}const ye=await ne.createAnswer();await ne.setLocalDescription(ye),F.current?.connected&&F.current.emit("rtc:answer",{to:q,roomKey:J,answer:ye}),Ne(!0)}catch(q){console.error("Error handling offer:",q)}}),P.on("rtc:answer",async M=>{try{const{from:q,roomKey:J,answer:oe}=M||{};if(!q||!J||!ce.current||String(J)!==String(ce.current))return;const te=Lt.current[q];if(!te)return;await te.setRemoteDescription(new RTCSessionDescription(oe));const ne=Dr.current[q]||[];if(ne.length){for(const de of ne)try{await te.addIceCandidate(new RTCIceCandidate(de))}catch{}Dr.current[q]=[]}}catch{}}),P.on("rtc:candidate",async M=>{try{const{from:q,roomKey:J,candidate:oe}=M||{};if(!q||!J||!ce.current||String(J)!==String(ce.current)||!oe)return;const te=Lt.current[q];if(te&&te.remoteDescription)try{await te.addIceCandidate(new RTCIceCandidate(oe))}catch{}else{const ne=Dr.current[q]||[];Dr.current[q]=[...ne,oe]}}catch{}}),P.on("rtc:end",M=>{const{from:q,roomKey:J}=M||{};if(!q||!J||!ce.current||String(J)!==String(ce.current))return;const oe=Lt.current[q];oe&&(oe.close(),delete Lt.current[q]),kt(te=>{const ne={...te};return delete ne[q],ne})}),P.on("rtc:screen-share-update",M=>{const{roomKey:q,userId:J,isSharing:oe}=M||{};!q||!J||!ce.current||String(q)!==String(ce.current)||console.log(`[RTC:SCREEN-SHARE-UPDATE] User ${J} ${oe?"started":"stopped"} screen sharing`)}),P.on("chat:user-status",M=>{!M||!M.userId||(D(q=>{const J=new Set(q);return M.isOnline?J.add(String(M.userId)):J.delete(String(M.userId)),J}),a(q=>q.map(J=>{if(J.participants){const oe=J.participants.map(te=>String(te.id||te._id||te)===String(M.userId)?{...te,isOnline:M.isOnline}:te);return{...J,participants:oe}}return J})))}),P.on("chat:messages-read",M=>{l(q=>{const J={...q};return J[M.roomKey]&&(J[M.roomKey]=J[M.roomKey].map(oe=>M.messageIds.includes(oe.id)&&!oe.readBy?.includes(M.userId)?{...oe,readBy:[...oe.readBy||[],M.userId]}:oe)),J})}),P.on("chat:message-delivered",M=>{l(q=>{const J={...q};return J[M.roomKey]&&(J[M.roomKey]=J[M.roomKey].map(oe=>{if(M.messageId&&oe.id===M.messageId){const te=[...oe.deliveredTo||[]];return M.deliveredTo.forEach(ne=>{te.includes(ne)||te.push(ne)}),{...oe,deliveredTo:te}}else if(M.messageIds&&M.messageIds.includes(oe.id)){const te=[...oe.deliveredTo||[]];return M.deliveredTo.forEach(ne=>{te.includes(ne)||te.push(ne)}),{...oe,deliveredTo:te}}return oe})),J})}),P.on("chat:message-deleted",async M=>{l(q=>{const J={...q};return J[M.roomKey]&&(M.deleteForEveryone?J[M.roomKey]=J[M.roomKey].map(oe=>oe.id===M.messageId?{...oe,isDeleted:!0,text:"This message was deleted",attachments:[],contactData:null}:oe):J[M.roomKey]=J[M.roomKey].filter(oe=>oe.id!==M.messageId)),J})}),()=>{P.disconnect()}},[e?._id]);const Xe=x.useCallback((O,P)=>{!F.current?.connected||!P?.length||F.current.emit("chat:mark-delivered",{roomKey:O,messageIds:P},M=>{M?.success||console.error("Failed to mark messages as delivered")})},[]),Ke=x.useCallback((O,P)=>{!F.current?.connected||!P?.length||F.current.emit("chat:mark-read",{roomKey:O,messageIds:P},M=>{M?.success&&B(q=>{const J=q[O]||0,oe=Math.max(0,J-P.length);return{...q,[O]:oe}})})},[]),He=x.useCallback(async O=>{if(!O||!Mo||g[O])return;const P=localStorage.getItem("accessToken");if(P){p(M=>({...M,[O]:!0}));try{const M=await De.get(`${Mo}/chat/rooms/${O}/messages`,{headers:{Authorization:`Bearer ${P}`}}),oe=(r.find(ne=>ne.id===O)?.participants||[]).map(ne=>ne.id||ne._id||ne).filter(Boolean),te=await Promise.all((M.data?.messages||[]).map(ne=>ac(ne,O,e?._id,oe)));l(ne=>({...ne,[O]:te}))}catch(M){ee.error(M.response?.data?.message||M.message||"Unable to load messages")}finally{p(M=>({...M,[O]:!1}))}}},[g,r,e?._id]);x.useEffect(()=>{if(c)if(o[c]?.length){const O=o[c].filter(P=>P.sender.id!==e?._id&&!P.readBy?.includes(e?._id));O.length>0&&Ke(c,O.map(P=>P.id))}else He(c)},[c,o,He,e?._id,Ke]),x.useEffect(()=>(c&&o[c]?.length&&(z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{const O=o[c].filter(P=>P.sender.id!==e?._id&&!P.readBy?.includes(e?._id));O.length>0&&Ke(c,O.map(P=>P.id))},1e3)),()=>{z.current&&clearTimeout(z.current)}),[c,o,e?._id,Ke]);const qe=()=>{if(R.current&&c){const{scrollTop:O,scrollHeight:P,clientHeight:M}=R.current,q=P-O-M<50;_.current=q;const J={scrollTop:O,isAtBottom:q,timestamp:Date.now()};localStorage.setItem(`chat_scroll_${c}`,JSON.stringify(J))}},gt=()=>{if(R.current&&c){const O=localStorage.getItem(`chat_scroll_${c}`);if(O)try{const{scrollTop:P,isAtBottom:M}=JSON.parse(O);M?(Dt(),_.current=!0):(R.current.scrollTop=P,_.current=!1)}catch(P){console.error("Error restoring scroll position:",P)}else Dt(),_.current=!0}},Dt=()=>{V.current&&(V.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),_.current=!0)};x.useEffect(()=>{const O=()=>{qe()};return window.addEventListener("beforeunload",O),()=>window.removeEventListener("beforeunload",O)},[c]),x.useEffect(()=>{if(!(!c||!Fe.length))if(U){const O=setTimeout(()=>{gt(),G(!1)},100);return()=>clearTimeout(O)}else{const P=Fe[Fe.length-1]?.sender?.id===e?._id;if(_.current||P){const M=setTimeout(()=>{Dt()},100);return()=>clearTimeout(M)}}},[Fe.length,c,U,e?._id]),x.useEffect(()=>{const O=R.current;if(!O)return;let P;const M=()=>{if(O.scrollTop<50&&c&&(o[c]?.length||0)>0&&!v[c]){const te=c,ne=o[te]||[],de=ne[0]?.createdAt||ne[0]?.timestamp,ye=localStorage.getItem("accessToken");if(de&&ye){b(rt=>({...rt,[te]:!0}));const ze=O.scrollHeight;De.get(`${Mo}/chat/rooms/${te}/messages`,{params:{before:de,limit:50},headers:{Authorization:`Bearer ${ye}`}}).then(async rt=>{const lt=(r.find(Gt=>Gt.id===te)?.participants||[]).map(Gt=>Gt.id||Gt._id||Gt).filter(Boolean),Bt=await Promise.all((rt.data?.messages||[]).map(Gt=>ac(Gt,te,e?._id,lt)));l(Gt=>{const En=Gt[te]||[],Bn=Bt.filter($n=>!En.some(Sa=>Sa.id===$n.id));return{...Gt,[te]:[...Bn,...En]}}),setTimeout(()=>{const Gt=O.scrollHeight;O.scrollTop+=Gt-ze},0)}).finally(()=>{b(rt=>({...rt,[te]:!1}))})}}const{scrollTop:q,scrollHeight:J,clientHeight:oe}=O;_.current=J-q-oe<50,clearTimeout(P),P=setTimeout(()=>{qe()},200)};return O.addEventListener("scroll",M),()=>{O.removeEventListener("scroll",M),clearTimeout(P)}},[c]);const or=async(O=[],P="text",M=null)=>{const q=N.trim();if(!(!q&&!O.length&&!M)&&c){if(!F.current||!F.current.connected){ee.error("Chat connection unavailable");return}try{const J=Se||re.current.find(ye=>ye.id===c),te=(J?.participants||[]).map(ye=>ye.id||ye._id||ye).filter(Boolean);te.length===0&&e?._id&&J?.type!=="public"&&te.push(e._id);const de=await q5({text:q,messageType:P,attachments:O,contactData:M},c,e?._id,te);F.current.emit("chat:send",{roomKey:c,text:de.text||"",messageType:P,attachments:de.attachments||[],contactData:de.contactData||null,isEncrypted:!0},ye=>{ye?.success?S(""):ee.error(ye?.message||"Failed to send message")})}catch(J){console.error("Error sending message:",J),ee.error("Failed to send message. Please try again.")}}},Mr=async(O,P)=>{if(!(!O||!c)){le(!0);try{const M=localStorage.getItem("accessToken"),q=new FormData;q.append("file",O);const J=await De.post(`${Mo}/chat/upload`,q,{headers:{Authorization:`Bearer ${M}`,"Content-Type":"multipart/form-data"}});if(J.data?.success){const oe=J.data.attachment;or([oe],P),Y(!1)}else ee.error("Failed to upload file")}catch(M){ee.error(M.response?.data?.message||"Failed to upload file")}finally{le(!1)}}},er=O=>{const P=O.target.files?.[0];P&&(P.type.startsWith("image/")?Mr(P,"image"):ee.error("Please select an image file")),O.target.value=""},It=O=>{const P=O.target.files?.[0];P&&Mr(P,"document"),O.target.value=""},Fn=()=>{if(!e?._id){ee.error("User information not available");return}const O={userId:e._id,username:e.username,email:e.email,phone:e.phone||""};or([],"contact",O),Y(!1)},Nn=(O,P=!1)=>{if(!F.current?.connected){ee.error("Chat connection unavailable");return}F.current.emit("chat:delete",{messageId:O,deleteForEveryone:P},M=>{M?.success||ee.error(M?.message||"Failed to delete message"),Z(q=>({...q,[O]:!1}))})},Zr=(O,P)=>{const M=document.createElement("a");M.href=O,M.download=P||"image.jpg",M.target="_blank",document.body.appendChild(M),M.click(),document.body.removeChild(M)},Br=O=>{O&&window.open(O,"_blank","noopener,noreferrer")},In=(O,P,M)=>{O.preventDefault(),W({open:!0,x:O.clientX,y:O.clientY,messageId:P,imageUrl:M})};x.useEffect(()=>{const O=()=>{W({open:!1,x:0,y:0,messageId:null,imageUrl:null})};if(L.open)return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[L.open]);const Qt=O=>{d(O),A(!1),B(P=>({...P,[O]:0}))},ln=O=>O.type==="public"?n.jsx(mC,{className:"w-5 h-5 text-white"}):O.type==="group"?n.jsx(rn,{className:"w-5 h-5 text-white"}):n.jsx(Rn,{className:"w-5 h-5 text-white"}),Yn=async(O,P=null,M="completed")=>!c||!F.current?.connected?null:new Promise(q=>{const J=Se||re.current.find(de=>de.id===c),te=(J?.participants||[]).map(de=>de.id||de._id||de).filter(Boolean);te.length===0&&e?._id&&J?.type!=="public"&&te.push(e._id);const ne=O==="video_call"?P?`Video call (${cn(P)})`:"Video call":P?`Audio call (${cn(P)})`:"Audio call";F.current.emit("chat:send",{roomKey:c,text:ne,messageType:O,attachments:[],contactData:null,isEncrypted:!1,meta:{callDuration:P,callStatus:M}},de=>{de?.success?q(de.messageId):q(null)})}),cn=O=>{const P=Math.floor(O/3600),M=Math.floor(O%3600/60),q=O%60;return P>0?`${P}:${M.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`:`${M}:${q.toString().padStart(2,"0")}`},xt=async()=>{try{if(!Se){ee.error("No chat selected");return}const O=await Ur();if(bt(O),jt.current=O,Re(O),Be.current=O,ce.current=c,Sr.current.add(String(c)),Vt.current.add(String(e?._id)),Cr.current=!0,Ne(!0),setTimeout(()=>{if(Ce.current&&O)try{Ce.current.srcObject=O;const P=Ce.current.play();P&&typeof P.then=="function"&&P.catch(M=>{console.error("Error playing local video:",M),setTimeout(()=>{if(Ce.current&&O)try{Ce.current.srcObject=O,Ce.current.play().catch(()=>{})}catch{}},200)})}catch(P){console.error("Error setting local video:",P)}},100),Se.type==="individual"&&Se.participant)console.log(`[VIDEO CALL] Initiating call to ${Se.participant.id}`),F.current.emit("rtc:ring",{to:Se.participant.id,roomKey:c});else if(Se.type==="group"||Se.type==="public"){const M=(Se.participants||[]).map(J=>J.id||J._id).filter(J=>J&&String(J)!==String(e?._id));if(M.length===0){ee.error("No other participants in this chat"),$r();return}console.log(`[VIDEO CALL] Initiating group call to ${M.length} participants`);const q=[];M.forEach(J=>{F.current.emit("rtc:ring",{to:J,roomKey:c,peers:[...q]}),q.push(J)})}else ee.error("Unable to start call for this chat type"),$r()}catch(O){console.error("Error starting video call:",O),ee.error("Unable to access camera/microphone")}},lr=async()=>{try{if(!Se){ee.error("No chat selected");return}const O=await Ur(!0);if(Re(O),Be.current=O,bt(O),jt.current=O,br(!0),ce.current=c,Sr.current.add(String(c)),Vt.current.add(String(e?._id)),Cr.current=!0,Ne(!0),Se.type==="individual"&&Se.participant)console.log(`[AUDIO CALL] Initiating call to ${Se.participant.id}`),F.current.emit("rtc:ring",{to:Se.participant.id,roomKey:c,isAudioOnly:!0});else if(Se.type==="group"||Se.type==="public"){const M=(Se.participants||[]).map(q=>q.id||q._id).filter(q=>q&&String(q)!==String(e?._id));if(M.length===0){ee.error("No other participants in this chat"),$r();return}console.log(`[AUDIO CALL] Initiating group call to ${M.length} participants`),M.forEach(q=>{F.current.emit("rtc:ring",{to:q,roomKey:c,isAudioOnly:!0})})}else ee.error("Unable to start call for this chat type"),$r()}catch(O){console.error("Error starting audio call:",O),ee.error("Unable to access microphone")}},$r=()=>{try{const O=oa,P=se.current!==null;se.current&&(clearInterval(se.current),se.current=null),O>0&&Cr.current&&(Yn(Er?"audio_call":"video_call",O,"completed"),console.log("[CALL NOTIFICATION] Call ended with duration:",O)),Tr(0),me.current=null,pe.current=null,Ee&&Ee.getTracks().forEach(M=>M.stop()),$e&&$e!==Ee&&$e.getTracks().forEach(M=>M.stop()),Re(null),Be.current=null,bt(null),jt.current=null,on(!1),Ne(!1),br(!1),Gn(!1),Cr.current=!1,Object.values(Lt.current).forEach(M=>M.close()),Lt.current={},kt({}),F.current?.connected&&dt.length&&dt.forEach(M=>{F.current.emit("rtc:end",{to:M,roomKey:c,from:e?._id})}),ht([]),Vt.current.clear(),Sr.current.delete(String(c)),ce.current=null,pt(!1),ir(!0),rr(!0)}catch{}},Sn=async O=>{if(!F.current?.connected||!O)return;const P=ce.current||c;if(!P)return;let M=Be.current||jt.current;if(!M)try{console.log(`[CREATE OFFER] No stream available, acquiring media for ${O}...`);const de=await Ur(Er);bt(de),jt.current=de,Re(de),Be.current=de,M=de}catch{console.error(`[CREATE OFFER] Failed to acquire media for ${O}`);return}const q=M.getTracks();if(q.length===0){console.error(`[CREATE OFFER] Stream has no tracks for ${O}, cannot proceed`);return}const J=q.find(de=>de.kind==="video"),oe=J&&(J.label.toLowerCase().includes("screen")||J.label.toLowerCase().includes("window")||J.label.toLowerCase().includes("monitor"));console.log(`[CREATE OFFER] Creating peer connection for ${O} with ${q.length} tracks (isScreenSharing: ${je.current}, detected screen share: ${oe})`);let te=Lt.current[O];te||(te=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),Lt.current[O]=te,q.forEach(de=>{if(te.getSenders().find(ye=>ye.track===de)){console.log(`[CREATE OFFER] Track ${de.kind} already added to ${O}, skipping`);return}de.kind==="audio"&&(de.enabled=Qr.current),de.kind==="video"&&(de.enabled=zn.current),console.log(`[CREATE OFFER] Adding ${de.kind} track (label: ${de.label}) to peer connection for ${O}`),te.addTrack(de,M)}),te.ontrack=de=>{const ye=de.streams?.[0];ye&&(console.log(`[CREATE OFFER] Received remote stream from ${O} with ${ye.getTracks().length} tracks`),Vt.current.has(String(O))?kt(ze=>{const rt={...ze};return rt[O]=ye,console.log(`[CREATE OFFER] Updated remoteStreams for ${O}, now have ${Object.keys(rt).length} remote streams`),rt}):console.log(`[CREATE OFFER] Participant ${O} not in accepted list, not adding to remoteStreams`),de.streams?.forEach(ze=>{ze.getTracks().forEach(rt=>{rt.onended=()=>{kt(yt=>{const nt={...yt};if(nt[O]){const lt=new MediaStream(nt[O].getTracks().filter(Bt=>Bt!==rt));lt.getTracks().length>0?nt[O]=lt:delete nt[O]}return nt})}})}))},te.oniceconnectionstatechange=()=>{const de=te.iceConnectionState;console.log(`[CREATE OFFER] ICE connection state for ${O}: ${de}`),(de==="connected"||de==="completed")&&pt(!1)},te.onicecandidate=de=>{de.candidate&&F.current.emit("rtc:candidate",{to:O,roomKey:P,candidate:de.candidate})});const ne=await te.createOffer();await te.setLocalDescription(ne),console.log(`[CREATE OFFER] Sending offer to ${O}`),F.current.emit("rtc:offer",{to:O,roomKey:P,offer:ne,from:e?._id})},vr=async()=>{if(!(!Ee&&!$e))try{if(Yt){if($e){const O=$e.getVideoTracks()[0];O&&Object.values(Lt.current).forEach(async M=>{const q=M.getSenders().find(J=>J.track&&J.track.kind==="video");if(q)try{await q.replaceTrack(O)}catch(J){console.error("Error replacing track:",J)}}),Re($e),Be.current=$e,on(!1),je.current=!1;const P=ce.current||c;F.current?.connected&&P&&F.current.emit("rtc:screen-share",{roomKey:P,isSharing:!1})}}else{const O=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),P=O.getVideoTracks()[0],M=O.getAudioTracks()[0];if(!P)return;P.enabled=hr,M&&(M.enabled=yr);const q=$e?$e.getAudioTracks():Ee?Ee.getAudioTracks():[],J=new MediaStream([P,...M?[M]:q]);Object.values(Lt.current).forEach(async te=>{const ne=te.getSenders().find(de=>de.track&&de.track.kind==="video");if(ne)try{await ne.replaceTrack(P)}catch(de){console.error("Error replacing track:",de)}}),Re(J),Be.current=J,on(!0),je.current=!0;const oe=ce.current||c;F.current?.connected&&oe&&F.current.emit("rtc:screen-share",{roomKey:oe,isSharing:!0}),P.onended=async()=>{if($e){const te=$e.getVideoTracks()[0];te&&Object.values(Lt.current).forEach(async de=>{const ye=de.getSenders().find(ze=>ze.track&&ze.track.kind==="video");if(ye)try{await ye.replaceTrack(te)}catch(ze){console.error("Error replacing track:",ze)}}),Re($e),Be.current=$e,on(!1),je.current=!1;const ne=ce.current||c;F.current?.connected&&ne&&F.current.emit("rtc:screen-share",{roomKey:ne,isSharing:!1})}}}}catch{ee.error("Unable to share screen")}},la=async(O,P=null)=>{if(!O)return;Ee||(Er?await lr():await xt()),ht(J=>J.includes(O)?J:[...J,O]);const M=Object.keys(Lt.current),q=P||c;q?F.current.emit("rtc:ring",{to:O,roomKey:q,peers:M,isAudioOnly:Er}):console.error("No room key available for calling participant")},qa=async(O,P,M=!1)=>{try{let q=Ee||$e;if(q||(q=await Ur(M),Re(q),Be.current=q,bt(q),jt.current=q),br(M),ce.current=P,d(P),Sr.current.add(String(P)),Ne(!0),pt(!0),setTimeout(()=>{if(Ce.current&&q)try{Ce.current.srcObject=q;const te=Ce.current.play();te&&typeof te.then=="function"&&te.catch(ne=>{console.error("Error playing video on accept:",ne),setTimeout(()=>{if(Ce.current&&q)try{Ce.current.srcObject=q,Ce.current.play().catch(()=>{})}catch{}},200)})}catch(te){console.error("Error setting video on accept:",te)}},100),ht(te=>te.includes(O)?te:[...te,O]),Vt.current.add(String(O)),!Lt.current[O]){const te=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});Lt.current[O]=te,q.getTracks().forEach(ne=>{te.getSenders().find(de=>de.track===ne)||(ne.kind==="audio"&&(ne.enabled=Qr.current),ne.kind==="video"&&(ne.enabled=zn.current),te.addTrack(ne,q))}),te.ontrack=ne=>{const de=ne.streams?.[0];de&&(Vt.current.has(String(O))&&kt(ye=>{const ze={...ye};return ze[O]=de,ze}),ne.streams?.forEach(ye=>{ye.getTracks().forEach(ze=>{ze.onended=()=>{kt(rt=>{const yt={...rt};if(yt[O]){const nt=new MediaStream(yt[O].getTracks().filter(lt=>lt!==ze));nt.getTracks().length>0?yt[O]=nt:delete yt[O]}return yt})}})}))},te.oniceconnectionstatechange=()=>{const ne=te.iceConnectionState;(ne==="connected"||ne==="completed")&&pt(!1)},te.onicecandidate=ne=>{ne.candidate&&F.current?.connected&&F.current.emit("rtc:candidate",{to:O,roomKey:P,candidate:ne.candidate})}}const J=Array.isArray(Le?.peers)?Le.peers.map(String):[],oe=J.length?J:Object.keys(Lt.current);F.current.emit("rtc:ring:accept",{to:O,roomKey:P,peers:oe}),tt(null)}catch(q){console.error("Error accepting ring:",q),ee.error("Unable to start media")}},un=(O,P)=>{F.current.emit("rtc:ring:decline",{to:O,roomKey:P}),tt(null);const M=Le?.isAudioOnly?"audio_call":"video_call";Yn(M,0,"declined")},Ur=async(O=!1)=>{let P=null,M=null;if(O)try{M=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]}catch{throw new Error("Microphone unavailable")}else try{const q=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0}),J=q.getVideoTracks()[0],oe=q.getAudioTracks()[0];J&&(P=J),oe&&(M=oe)}catch{try{const J=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];J&&(P=J)}catch{}try{const J=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0];J&&(M=J)}catch{}}if(!P&&!M)throw new Error("Media devices unavailable");return new MediaStream([...P?[P]:[],...M?[M]:[]])},fo=()=>{const O=$e||Ee,P=O?O.getAudioTracks():[],M=!yr;P.forEach(q=>{q.enabled=M}),Object.values(Lt.current).forEach(q=>{q.getSenders().forEach(J=>{J.track&&J.track.kind==="audio"&&(J.track.enabled=M)})}),ir(M)},ds=()=>{const O=$e||Ee,P=O?O.getVideoTracks():[],M=!hr;P.forEach(q=>{q.enabled=M}),Object.values(Lt.current).forEach(q=>{q.getSenders().forEach(J=>{J.track&&J.track.kind==="video"&&(J.track.enabled=M)})}),rr(M)},pn=O=>{const P=O?.avatar||O?.participant?.profilePic;return P?n.jsx(Rr,{src:P}):null},Va=O=>O?O.type==="public"?"Public Chat":O.type==="individual"&&O.participant?.username?O.participant.username:O.name||"Chat":"Incoming Call",mi=()=>{const O={};if(!Se)return O;if((Se.participants||t?.members||t?.participants||[]).forEach(M=>{const q=String(M.id||M._id||M);O[q]={id:q,username:M.username||M.name,profilePic:M.profilePic,...M}}),t?.supervisor){const M=String(t.supervisor._id||t.supervisor.id);O[M]={id:M,username:t.supervisor.username||t.supervisor.name,profilePic:t.supervisor.profilePic,...t.supervisor}}return O},Ac=O=>{if(O.key==="Enter"&&!O.shiftKey){if(O.preventDefault(),!Ye)return;or()}},Cn=O=>{const P=new Date,M=new Date(O),q=P-M,J=Math.floor(q/6e4),oe=Math.floor(q/36e5),te=Math.floor(q/864e5);return J<1?"Just now":J<60?`${J}m ago`:oe<24?`${oe}h ago`:te<7?`${te}d ago`:M.toLocaleDateString([],{month:"short",day:"numeric"})},ho=O=>{const P=new Date(O),M=new Date,q=new Date(M.getFullYear(),M.getMonth(),M.getDate()),J=new Date(P.getFullYear(),P.getMonth(),P.getDate()),oe=Math.floor((q-J)/864e5);return oe===0?"Today":oe===1?"Yesterday":P.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})},ae=O=>{if(!Array.isArray(Fe)||!Fe.length)return!1;if(O===0)return!0;const P=Fe[O],M=Fe[O-1];return!P||!M?!0:P.sender.id!==M.sender.id||new Date(P.timestamp)-new Date(M.timestamp)>3e5};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Team Chat | FYP Buddy - Collaborate with Your Team",description:"Communicate with your FYP team members in real-time. Share files, make video calls, and collaborate effectively on your final year project.",keywords:"team chat, FYP collaboration, project communication, team messaging, video calls"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex-1 flex flex-col max-w-5xl mx-auto w-full",children:[n.jsx(V5,{activeChat:Se,isChatsOpen:C,setIsChatsOpen:A,onlineUsers:I,startAudioCall:lr,startVideoCall:xt,getChatAvatar:pn,getChatTitle:Va,getChatIcon:ln}),n.jsxs(Te,{className:"flex-1 flex flex-col mb-5 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border-none overflow-hidden",children:[n.jsx("div",{ref:R,className:`flex-1 overflow-y-auto p-6 space-y-4 
    bg-gradient-to-b from-gray-50/50 to-white 
    dark:from-gray-900/50 dark:to-gray-800 
    max-h-[70vh]`,children:f?n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx(wt,{className:"w-6 h-6 animate-spin text-purple-500"})}):Se?n.jsxs(n.Fragment,{children:[Fe.length===0&&n.jsxs("div",{className:"flex flex-col h-full items-center justify-center text-center px-6",children:[n.jsx(ni,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300 mb-2",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send a message to start the conversation"})]}),Fe.map((O,P)=>{const q=(O.sender||{}).id===e?._id,J=ae(P),oe={...O,activeChat:Se},te=new Date(O.timestamp||O.createdAt).toDateString(),ne=P>0?Fe[P-1]:null,de=ne?new Date(ne.timestamp||ne.createdAt).toDateString():null,ye=!de||te!==de;return n.jsxs(pr.Fragment,{children:[ye&&n.jsx("div",{className:"flex justify-center my-2",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:ho(O.timestamp||O.createdAt)})}),n.jsx(G5,{message:oe,isCurrentUser:q,showAvatar:J,user:e,deleteMenuOpen:Q,setDeleteMenuOpen:Z,contextMenu:L,setContextMenu:W,handleDeleteMessage:Nn,handleImageDownload:Zr,handleFilePreview:Br,handleImageContextMenu:In,formatTime:Cn})]},O.id||`${O.roomKey}-${P}`)}),n.jsx("div",{ref:V})]}):n.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:"Click the chat to open the conversation and start messaging"})}),n.jsx(Y5,{inputValue:N,setInputValue:S,canSendMessage:Ye,uploading:K,activeChat:Se,imageInputRef:ve,fileInputRef:ue,inputRef:$,isAttachmentMenuOpen:X,setIsAttachmentMenuOpen:Y,handleImageSelect:er,handleDocumentSelect:It,handleContactShare:Fn,handleSendMessage:or,handleKeyPress:Ac,connectionError:j,socketRef:F})]})]}),n.jsx(fm,{chats:r,activeChatId:c,roomsLoading:f,chatMessages:o,unreadCounts:T,onlineUsers:I,handleChatSelect:Qt,getChatAvatar:pn,getChatTitle:Va,getChatIcon:ln,isChatsOpen:C,setIsChatsOpen:A,isMobile:!0}),n.jsx(fm,{chats:r,activeChatId:c,roomsLoading:f,chatMessages:o,unreadCounts:T,onlineUsers:I,handleChatSelect:Qt,getChatAvatar:pn,getChatTitle:Va,getChatIcon:ln,isMobile:!1})]})}),n.jsx(K5,{isVideoCallOpen:Me,endVideoCall:$r,isConnecting:nr,remoteStreams:mt,activeChat:Se,isAudioOnly:Er,user:e,micEnabled:yr,cameraEnabled:hr,toggleMic:fo,toggleCamera:ds,localVideoRef:Ce,remoteVideoRef:kn,localStream:Ee,cameraStream:$e,isScreenSharing:Yt,toggleScreenShare:vr,group:t,addParticipantToCall:la,maximizedPeerId:us,setMaximizedPeerId:Vn,getChatAvatar:pn,getChatTitle:Va,firstRemoteEntry:Ln,isCallMinimized:mn,setIsCallMinimized:Gn,participantsMap:mi(),callDuration:oa}),n.jsx(X5,{isVideoCallOpen:Me,isCallMinimized:mn,setIsCallMinimized:Gn,endVideoCall:$r,isAudioOnly:Er,activeChat:Se,getChatAvatar:pn,getChatTitle:Va,localVideoRef:Ce,localStream:Ee,cameraStream:$e,isScreenSharing:Yt,micEnabled:yr,toggleMic:fo,remoteStreams:mt,callDuration:oa}),n.jsx(W5,{incomingCall:Le,setIncomingCall:tt,acceptRing:qa,declineRing:un,getChatAvatar:pn,getChatTitle:Va})]})}function Rh({status:e,isLate:t}){const r=String(e||"").toLowerCase();let a="bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",o=e||"Assigned";return r==="accepted"?(a="bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",o="Accepted"):r==="rejected"?(a="bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",o="Rejected"):r==="submitted"?(a="bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",o="Submitted"):t?(a="bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",o="Overdue"):(a="bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",o="Pending"),n.jsx("div",{className:`px-2 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wide ${a}`,children:o})}function px({open:e,onOpenChange:t,task:r,file:a,setFile:o,onSubmit:l,submitting:c,canSubmit:d}){return r?n.jsx(_r,{open:e,onOpenChange:t,children:n.jsxs(Xr,{className:"max-w-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl",children:[n.jsx(an,{children:n.jsxs(sn,{className:"text-lg font-semibold text-gray-900 dark:text-white text-center",children:[String(r.status||"").toLowerCase()==="rejected"?"Resubmit":"Submit"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Task"})]})}),n.jsxs("h3",{children:["Task Title: ",r.title||"Not mentioned"]}),n.jsxs("div",{className:"space-y-3 mt-2",children:[n.jsx(Ht,{children:"Description:"}),n.jsx(tl,{disabled:!0,rows:7,className:"text-sm resize-none overflow-y-auto break-words break-all",value:r.description,style:{resize:"none",maxHeight:"10rem",minHeight:"5rem"}}),n.jsx(st,{type:"file",accept:".pdf",onChange:f=>o(f.target.files[0])}),!d&&n.jsx("p",{className:"text-xs text-red-500",children:"Submission window closed. Late work is not allowed."}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(gA,{asChild:!0,children:n.jsx(Pe,{variant:"outline",className:"flex-1",children:"Cancel"})}),n.jsx(Pe,{onClick:l,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white",disabled:c||!d,children:c?"Submitting...":String(r.status||"").toLowerCase()==="rejected"?"Resubmit":"Submit"})]})]})]})}):null}function lW(){const{group:e}=it(D=>D.group),[t,r]=x.useState([]),[a,o]=x.useState(!1),[l,c]=x.useState(null),[d,f]=x.useState(null),[m,g]=x.useState(!1),p="https://fyp-buddy.up.railway.app/",v=localStorage.getItem("accessToken"),b=new Date().toISOString().split("T")[0],j=t.filter(D=>String(D.status||"").toLowerCase()==="accepted").length,k=t.filter(D=>{const T=String(D.status||"").toLowerCase(),B=String(D.dueDate).split("T")[0];return T!=="accepted"&&B<b}).length,N=t.filter(D=>{const T=String(D.status||"").toLowerCase(),B=String(D.dueDate).split("T")[0];return T==="assigned"&&B>=b}).length,S=t.length||0,C=S?Math.round(j/S*100):0;x.useEffect(()=>{(async()=>{if(e?._id){o(!0);try{const T=await De.get(`${p}/task/get-tasks/${e._id}`,{headers:{Authorization:`Bearer ${v}`},withCredentials:!0});T.data.success&&r(T.data.tasks||[])}catch(T){console.error(T)}finally{o(!1)}}})()},[e]);async function A(D){if(!d){ee.error("Please select a file to upload");return}const T=6*1024*1024;if(d.size>T){ee.error("File size exceeds 6MB limit. Please upload a smaller file.");return}const B=new FormData;B.append("file",d);try{g(!0);const X=D,Y=await De.put(`${p}/task/submit-task/${X}`,B,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"multipart/form-data"},withCredentials:!0});if(Y.data.success){ee.success("Submission uploaded successfully!"),c(null),f(null);const K=Y.data.task;r(le=>le.map(L=>L._id===D?K:L))}}catch(X){ee.error(X.response?.data?.message||"Failed to submit task")}finally{g(!1)}}async function I(D){try{const T=await De.delete(`${p}/task/remove-submission/${D}`,{headers:{Authorization:`Bearer ${v}`},withCredentials:!0});if(T.data?.success){ee.success("Submission removed");const B=T.data.task;r(X=>X.map(Y=>Y._id===D?B:Y))}}catch(T){ee.error(T.response?.data?.message||"Failed to remove submission")}}return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Assigned Tasks | FYP Buddy - Track Your Work",description:"View and manage your assigned FYP tasks. Track deadlines, submit work, upload files, and stay organized with your project responsibilities.",keywords:"assigned tasks, task management, project deadlines, student tasks, task submission, work tracking"}),n.jsx("div",{className:"min-h-screen mt-15 ",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex-1 flex flex-col gap-5",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 dark:text-white mb-1",children:["My"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Assigned"})," ","Tasks"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:"View and submit tasks assigned to your group."})]}),a?n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-12 text-center bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading tasks..."})]})}):e?._id?t.length===0?n.jsxs(Te,{className:"w-full max-w-6xl mx-auto p-12 text-center bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:[n.jsx(Bo,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No tasks yet assigned by supervisor for your group."})]}):n.jsxs(n.Fragment,{children:[n.jsxs(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-lg rounded-2xl mb-4 border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Overall Progress"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Accepted tasks out of total"})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 font-semibold",children:["Accepted: ",j]}),n.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-semibold",children:["Pending: ",N]}),n.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 font-semibold",children:["Overdue: ",k]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"w-full h-3 rounded-full bg-gray-400 dark:bg-gray-900 overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600",style:{width:`${C}%`}})}),n.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:[C,"% complete"]})]})]}),n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-4 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:t.map(D=>{const T=Math.ceil((new Date(D.dueDate)-new Date)/864e5),B=!!D.studentSubmission,X=T<0,Y=String(D.status||"").toLowerCase(),K=Y==="assigned"||Y==="submitted"||Y==="rejected",le=D.allowLateSubmission||!X,L=K&&le,W=Y==="accepted",Q=Y==="submitted"&&!D.reviewedAt;return n.jsx(Te,{className:"group relative overflow-hidden bg-gray-300 dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-gray-200 shadow-sm hover:shadow-xl transition-all duration-300 h-full flex flex-col",children:n.jsxs("div",{className:"p-5 flex flex-col gap-3 flex-1",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white text-center",children:D.title}),n.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mt-1",children:["Assigned: ",new Date(D.createdAt).toLocaleDateString()]})]}),W?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Supervisor Feedback"}),n.jsx(Rh,{status:D.status,isLate:!1})]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-2 rounded-md h-24 overflow-y-auto custom-scroll",children:D.feedback||"No feedback provided"})]}):Y==="rejected"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Supervisor Feedback"}),n.jsx(Rh,{status:D.status,isLate:X})]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-2 rounded-md h-24 overflow-y-auto custom-scroll",children:D.feedback||"No feedback provided"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Description"}),n.jsx(Rh,{status:D.status,isLate:X})]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-2 rounded-md h-24 overflow-y-auto custom-scroll",children:D.description||"No description provided"})]}),(Y==="assigned"||Y==="submitted"||Y==="rejected")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-xs mt-3 border-t pt-2 border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[n.jsx(On,{className:"w-3.5 h-3.5"}),n.jsxs("span",{children:["Due:"," ",new Date(D.dueDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[n.jsx(Fa,{className:"w-3.5 h-3.5"}),T<0?`${Math.abs(T)} days overdue`:T===0?"Due today":`${T} days left`]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ji,{className:"w-3.5 h-3.5"}),D.allowLateSubmission?"Late allowed":"No late work"]}),B&&Y!=="rejected"?n.jsxs("div",{className:"flex items-center gap-3",children:[" ",n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Fa,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:D.submissionStatus||(X?"Late":"On Time")})]}),D.reviewedAt&&Y!=="submitted"&&n.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Reviewed ",new Date(D.reviewedAt).toLocaleDateString()]})]}):n.jsx("div",{})]})]}),Y==="accepted"&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex items-center justify-between text-xs mt-3 border-t pt-2 border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[n.jsx(On,{className:"w-3.5 h-3.5"}),n.jsxs("span",{children:["Review:"," ",new Date(D.reviewedAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[n.jsx(Fa,{className:"w-3.5 h-3.5"}),D.submissionStatus]})]})}),n.jsxs("div",{className:"pt-2 mt-auto",children:[B?n.jsxs(Pe,{className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white",onClick:()=>{window.open(D.studentSubmission,"_blank")},children:[n.jsx(qi,{className:"w-4 h-4"}),"View Submission"]}):null,Q?n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[n.jsxs(_r,{open:l===D._id,onOpenChange:Z=>c(Z?D._id:null),children:[n.jsx(Fu,{asChild:!0,children:n.jsxs(Pe,{disabled:!L,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white disabled:opacity-60 disabled:cursor-not-allowed",children:[n.jsx(yh,{className:"w-4 h-4"}),"Replace File"]})}),n.jsx(px,{open:l===D._id,onOpenChange:Z=>c(Z?D._id:null),task:D,file:d,setFile:f,onSubmit:()=>A(D._id),submitting:m,canSubmit:L})]}),n.jsxs(Pe,{variant:"outline",className:"w-full flex items-center justify-center gap-2 border-red-300 text-red-600 hover:bg-red-50 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20",onClick:()=>I(D._id),children:[n.jsx(Ia,{className:"w-4 h-4"}),"Remove Files"]})]}):null,Y==="rejected"?n.jsxs(_r,{open:l===D._id,onOpenChange:Z=>c(Z?D._id:null),children:[n.jsx(Fu,{asChild:!0,children:n.jsxs(Pe,{disabled:!L,className:"w-full mt-2 flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white disabled:opacity-60 disabled:cursor-not-allowed",children:[n.jsx(yh,{className:"w-4 h-4"}),"Resubmit Task"]})}),n.jsx(px,{open:l===D._id,onOpenChange:Z=>c(Z?D._id:null),task:D,file:d,setFile:f,onSubmit:()=>A(D._id),submitting:m,canSubmit:L})]}):null,!B&&Y!=="rejected"?n.jsxs(_r,{open:l===D._id,onOpenChange:Z=>c(Z?D._id:null),children:[n.jsx(Fu,{asChild:!0,children:n.jsxs(Pe,{disabled:!L,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white disabled:opacity-60 disabled:cursor-not-allowed",children:[n.jsx(yh,{className:"w-4 h-4"}),"Submit Task"]})}),n.jsx(px,{open:l===D._id,onOpenChange:Z=>c(Z?D._id:null),task:D,file:d,setFile:f,onSubmit:()=>A(D._id),submitting:m,canSubmit:L})]}):null]})]})},D._id)})})})]}):n.jsxs(Te,{className:"w-full max-w-6xl mx-auto p-12 text-center bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:[n.jsx(Bo,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No group Found, please create or join a group to view assigned tasks."})]})]})]})})]})}function cW(){const{group:e}=it(j=>j.group),[t,r]=x.useState([]),[a,o]=x.useState(!1),[l,c]=x.useState(!0),d=sa(),f="https://fyp-buddy.up.railway.app/",m=localStorage.getItem("accessToken"),g=async()=>{c(!0);try{const j=await De.get(`${f}/group/my-group`,{headers:{Authorization:`Bearer ${m}`},withCredentials:!0,validateStatus:()=>!0});j.data.success?d(aa(j.data.group)):d(aa(null))}catch(j){const k=j.response?.data?.message||"Failed to fetch group data";ee.error(k)}finally{c(!1)}},p=async()=>{if(e?._id){o(!0);try{const j=await De.get(`${f}/grading/get-group-marks/${e._id}`,{headers:{Authorization:`Bearer ${m}`},withCredentials:!0});j.data.success?r(j.data.data):(r([]),ee.error(j.data.message||"No grades available"))}catch(j){const k=j.response?.data?.message||"Failed to fetch grades";ee.error(k)}finally{o(!1)}}};x.useEffect(()=>{g(),e&&p()},[]);const{progressGrades:v,defenceGrades:b}=x.useMemo(()=>{const j=t.filter(N=>N.phase==="Progress"),k=t.filter(N=>N.phase==="Defence");return{progressGrades:j,defenceGrades:k}},[t]);return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"My Grades | FYP Buddy - Track Your Performance",description:"View your FYP grades and evaluation results. Track your performance across milestones, tasks, and final assessments.",keywords:"FYP grades, project evaluation, academic performance, milestone grades, task scores"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex-1",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md mb-8",children:[n.jsxs("h1",{className:"text-4xl font-extrabold mb-2",children:["Group"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Grades"})]}),n.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"View your group's evaluation results for all members"})]}),n.jsx("div",{className:"max-w-6xl mx-auto space-y-8",children:l||a?n.jsx(Te,{className:"p-8 text-center text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800",children:"Loading group grades..."}):e?n.jsxs(n.Fragment,{children:[n.jsx(KS,{title:"Progress Phase Marks",gradesData:v}),n.jsx(KS,{title:"Defence Phase Marks",gradesData:b})]}):n.jsx(Te,{className:"p-8 text-center text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800",children:"Please create or join a group to see grades."})})]})]})})]})}const KS=({title:e,gradesData:t,icon:r})=>n.jsxs(Te,{className:"bg-white/80 dark:bg-gray-900/80 border border-white/20 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[" ",n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:e})})]}),t.length===0?n.jsx("p",{className:"p-6 text-center text-sm text-gray-500 dark:text-gray-400",children:"No marks have been submitted for this phase yet."}):n.jsxs(Ds,{children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"Student"}),n.jsx(Ct,{children:"Supervisor (20)"}),n.jsx(Ct,{children:"Coordinator (80)"}),n.jsx(Ct,{children:"Total (100)"})]})}),n.jsx(Os,{children:t.map(a=>n.jsxs(Wr,{children:[n.jsx(Et,{className:"py-2",children:n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:a.studentId?.username||"Unknown Student"})})}),n.jsx(Et,{className:"py-2 font-medium text-gray-500 dark:text-gray-300",children:a.supervisorMarks}),n.jsx(Et,{className:"py-2 font-medium text-gray-500 dark:text-gray-300",children:a.coordinatorMarks}),n.jsx(Et,{className:"py-2 font-medium font-bold text-gray-900 dark:text-gray-100",children:a.totalMarks})]},a._id))})]})]}),uW=()=>{const[e,t]=x.useState(!0),[r,a]=x.useState([]),[o,l]=x.useState([]);return x.useEffect(()=>{const c=[],d=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E2","#FF1744","#00E676"];for(let p=0;p<75;p++){const v=-60-Math.random()*60;c.push({id:`left-${p}`,startX:-5,startY:100,angle:v,velocity:600+Math.random()*400,animationDuration:3+Math.random()*2.5,animationDelay:Math.random()*.2,color:d[Math.floor(Math.random()*d.length)],size:8+Math.random()*10,rotation:Math.random()*360,shape:Math.random()>.5?"circle":"square"})}for(let p=0;p<75;p++){const v=-120-Math.random()*60;c.push({id:`right-${p}`,startX:105,startY:100,angle:v,velocity:600+Math.random()*400,animationDuration:3+Math.random()*2.5,animationDelay:Math.random()*.2,color:d[Math.floor(Math.random()*d.length)],size:8+Math.random()*10,rotation:Math.random()*360,shape:Math.random()>.5?"circle":"square"})}a(c);const f=[],m=["#FF6B6B","#4ECDC4","#FFD700","#FF1744","#00E676","#BB8FCE","#FFA07A"];for(let p=0;p<12;p++){const v=20+Math.random()*60,b=10+Math.random()*40,j=m[Math.floor(Math.random()*m.length)],k=Math.random()*4,N=[];for(let S=0;S<30;S++){const C=Math.PI*2*S/30;N.push({id:`fw-${p}-${S}`,angle:C,distance:80+Math.random()*40})}f.push({id:`fw-${p}`,x:v,y:b,color:j,delay:k,particles:N})}l(f);const g=setTimeout(()=>t(!1),6e3);return()=>clearTimeout(g)},[]),e?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none overflow-hidden",children:[o.map(c=>n.jsx("div",{className:"absolute",style:{left:`${c.x}%`,top:`${c.y}%`},children:c.particles.map(d=>{const f=Math.cos(d.angle)*d.distance,m=Math.sin(d.angle)*d.distance;return n.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:c.color,boxShadow:`0 0 10px ${c.color}`,animation:`fw-${d.id} 1s ease-out ${c.delay}s forwards`},children:n.jsx("style",{children:`
                  @keyframes fw-${d.id} {
                    0% { transform: translate(0,0); opacity:1; }
                    100% { transform: translate(${f}px, ${m}px); opacity:0; }
                  }
                `})},d.id)})},c.id)),r.map(c=>{const d=c.angle*Math.PI/180,f=c.startX+Math.cos(d)*c.velocity/10,m=c.startY+Math.sin(d)*c.velocity/10;return n.jsx("div",{className:"absolute",style:{left:`${c.startX}%`,top:`${c.startY}%`,width:`${c.size}px`,height:`${c.size}px`,backgroundColor:c.color,borderRadius:c.shape==="circle"?"50%":"0",animation:`conf-${c.id} ${c.animationDuration}s ease-out ${c.animationDelay}s forwards`,transform:`rotate(${c.rotation}deg)`},children:n.jsx("style",{children:`
              @keyframes conf-${c.id} {
                0% { opacity:1; transform: translate(0,0) rotate(${c.rotation}deg); }
                100% { opacity:0; transform: translate(${(f-c.startX)*10}px, ${(m-c.startY)*10}px) rotate(${c.rotation+720}deg); }
              }
            `})},c.id)}),n.jsxs("div",{className:"relative z-10 text-center animate-bounce-in",children:[n.jsx("div",{className:"text-7xl mb-6",children:""}),n.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 leading-tight animate-text-glow",style:{background:"linear-gradient(45deg, #FF6B6B, #4ECDC4, #45B7D1, #FFA07A)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Congratulations! on Completing Your Milestone!"})]}),n.jsx("style",{children:`
        @keyframes bounce-in {
          0% { transform: scale(0.3) translateY(-50px); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
        @keyframes text-glow {
          0%, 100% { filter: drop-shadow(0 4px 10px rgba(0,0,0,0.5)); }
          50% { filter: drop-shadow(0 4px 20px rgba(255,255,255,0.8)); }
        }
        .animate-bounce-in { animation: bounce-in 0.7s ease-out; }
        .animate-text-glow { animation: text-glow 2s infinite; }
      `})]}):null};function dW(){const{group:e}=it(Y=>Y.group),{milestone:t}=it(Y=>Y.milestone),r=sa();Na();const a="https://fyp-buddy.up.railway.app/",o=localStorage.getItem("accessToken"),[l,c]=x.useState(!1),[d,f]=x.useState({}),[m,g]=x.useState({}),[p,v]=x.useState({}),[b,j]=x.useState({}),k=x.useMemo(()=>["Proposal","Progress","Defence"],[]),N=async()=>{if(e?._id)try{const{data:Y}=await De.get(`${a}/milestone/get-my-milestone/${e._id}`,{headers:{Authorization:`Bearer ${o}`},withCredentials:!0});Y.success&&r(td(Y.milestone))}catch{ee.error("Failed to fetch milestone")}};x.useEffect(()=>{N();const Y=setInterval(N,15e3);return()=>clearInterval(Y)},[e?e._id:void 0]);const S=Y=>{if(!t)return{status:"locked",message:"Create or Join a Group to Get Started"};const K=k.indexOf(Y),le=k.indexOf(t.phase),L=t.submissionDeadline&&new Date(t.submissionDeadline)<new Date;if(t.phase==="Completed")return{status:"completed",message:"All milestones completed!"};if(K===le&&t.isSubmissionActive&&t.status==="Failed")return{status:"active",message:"Submission open for Failed Projects"};if(K===le&&t.isSubmissionActive)return{status:"active",message:"Submission window open"};if(t.status==="Failed"&&Y===t.phase&&!t.isSubmissionActive)return{status:"failed",message:"Phase failed - Waiting for resubmission"};if(K===le&&!t.isSubmissionActive&&t.status==="Under Review")return{status:"under-review",message:"Deadline passed - Under Review"};if(!t.isSubmissionActive&&K===le&&(!t.studentSubmission?.[Y.toLowerCase()]?.file||t.studentSubmission?.[Y.toLowerCase()]?.file==="")&&L)return{status:"Expired",message:"Deadline passed - No File Submitted"};if(t?.previousPhase?.title===Y&&t?.previousPhase?.status==="Completed")return{status:"completed",message:"Phase completed successfully!"};if(K===le)return{status:"waiting",message:"Awaiting submission window"};if(K>le)return{status:"locked",message:"Locked until prior phase is complete"};if(Y!==t.phase)return{status:"completed",message:"Phase completed successfully!"}},C=()=>{if(!t)return 0;if(t.phase==="Completed")return 100;const Y=t.phase,K=t.status;return Y==="Proposal"&&K==="Completed"?33.3:Y==="Progress"&&K==="Completed"?66.6:Y==="Defence"&&K==="Completed"?100:Y==="Proposal"?0:Y==="Progress"?33.3:Y==="Defence"?66.6:0},A=(Y,K)=>{const le=K.target.files[0];if(!le)return;if(le.type!=="application/pdf"){ee.error("Please select a PDF file");return}const L=6*1024*1024;if(le.size>L){ee.error("File size exceeds 6MB limit. Please upload a smaller file."),K.target.value="";return}f(W=>({...W,[Y]:le}))},I=async(Y,K=!1)=>{const le=d[Y];if(!le)return ee.error("Please select a file first");g(L=>({...L,[Y]:!0}));try{const L=new FormData;L.append("file",le),L.append("phase",Y),L.append("groupId",e._id);const W=await De.post(`${a}/milestone/upload-submission/${e._id}`,L,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"},withCredentials:!0});W.data.success&&(ee.success(W.data.message||"Submission successful"),f(Q=>({...Q,[Y]:null})),v(Q=>({...Q,[Y]:!1})),N())}catch(L){ee.error(L.response?.data?.message||"Submission failed")}finally{g(L=>({...L,[Y]:!1}))}},D=Y=>{c(!0),setTimeout(()=>c(!1),6e3),j(K=>({...K,[Y]:!0})),setTimeout(()=>j(K=>({...K,[Y]:!1})),3e4)},T=Y=>Y?new Date(Y).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"No deadline",B=Y=>Y?new Date(Y).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"No date",X=({phase:Y,isReplace:K})=>n.jsxs(n.Fragment,{children:[n.jsxs(Ht,{className:"text-sm font-bold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[n.jsx(yh,{className:"w-4 h-4"}),K?"Replace Document":"Upload Document"]}),n.jsx(st,{type:"file",accept:".pdf",onChange:le=>A(Y,le),disabled:m[Y]}),d[Y]&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/30 rounded-xl border border-green-300 dark:border-green-700",children:[n.jsx(qi,{className:"w-5 h-5 text-green-600"}),n.jsx("p",{className:"text-xs text-green-800 dark:text-green-300 truncate",children:d[Y].name})]}),n.jsx(Pe,{onClick:()=>I(Y,K),disabled:!d[Y]||m[Y],className:"w-full bg-gradient-to-r from-green-500 to-green-800 text-white font-bold py-4 rounded-xl shadow-xl",children:m[Y]?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ic,{className:"w-5 h-5 mr-2"}),K?"Replace Document":"Submit Document"]})}),K&&n.jsx(Pe,{variant:"ghost",className:"w-full text-gray-500 dark:text-gray-400 mt-2",onClick:()=>v(le=>({...le,[Y]:!1})),children:"Cancel Replace"})]});return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Project Milestones | FYP Buddy - Track Progress",description:"Monitor your FYP milestones and track project progress. Submit deliverables, stay on schedule with important deadlines, and achieve your thesis goals.",keywords:"project milestones, progress tracking, FYP deadlines, thesis milestones, deliverables, project phases"}),n.jsxs("div",{className:"min-h-screen mt-15",children:[l&&n.jsx(uW,{}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex-1",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md mb-8",children:[n.jsxs("h1",{className:"text-4xl font-extrabold mb-2",children:["Milestone"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Management"})]}),n.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Track your FYP milestones and submit your work"})]}),n.jsxs(Te,{className:"max-w-6xl mx-auto mb-6 p-6 shadow-lg rounded-2xl bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[n.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-100",children:"Milestone Progress"}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"font-medium text-purple-600",children:"Proposal:"})," 33.3% |"," ",n.jsx("span",{className:"font-medium text-blue-600",children:"Progress:"})," 33.3% |"," ",n.jsx("span",{className:"font-medium text-indigo-600",children:"Defence:"})," 33.3%"]})]}),n.jsx("div",{className:"w-full h-3 rounded-full bg-gray-400 dark:bg-gray-900 overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 transition-[width] duration-700 ease-in-out",style:{width:`${C()}%`}})}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[C().toFixed(1),"% Completed"]})})]}),n.jsxs(Te,{className:"max-w-6xl mx-auto p-8 shadow-2xl rounded-3xl bg-white/80 dark:bg-gray-900/80 border border-white/20 dark:bg-gray-900",children:[n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:k.map((Y,K)=>{const le=S(Y),L=le.status==="completed",W=le.status==="active",Q=le.status==="under-review",Z=le.status==="failed",U=le.status==="Expired",G=Y.toLowerCase(),F=t?.studentSubmission?.[G]?.file;return n.jsxs(Te,{className:`relative overflow-hidden rounded-2xl border-2 shadow-xl transition-all duration-300 dark:bg-gray-800 ${L||W?"border-green-400":Q?"border-yellow-400":Z||U?"border-red-400":"border-gray-400"}`,children:[n.jsx("div",{className:"absolute top-1 right-1 w-10 h-10 rounded-full bg-white/80 dark:bg-gray-800/80 flex items-center justify-center font-bold text-lg",children:n.jsx("span",{className:L||W?"text-green-600":Q?"text-yellow-600":Z||U?"text-red-600":"text-gray-400",children:K+1})}),n.jsxs("div",{className:"p-6 flex flex-col gap-2 h-full ",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[n.jsx("h3",{className:`text-2xl font-black ${L||W?"text-green-600":Q?"text-yellow-600":Z||U?"text-red-600":"text-gray-600"}`,children:Y}),n.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap shadow-md ${L||W?"bg-green-500 text-white":Q?"bg-yellow-500 text-white":Z?"bg-red-500 text-white":le.status==="locked"?"bg-gray-500 text-white":U?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:L?" Completed":W?"Active":Q?"Under Review":Z?" Failed":le.status==="locked"?" Locked":U?"  Expired":"Waiting"})]}),n.jsx("div",{className:`p-4 rounded-xl text-sm font-medium ${L||W?"bg-green-200 dark:bg-green-900/30":Q?"bg-yellow-200 dark:bg-yellow-900/30":Z?"bg-red-200 dark:bg-red-900/30":le.status==="locked"?"bg-gray-200 dark:bg-gray-700/50":le.status==="waiting"?"bg-blue-200 dark:bg-blue-700/20":U?"bg-red-200 dark:bg-red-900/30":"bg-gray-200 dark:bg-gray-800/60"}`,children:le.message}),W&&t?.isSubmissionActive&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-white/90 dark:bg-gray-800/90 border-2 border-green-200 dark:border-green-700 flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Deadline"}),n.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:T(t.submissionDeadline)})]})]}),t?.conductionDate&&n.jsxs("div",{className:"p-4 rounded-xl bg-white/90 dark:bg-gray-800/90 border-2 border-green-200 dark:border-green-700 flex items-center gap-2",children:[n.jsx(Fa,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Conduction Date"}),n.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:B(t.conductionDate)})]})]})]}),Q&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-white/90 dark:bg-gray-800/90 border-2 border-yellow-200 dark:border-yellow-700",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(On,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Submission Deadline"})]}),n.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:T(t.submissionDeadline)})]}),t?.conductionDate&&n.jsxs("div",{className:"p-4 rounded-xl bg-white/90 dark:bg-gray-800/90 border-2 border-yellow-200 dark:border-yellow-700",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Fa,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Conduction Date"})]}),n.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:B(t.conductionDate)})]})]}),Z&&n.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border-2 border-red-300 dark:border-red-700",children:n.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/40 flex items-center justify-center",children:n.jsx(Ku,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-red-900 dark:text-red-300 mb-1",children:"Phase Failed"}),n.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"Please wait for the coordinator to reopen submissions for failed projects."})]})]})}),le.status==="waiting"&&n.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-dashed border-blue-300 dark:border-blue-700",children:n.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center",children:n.jsx(Fa,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 animate-pulse"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-300 mb-1",children:"Submission Window Not Open"}),n.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"The coordinator hasn't opened submissions yet. Please check back later."})]})]})}),U&&n.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-br from-red-50 to-red-5=100 dark:from-red-900/20 dark:to-red-800/20 border-2 border-dashed border-red-300 dark:border-red-700",children:n.jsxs("div",{className:"flex flex-col items-center text-center gap-3",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/40 flex items-center justify-center",children:n.jsx(Fa,{className:"w-8 h-8 text-red-600 dark:text-red-400 animate-pulse"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-red-700 dark:text-red-300 mb-1",children:"Submission Window Dealine Passed"}),n.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"The submission deadline has passed and no file was submitted for this phase. Please contact your coordinator for further assistance."})]})]})}),n.jsxs("div",{className:"mt-auto space-y-3",children:[W&&t?.isSubmissionActive&&(!F||p[Y]?n.jsx(X,{phase:Y,isReplace:p[Y]}):n.jsxs(n.Fragment,{children:[n.jsxs(Pe,{className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold py-4 rounded-xl shadow-xl",onClick:()=>window.open(t?.studentSubmission?.[G]?.file,"_blank"),children:[n.jsx(qi,{className:"w-5 h-5 mr-2"})," View Current Submission"]}),n.jsxs(Pe,{variant:"outline",className:"w-full border-2 border-green-400 text-green-600 dark:border-green-600 dark:text-green-300 dark:hover:bg-gray-800",onClick:()=>{v(V=>({...V,[Y]:!0}))},children:[n.jsx(ic,{className:"w-5 h-5 mr-2"})," Replace Submission"]})]})),Q&&F&&n.jsxs(Pe,{className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold py-4 rounded-xl shadow-xl",onClick:()=>window.open(t?.studentSubmission?.[G]?.file,"_blank"),children:[n.jsx(qi,{className:"w-5 h-5 mr-2"})," View Submitted Document"]}),Z&&F&&n.jsxs(Pe,{className:"w-full bg-gradient-to-r from-red-600 to-rose-600 text-white font-bold py-4 rounded-xl shadow-xl",onClick:()=>window.open(t?.studentSubmission?.[G]?.file,"_blank"),children:[n.jsx(qi,{className:"w-5 h-5 mr-2"})," View Previous Submission"]}),L&&n.jsxs(n.Fragment,{children:[n.jsxs(Pe,{className:"w-full bg-gradient-to-r from-green-500 to-green-800 text-white font-bold py-4 rounded-xl shadow-xl",onClick:()=>window.open(t?.studentSubmission?.[G]?.file,"_blank"),children:[n.jsx(qi,{className:"w-5 h-5 mr-2"})," View Submitted File"]}),n.jsx(Pe,{onClick:()=>D(Y),disabled:b[Y],className:"w-full bg-gradient-to-r from-green-500 to-green-800 text-white font-bold py-4 rounded-xl shadow-xl disabled:opacity-50",children:b[Y]?n.jsxs(n.Fragment,{children:[n.jsx(Fa,{className:"w-5 h-5 mr-2"})," Wait 30s..."]}):n.jsxs(n.Fragment,{children:[n.jsx(wC,{className:"w-5 h-5 mr-2"})," Celebrate"," ",Y,"!"]})})]}),le.status==="locked"&&n.jsxs("div",{className:"rounded-xl bg-gray-100 dark:bg-gray-800 p-6 border-2 border-dashed border-gray-300 text-center",children:[n.jsx(sc,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Locked"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Complete previous phases to unlock"})]})]})]})]},Y)})}),n.jsxs(Te,{className:"mt-8 p-6 bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-white/50 shadow-lg",children:[n.jsxs("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4 flex items-center gap-3",children:[n.jsx(Bo,{className:"w-6 h-6 text-blue-600"}),"Milestone Instructions"]}),n.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsx("li",{className:"p-3 bg-white/50 dark:bg-gray-700/30 rounded-lg",children:" Ensure uploaded files are supervisor-approved."}),n.jsx("li",{className:"p-3 bg-white/50 dark:bg-gray-700/30 rounded-lg",children:" Unapproved submissions may result in mark deduction."}),n.jsx("li",{className:"p-3 bg-white/50 dark:bg-gray-700/30 rounded-lg",children:" Wait for coordinator review after submission."}),n.jsx("li",{className:"p-3 bg-white/50 dark:bg-gray-700/30 rounded-lg",children:" Milestone Progress depends on in-uni event results."})]})]})]})]})]})]})]})}function fW(){const{user:e}=it(_=>_.auth),{group:t}=it(_=>_.group),r="https://fyp-buddy.up.railway.app/",a=localStorage.getItem("accessToken"),[o,l]=x.useState(!1),[c,d]=x.useState(null),[f,m]=x.useState([]),[g,p]=x.useState(""),[v,b]=x.useState([]),[j,k]=x.useState(!1),[N,S]=x.useState({}),[C,A]=x.useState(1),[I,D]=x.useState(25),T=async()=>{try{l(!0);const _=await De.get(`${r}/thesis/all-github-files`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});m(_.data.success?_.data.files||[]:[])}catch(_){console.error("Error fetching thesis files:",_),ee.error("Error loading thesis files")}finally{l(!1)}},B=async()=>{if(t?._id)try{const _=await De.get(`${r}/milestone/get-my-milestone/${t._id}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});_.data.success&&d(_.data.milestone)}catch(_){console.error(_),ee.error("Failed to fetch milestone")}},X=async _=>{if(_)try{k(!0);const $=await De.get(`${r}/sample-documents`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});if($.data.success){const ue=($.data.data||[]).filter(ve=>ve.phase===_);b(ue)}else b([])}catch($){console.error("Error fetching sample documents:",$),b([])}finally{k(!1)}};x.useEffect(()=>{T()},[]),x.useEffect(()=>{t?._id&&B()},[t]),x.useEffect(()=>{c?.phase&&X(c.phase)},[c]);const Y=_=>{if(!_)return{icon:hn,color:"text-gray-500",label:"File"};const $=_.toLowerCase();return $.endsWith(".pdf")?{icon:hn,color:"text-red-600",label:"PDF"}:$.endsWith(".doc")||$.endsWith(".docx")?{icon:Mx,color:"text-blue-600",label:"Word"}:$.endsWith(".ppt")||$.endsWith(".pptx")?{icon:Mx,color:"text-orange-600",label:"PPTX"}:{icon:hn,color:"text-gray-500",label:"File"}},K=_=>_?new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",le=async _=>{try{const $=_.file,z=_.fileName||"document",ue=z.split(".").pop().toLowerCase(),ve=`${$}?fl_attachment=${encodeURIComponent(z)}`,re=await fetch(ve);if(!re.ok)throw new Error("File not found");const ce=await re.blob(),Me=URL.createObjectURL(ce),Ne=document.createElement("a");Ne.href=Me,Ne.download=z,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),setTimeout(()=>URL.revokeObjectURL(Me),1e3)}catch($){console.error("Error opening document:",$),ee.error("Error opening document")}},L=async _=>{S($=>({...$,[_]:!0}));try{const $=await De.get(`${r}/thesis/see-github-file/${encodeURIComponent(_)}`,{headers:{Authorization:`Bearer ${a}`},responseType:"blob",withCredentials:!0}),z=new Blob([$.data],{type:"application/pdf"}),ue=URL.createObjectURL(z);window.open(ue,"_blank")}catch($){console.error("Error viewing file:",$),ee.error("Error opening file")}finally{S($=>({...$,[_]:!1}))}},W=f.filter(_=>_.name.toLowerCase().includes(g.toLowerCase())),Q=Math.ceil(W.length/I),Z=(C-1)*I,U=Z+I,G=W.slice(Z,U);x.useEffect(()=>{A(1)},[g,I]);const F=()=>{A(_=>Math.max(_-1,1))},V=()=>{A(_=>Math.min(_+1,Q))},R=_=>{D(Number(_.target.value))};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Thesis Documents | FYP Buddy - Manage Your Research",description:"Access and manage your FYP thesis documents. View sample documents, upload submissions, and track your research progress.",keywords:"thesis documents, FYP research, academic writing, thesis submission, sample documents"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"student"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md mb-8",children:[n.jsxs("h1",{className:"text-4xl font-extrabold mb-2",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Thesis"})," ","Section"]}),n.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Browse and view all submitted thesis documents"})]}),n.jsx(Te,{className:"p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700",children:t?j?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(wt,{className:"w-8 h-8 animate-spin text-purple-600"})}):v.length===0?n.jsxs("div",{className:"flex flex-col items-center py-10 text-center",children:[n.jsx(ja,{className:"w-10 h-10 text-gray-400 mb-3"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No sample documents shared by coordinator yet for"," ",n.jsx("span",{className:"font-semibold",children:c?.phase})," phase."]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center gap-3 mb-6",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Sample Documents"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Shared for Coordinator for phase: ",c?.phase]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:v.map(_=>{const $=Y(_.fileName),z=$.icon;return n.jsxs(Te,{className:"p-5 border-2 border-gray-500 dark:border-gray-700 bg-gray-200 dark:bg-gray-800 transition-all rounded-2xl",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-gray-200 dark:bg-gray-800",children:n.jsx(z,{className:`w-6 h-6 ${$.color}`})}),n.jsx(Mn,{variant:"outline",className:"text-xs font-medium",children:$.label})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 overflow-y-auto pr-1 rounded-md",style:{height:"50px",scrollbarWidth:"thin",scrollbarColor:"#9ca3af transparent"},children:_.description||"No description provided."}),n.jsxs("div",{className:"text-xs flex items-center gap-2",children:[n.jsx(hn,{className:"w-3 h-3"})," ",_.fileName]}),n.jsxs("div",{className:"text-xs flex items-center gap-2",children:[n.jsx(On,{className:"w-3 h-3"})," ",K(_.createdAt)]}),n.jsxs(Pe,{onClick:()=>le(_),className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-medium",size:"sm",children:[n.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Download"]})]},_._id)})})]}):n.jsxs("div",{className:"flex flex-col items-center py-10 text-center",children:[n.jsx(Bo,{className:"w-10 h-10 text-gray-400 mb-3"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Youre not part of any group yet. ",n.jsx("br",{}),n.jsx("span",{className:"font-semibold",children:"Create or join a group"})," to view sample documents."]})]})}),n.jsxs(Te,{className:"p-4 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Previous FYP Documents"}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total files: ",W.length]})]}),n.jsxs("div",{className:"relative w-full sm:w-auto sm:min-w-[300px]",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(st,{value:g,onChange:_=>p(_.target.value),placeholder:"Search by file name...",className:"pl-10 h-10 border dark:border-gray-700"})]})]}),o?n.jsxs("div",{className:"text-center py-10",children:[n.jsx(wt,{className:"w-8 h-8 animate-spin text-purple-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-3",children:"Loading thesis files..."})]}):W.length===0?n.jsxs("div",{className:"text-center py-10",children:[n.jsx(Bo,{className:"w-10 h-10 text-gray-400 mb-3 mx-auto"}),n.jsx("p",{className:"text-gray-500",children:"No thesis files found in the repository."})]}):n.jsx("div",{className:"overflow-auto",children:n.jsxs(Ds,{children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"File Name"}),n.jsx(Ct,{className:"text-center",children:"Actions"})]})}),n.jsx(Os,{children:G.map(_=>n.jsxs(Wr,{className:"hover:bg-gray-50 dark:hover:bg-gray-900/40",children:[n.jsxs(Et,{className:"flex items-center gap-2",children:[n.jsx(hn,{className:"w-4 h-4 text-red-600"}),_.name]}),n.jsx(Et,{children:n.jsx("div",{className:"flex items-center justify-center gap-2",children:n.jsx(Pe,{size:"sm",variant:"outline",onClick:()=>L(_.path),className:"flex items-center gap-2 border-gray-700 dark:border-gray-200 w-20 justify-center cursor-pointer",children:N[_.path]?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-purple-600"}):n.jsxs(n.Fragment,{children:[n.jsx(ba,{className:"w-3 h-3"}),"View"]})})})})]},_.path))})]})}),!o&&W.length>0&&n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Show"}),n.jsxs("select",{value:I,onChange:R,className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 text-sm bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"entries"})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:["Showing ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:Z+1})," to"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:Math.min(U,W.length)})," of"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:W.length})," files"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pe,{variant:"outline",size:"sm",onClick:F,disabled:C===1,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Previous"}),n.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:C}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:Q})]}),n.jsx(Pe,{variant:"outline",size:"sm",onClick:V,disabled:C===Q,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})]})]})]})})]})}function hW(){const{user:e}=it(k=>k.auth),t="https://fyp-buddy.up.railway.app/",r=localStorage.getItem("accessToken"),[a,o]=x.useState([]),[l,c]=x.useState([]),[d,f]=x.useState([]),[m,g]=x.useState(0),[p,v]=x.useState(!1),b=Na(),j=sa();return x.useEffect(()=>{const k=async()=>{try{const C=await De.get(`${t}/supervisor/get-requests`,{headers:{Authorization:`Bearer ${r}`}});C.data.success&&o(C.data.Supervisionrequests)}catch(C){console.error("Error fetching invitations:",C)}},N=async()=>{try{const C=await De.get(`${t}/supervisor/my-groups`,{headers:{Authorization:`Bearer ${r}`}});C.data.success&&(j(_U(C.data.groups)),c(C.data.groups||[]))}catch(C){console.error("Error fetching groups:",C)}},S=async()=>{try{const C=await De.get(`${t}/chat/unread-counts`,{headers:{Authorization:`Bearer ${r}`}});if(C.data.success){const A=Object.values(C.data.unreadCounts).reduce((I,D)=>I+D,0);g(A)}}catch(C){console.error("Error fetching unread messages:",C)}};k(),N(),S()},[r,t]),x.useEffect(()=>{(async()=>{if(!l||l.length===0){f([]);return}try{const N=[],S=l.map(A=>De.get(`${t}/task/get-tasks/${A._id}`,{headers:{Authorization:`Bearer ${r}`}}).then(I=>({group:A,tasks:I.data?.tasks||[]})).catch(()=>({group:A,tasks:[]})));(await Promise.all(S)).forEach(({group:A,tasks:I})=>{I.forEach(D=>{D.status==="Submitted"&&D.submittedAt&&N.push({type:"submitted",groupName:A.fypTitle||A.groupName||"Group",taskTitle:D.title,when:new Date(D.submittedAt),timestamp:D.submittedAt}),(D.status==="Accepted"||D.status==="Rejected")&&D.reviewedAt&&N.push({type:D.status.toLowerCase(),groupName:A.fypTitle||A.groupName||"Group",taskTitle:D.title,when:new Date(D.reviewedAt),timestamp:D.reviewedAt})})}),N.sort((A,I)=>I.when-A.when),f(N.slice(0,10))}catch{f([])}})()},[l,t,r]),n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Supervisor Dashboard | FYP Buddy - Manage Student Projects",description:"Supervisor dashboard for FYP Buddy. Review supervision requests, manage student groups, assign tasks, grade submissions, and monitor project progress.",keywords:"supervisor dashboard, FYP supervision, student management, project grading, task assignment, thesis supervision"}),n.jsxs("div",{className:"min-h-screen mt-15",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"supervisor"}),n.jsxs("div",{className:"flex flex-col xl:flex-row flex-1 gap-5 overflow-hidden",children:[n.jsxs("main",{className:"flex-1 flex flex-col gap-5 overflow-y-auto",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8 p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl transition-all duration-300",children:[n.jsxs("div",{className:"flex flex-col text-center md:text-left",children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-2",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Supervisor"})," ","Dashboard"]}),n.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Welcome back,"," ",n.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[e?.username||"Dr. HSR"," "]})," "]})]}),n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx(tr,{className:"w-32 h-32 md:w-40 md:h-40 border-4 border-gray-300 dark:border-gray-600 shadow-md",children:n.jsx(Rr,{src:e?.profilePic||Ir})}),n.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800 dark:text-gray-300",children:e?.username||"Dr. HSR"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5",children:[{title:"Supervision Requests",count:a.length,status:"Awaiting Review",color:"yellow",icon:hn,link:"/supervisor/dashboard/supervision-requests"},{title:"Active Projects",count:l.length,status:"In Progress",color:"blue",icon:ja,link:"/supervisor/my-groups"},{title:"Unread Messages",count:m,status:"New Messages",color:"green",icon:Ba,link:"/supervisor/team-chat"}].map(({title:k,count:N,status:S,color:C,icon:A,link:I},D)=>n.jsx(Wi,{to:I??"#",className:"cursor-pointer",children:n.jsxs(Te,{className:"flex flex-col items-center p-5 text-center bg-white dark:bg-gray-800 border-none shadow-md transition-all duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 ${C==="green"?"bg-green-100 text-green-500 dark:bg-green-900 dark:text-green-300":C==="yellow"?"bg-yellow-100 text-yellow-500 dark:bg-yellow-900 dark:text-yellow-300":"bg-blue-100 text-blue-500 dark:bg-blue-900 dark:text-blue-300"}`,children:n.jsx(A,{})}),n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:k}),n.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:N}),n.jsx("p",{className:`text-sm font-semibold ${C==="green"?"text-green-600 dark:text-green-400":C==="yellow"?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400"}`,children:S})]})},D))}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 text-center",children:["Recent ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Supervision"})," Requests ( last ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"24"})," Hours )"]}),n.jsx("hr",{className:"w-32 h-[3px] mb-2 mx-auto  rounded border-0 bg-purple-500  dark:bg-gray-100"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm text-left text-gray-700 dark:text-gray-300",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b dark:border-gray-700",children:[n.jsx("th",{className:"py-2 px-4",children:"Project Title"}),n.jsx("th",{className:"py-2 px-4",children:"Requested At"}),n.jsx("th",{className:"py-2 px-4",children:"Status"}),n.jsx("th",{className:"py-2 px-4",children:"Actions"})]})}),n.jsx("tbody",{children:a&&a.length>0?a.map((k,N)=>n.jsxs("tr",{className:"border-b dark:border-gray-700",children:[n.jsx("td",{className:"py-3 px-4",children:k.fypTitle}),n.jsx("td",{className:"py-3 px-4",children:new Date(k.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),n.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-100",children:k.status}),n.jsx("td",{className:"py-3 px-4 flex gap-2",children:n.jsx("button",{className:"bg-purple-600 hover:bg-purple-500 rounded-2xl cursor-pointer text-white dark:bg-gray-100 dark:text-gray-700 dark:hover:bg-gray-200 text-xs px-3 py-1",onClick:()=>b("/supervisor/dashboard/supervision-requests"),children:"See details"})})]},N)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No Invitations found yet"})})})]})})]})]}),n.jsxs("aside",{className:"w-full xl:w-96 flex-shrink-0 flex flex-col gap-6 bg-white dark:bg-gray-800 p-6 shadow-md rounded-2xl transition-colors duration-300",children:[n.jsxs(Te,{className:" p-4 bg-gray-50 dark:bg-gray-800 border-none shadow-sm rounded-xl",children:[n.jsx("div",{className:"flex items-center gap-3 mb-4",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Coordinator ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Announcements"})]})}),n.jsxs(Pe,{onClick:()=>v(!0),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold flex items-center justify-center gap-2 shadow-md transition-all duration-300 hover:shadow-lg",children:[n.jsx(eo,{className:"w-5 h-5"}),"View All Announcements"]})]}),n.jsxs(Te,{className:"p-4 bg-gray-50 dark:bg-gray-800 border-none shadow-sm rounded-xl",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100 flex justify-between",children:["My Groups"," ",n.jsx(Wi,{to:"/supervisor/my-groups",className:"text-purple-600 dark:text-purple-400 text-sm hover:underline",children:"See all"})]}),n.jsx("div",{className:"flex justify-center flex-wrap gap-6",children:l.length>0?l.slice(0,3).map((k,N)=>{const S=k.fypTitle||k.groupName||`Group ${N+1}`,C=S.charAt(0).toUpperCase();return n.jsxs("div",{className:"flex flex-col items-center text-sm",children:[n.jsx(tr,{className:"w-14 h-14 mb-2 border border-gray-300 dark:border-gray-600",children:n.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-lg font-bold",children:C})}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-center max-w-[80px] truncate",children:S})]},k._id||N)}):n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center w-full py-2",children:"No groups yet"})})]}),n.jsxs(Te,{className:"p-4 bg-gray-50 dark:bg-gray-800 border-none shadow-sm rounded-xl",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Recent Activities"}),d&&d.length>0?n.jsx("div",{className:"max-h-100 overflow-y-auto pr-1 custom-scroll",children:d.slice(0,10).map((k,N)=>{let S="";k.type==="submitted"?S=`${k.groupName} has submitted the task ${k.taskTitle}`:k.type==="accepted"?S=`You accepted ${k.groupName}'s submission for ${k.taskTitle}`:k.type==="rejected"&&(S=`You rejected ${k.groupName}'s submission for ${k.taskTitle}`);const C=new Date(k.timestamp).toLocaleString();return n.jsxs("div",{className:"flex flex-col mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx(tr,{className:"w-8 h-8",children:n.jsx(Rr,{src:Ir})}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100 text-sm",children:k.groupName}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:C})]})]}),n.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 ml-10 flex items-start gap-2",children:[k.type==="accepted"&&n.jsx(Ji,{className:"w-4 h-4 text-green-500 mt-0.5"}),k.type==="rejected"&&n.jsx(Ku,{className:"w-4 h-4 text-red-500 mt-0.5"}),k.type==="submitted"&&n.jsx(hn,{className:"w-4 h-4 text-gray-500 mt-0.5"}),n.jsx("p",{children:S})]})]},N)})}):n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent activity"})]})]})]})]}),n.jsx(N4,{isOpen:p,onClose:()=>v(!1)})]})]})}function mW(){const e="https://fyp-buddy.up.railway.app/",t=localStorage.getItem("accessToken"),r=Na(),[a,o]=x.useState(null),[l,c]=x.useState([]),[d,f]=x.useState({id:null,action:null});x.useEffect(()=>{(async()=>{try{const v=await De.get(`${e}/supervisor/get-requests`,{headers:{Authorization:`Bearer ${t}`}});v.data.success&&c(v.data.Supervisionrequests)}catch(v){console.error("Error fetching supervision requests:",v),ee.error("Failed to load supervision requests.")}})()},[e,t]);const m=async(p,v)=>{try{f({id:p,action:v});const b=await De.put(`${e}/supervisor/respond/${p}`,{action:v},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});b.data.success&&(c(j=>j.filter(k=>k._id!==p)),ee.success(b.data.message))}catch(b){console.error(`Error performing ${v}:`,b),ee.error(`Failed to ${v} the request.`)}finally{f({id:null,action:null})}},g=()=>{r(-1)};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Supervision Requests | FYP Buddy - Review Student Requests",description:"Review and manage FYP supervision requests from students. Accept or decline requests based on your availability and expertise.",keywords:"supervision requests, FYP supervisor, student requests, project supervision"}),n.jsxs("div",{className:"min-h-screen mt-15",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"supervisor"}),n.jsxs("main",{className:"flex-1 flex flex-col gap-5",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[n.jsx(Pe,{onClick:g,className:`absolute top-4 left-4 flex items-center gap-2 bg-gray-800 text-white dark:text-gray-800 \r
                                        hover:bg-gray-700 dark:bg-gray-100 dark:hover:bg-gray-200 cursor-pointer`,children:n.jsx(xh,{className:"w-5 h-5"})}),n.jsxs("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 dark:text-white mt-8 mb-1",children:["Pending"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Supervision"})," ","Requests"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:"Review, accept, or reject project supervision requests."})]}),n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:l.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:l.map(p=>n.jsxs(Te,{className:"group relative p-4 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"mb-3 flex flex-col items-center",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white leading-snug line-clamp-2",children:p.fypTitle}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.jsx(On,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:p.createdAt?new Date(p.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"})]}),n.jsxs("button",{onClick:()=>o(p),className:"inline-flex items-center gap-1 text-xs font-medium text-purple-600 hover:text-purple-700 dark:text-gray-100 dark:hover:text-gray-200 mt-1 cursor-pointer",children:[n.jsx(ba,{className:"w-3.5 h-3.5"}),"View Description"]})]}),n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-700 to-transparent"}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(rn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Team (",p.requestFromGroup?.members?.length||0,")"]})]}),n.jsx("div",{className:"space-y-1.5",children:p.requestFromGroup?.members?.length>0?p.requestFromGroup.members.map((v,b)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-semibold",children:v.username.charAt(0)}),n.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200",children:v.username})]}),n.jsx("span",{className:"text-[11px] font-medium text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-0.5 rounded-full",children:v.semester&&v.section&&v.shift?`${v.semester}-${v.section}-${v.shift.charAt(0)}`:"Not set"})]},b)):n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic text-center py-3",children:"No members listed"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{size:"sm",disabled:d.id===p._id,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white cursor-pointer",onClick:()=>m(p._id,"accept"),children:d.id===p._id&&d.action==="accept"?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(Zo,{className:"w-4 h-4"}),"Accept"]})}),n.jsx(Pe,{size:"sm",disabled:d.id===p._id,variant:"destructive",className:"flex-1 cursor-pointer",onClick:()=>m(p._id,"decline"),children:d.id===p._id&&d.action==="decline"?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(tn,{className:"w-4 h-4"}),"Reject"]})})]})]},p._id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"w-10 h-10 mx-auto mb-3 text-gray-400 dark:text-gray-600"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:"No pending requests to review."})]})})]})]}),n.jsx(_r,{open:!!a,onOpenChange:()=>o(null),children:n.jsx(Xr,{className:"max-w-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl",children:a&&n.jsxs(n.Fragment,{children:[n.jsx(an,{className:"pb-3",children:n.jsx(sn,{className:"text-lg font-semibold text-gray-900 dark:text-white text-center",children:a.fypTitle})}),n.jsxs("div",{className:"mt-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Description"}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:a.description||"No detailed description available."})]})]})})})]})]})}function pW(){const e="https://fyp-buddy.up.railway.app/",t=localStorage.getItem("accessToken"),[r,a]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState([]),[f,m]=x.useState(!0),[g,p]=x.useState(!1);x.useEffect(()=>{(async()=>{try{m(!0);const k=await De.get(`${e}/supervisor/my-groups`,{headers:{Authorization:`Bearer ${t}`}});k.data.success?d(k.data.groups||[]):ee.error("Failed to load groups.")}catch(k){console.error("Error fetching groups:",k),ee.error("Failed to load your groups.")}finally{m(!1)}})()},[e,t]);const v=async j=>{try{const k=await De.put(`${e}/supervisor/unsupervise/${j}`,{},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});k.data.success?(ee.success(k.data.message||"Successfully un-supervised the group."),d(N=>N.filter(S=>S._id!==j)),a(null)):ee.error(k.data.message||"Failed to un-supervise the group.")}catch(k){const N=k.response?.data?.message||k.message||"An error occurred.";ee.error(N)}},b=j=>{const k={pending:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300",active:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",completed:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300"};return k[j]||k.pending};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"My Groups | FYP Buddy - Supervise Student Teams",description:"View and manage the FYP groups you supervise. Monitor team members, track progress, and provide guidance to your student groups.",keywords:"supervised groups, FYP teams, student supervision, project groups"}),n.jsxs("div",{className:"min-h-screen mt-15 ",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"supervisor"}),n.jsxs("main",{className:"flex-1 flex flex-col gap-5",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 dark:text-white mb-1",children:["My"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Supervised"})," ","Groups"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:"Manage and view all groups you are supervising."})]}),f?n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-12 bg-white dark:bg-gray-800 shadow-md rounded-2xl text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading groups..."})]})}):n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:c.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map(j=>{const k=j.members?.length||0,N=k>3;return n.jsxs(Te,{className:"group relative p-3 bg-gray-200 dark:bg-gray-900 rounded-xl border border-gray-700 dark:border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[n.jsxs("div",{className:"mb-2 flex flex-col items-center",children:[n.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[n.jsx(ja,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),n.jsx("h2",{className:"text-base font-bold text-gray-900 dark:text-white leading-tight line-clamp-1 text-center",children:j.groupName||"Unnamed Group"})]}),n.jsx(Mn,{className:`${b(j.status)} mb-1.5 text-xs px-2 py-0.5`,children:j.status||"pending"}),n.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-500 dark:text-gray-400",children:[n.jsx(On,{className:"w-3 h-3"}),n.jsx("span",{children:j.createdAt?new Date(j.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"})]}),(j.fypTitle||j.description)&&n.jsxs("button",{onClick:()=>a(j),className:"inline-flex items-center gap-1 text-[10px] font-medium text-purple-600 hover:text-purple-700 dark:text-gray-100 dark:hover:text-gray-200 mt-1.5 cursor-pointer",children:[n.jsx(ba,{className:"w-3 h-3"}),"View Details"]})]}),n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent my-2"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[n.jsx(rn,{className:"w-3.5 h-3.5 text-gray-600 dark:text-gray-400"}),n.jsxs("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:["Team (",k,")"]})]}),n.jsx("div",{className:`space-y-1 ${N?"max-h-28 overflow-y-auto":""}`,children:j.members?.length>0?j.members.map((S,C)=>{const A=j.leaderId?._id===S._id||j.leaderId?.toString()===S._id?.toString();return n.jsxs("div",{className:"flex items-center justify-between p-1.5 rounded-md bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(tr,{className:"w-6 h-6 border border-gray-200 dark:border-gray-700",children:S.profilePic?n.jsx(Rr,{src:S.profilePic,alt:S.username}):n.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-[10px] font-semibold",children:S.username?.charAt(0)?.toUpperCase()||"U"})}),n.jsx("span",{className:"text-xs text-gray-800 dark:text-gray-200 truncate max-w-[90px]",children:S.username})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[A&&n.jsx(zh,{className:"w-2.5 h-2.5 text-yellow-500"}),n.jsx("span",{className:"text-[10px] font-medium text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-1.5 py-0.5 rounded-full",children:S.semester&&S.section&&S.shift?`${S.semester}-${S.section}-${S.shift.charAt(0)}`:"N/A"})]})]},S._id||C)}):n.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 italic text-center py-2",children:"No members listed"})})]}),n.jsx(Pe,{size:"sm",className:"mt-2 text-xs bg-red-500 hover:bg-red-400 text-white w-full cursor-pointer",onClick:()=>{l(j),p(!0)},children:"Unsupervise"})]},j._id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Groups Yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You haven't been assigned to supervise any groups yet."})]})})]})]}),n.jsx(_r,{open:!!r,onOpenChange:()=>a(null),children:n.jsx(Xr,{className:"max-w-2xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto",children:r&&n.jsxs(n.Fragment,{children:[n.jsx(an,{className:"pb-3",children:n.jsx(sn,{className:"text-xl font-semibold text-gray-900 dark:text-white text-center",children:r.fypTitle||r.groupName||"Group Details"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(ja,{className:"w-4 h-4"}),"Group Name"]}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300",children:r.groupName||"Not specified"})]}),r.fypTitle&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(fn,{className:"w-4 h-4"}),"FYP Title"]}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300",children:r.fypTitle})]}),r.description&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4"}),"Description"]}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:r.description})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Status"}),n.jsx(Mn,{className:b(r.status),children:r.status||"pending"})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(rn,{className:"w-4 h-4"}),"All Members (",r.members?.length||0,")"]}),n.jsx("div",{className:"space-y-2",children:r.members?.map((j,k)=>{const N=r.leaderId?._id===j._id||r.leaderId?.toString()===j._id?.toString();return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"w-10 h-10",children:j.profilePic?n.jsx(Rr,{src:j.profilePic,alt:j.username}):n.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-sm font-semibold",children:j.username?.charAt(0)?.toUpperCase()||"U"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:[j.username,N&&n.jsx(zh,{className:"w-4 h-4 inline ml-2 text-yellow-500"})]}),j.email&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.email})]})]}),n.jsxs("div",{className:"text-right",children:[N&&n.jsx(Mn,{className:"bg-yellow-500 text-white mb-1",children:"Leader"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:j.semester&&j.section&&j.shift?`${j.semester}-${j.section}-${j.shift}`:"N/A"})]})]},j._id||k)})})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4"}),"Created At"]}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300",children:r.createdAt?new Date(r.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]})]})]})})}),n.jsx(_r,{open:g,onOpenChange:j=>{p(j),j||l(null)},children:n.jsxs(Xr,{className:"max-w-md bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl",children:[n.jsx(an,{className:"pb-3",children:n.jsx(sn,{className:"text-lg font-semibold text-gray-900 dark:text-white text-center",children:"Confirm Unsupervise"})}),n.jsxs("div",{className:"space-y-4 ",children:[n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Are you sure you want to un-supervise ",n.jsx("span",{className:"font-semibold",children:o?.groupName}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx(Pe,{variant:"outline",onClick:()=>{p(!1),l(null)},children:"Cancel"}),n.jsx(Pe,{variant:"destructive",onClick:()=>{o?._id&&v(o._id),p(!1),l(null)},children:"Unsupervise"})]})]})]})})]})]})}function XS(e,[t,r]){return Math.min(r,Math.max(t,e))}function gW(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Q5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xW="VisuallyHidden",yW=x.forwardRef((e,t)=>n.jsx(ut.span,{...e,ref:t,style:{...Q5,...e.style}}));yW.displayName=xW;var bW=[" ","Enter","ArrowUp","ArrowDown"],vW=[" ","Enter"],Ko="Select",[np,ap,wW]=rb(Ko),[Cc]=is(Ko,[wW,wc]),sp=wc(),[jW,co]=Cc(Ko),[kW,NW]=Cc(Ko),Z5=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:m,name:g,autoComplete:p,disabled:v,required:b,form:j}=e,k=sp(t),[N,S]=x.useState(null),[C,A]=x.useState(null),[I,D]=x.useState(!1),T=Cm(m),[B,X]=$o({prop:a,defaultProp:o??!1,onChange:l,caller:Ko}),[Y,K]=$o({prop:c,defaultProp:d,onChange:f,caller:Ko}),le=x.useRef(null),L=N?j||!!N.closest("form"):!0,[W,Q]=x.useState(new Set),Z=Array.from(W).map(U=>U.props.value).join(";");return n.jsx(db,{...k,children:n.jsxs(jW,{required:b,scope:t,trigger:N,onTriggerChange:S,valueNode:C,onValueNodeChange:A,valueNodeHasChildren:I,onValueNodeHasChildrenChange:D,contentId:jn(),value:Y,onValueChange:K,open:B,onOpenChange:X,dir:T,triggerPointerDownPosRef:le,disabled:v,children:[n.jsx(np.Provider,{scope:t,children:n.jsx(kW,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{Q(G=>new Set(G).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{Q(G=>{const F=new Set(G);return F.delete(U),F})},[]),children:r})}),L?n.jsxs(vT,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:p,value:Y,onChange:U=>K(U.target.value),disabled:v,form:j,children:[Y===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},Z):null]})})};Z5.displayName=Ko;var J5="SelectTrigger",eT=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...o}=e,l=sp(r),c=co(J5,r),d=c.disabled||a,f=Jt(t,c.onTriggerChange),m=ap(r),g=x.useRef("touch"),[p,v,b]=jT(k=>{const N=m().filter(A=>!A.disabled),S=N.find(A=>A.value===c.value),C=kT(N,k,S);C!==void 0&&c.onValueChange(C.value)}),j=k=>{d||(c.onOpenChange(!0),b()),k&&(c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return n.jsx(Dm,{asChild:!0,...l,children:n.jsx(ut.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":wT(c.value)?"":void 0,...o,ref:f,onClick:Qe(o.onClick,k=>{k.currentTarget.focus(),g.current!=="mouse"&&j(k)}),onPointerDown:Qe(o.onPointerDown,k=>{g.current=k.pointerType;const N=k.target;N.hasPointerCapture(k.pointerId)&&N.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(j(k),k.preventDefault())}),onKeyDown:Qe(o.onKeyDown,k=>{const N=p.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&v(k.key),!(N&&k.key===" ")&&bW.includes(k.key)&&(j(),k.preventDefault())})})})});eT.displayName=J5;var tT="SelectValue",rT=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:o,children:l,placeholder:c="",...d}=e,f=co(tT,r),{onValueNodeHasChildrenChange:m}=f,g=l!==void 0,p=Jt(t,f.onValueNodeChange);return nn(()=>{m(g)},[m,g]),n.jsx(ut.span,{...d,ref:p,style:{pointerEvents:"none"},children:wT(f.value)?n.jsx(n.Fragment,{children:c}):l})});rT.displayName=tT;var SW="SelectIcon",nT=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...o}=e;return n.jsx(ut.span,{"aria-hidden":!0,...o,ref:t,children:a||""})});nT.displayName=SW;var CW="SelectPortal",aT=e=>n.jsx(dd,{asChild:!0,...e});aT.displayName=CW;var Xo="SelectContent",sT=x.forwardRef((e,t)=>{const r=co(Xo,e.__scopeSelect),[a,o]=x.useState();if(nn(()=>{o(new DocumentFragment)},[]),!r.open){const l=a;return l?mc.createPortal(n.jsx(iT,{scope:e.__scopeSelect,children:n.jsx(np.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(oT,{...e,ref:t})});sT.displayName=Xo;var Wa=10,[iT,uo]=Cc(Xo),EW="SelectContentImpl",AW=Zi("SelectContent.RemoveScroll"),oT=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:v,collisionPadding:b,sticky:j,hideWhenDetached:k,avoidCollisions:N,...S}=e,C=co(Xo,r),[A,I]=x.useState(null),[D,T]=x.useState(null),B=Jt(t,ce=>I(ce)),[X,Y]=x.useState(null),[K,le]=x.useState(null),L=ap(r),[W,Q]=x.useState(!1),Z=x.useRef(!1);x.useEffect(()=>{if(A)return Om(A)},[A]),Em();const U=x.useCallback(ce=>{const[Me,...Ne]=L().map(Re=>Re.ref.current),[Ce]=Ne.slice(-1),Ee=document.activeElement;for(const Re of ce)if(Re===Ee||(Re?.scrollIntoView({block:"nearest"}),Re===Me&&D&&(D.scrollTop=0),Re===Ce&&D&&(D.scrollTop=D.scrollHeight),Re?.focus(),document.activeElement!==Ee))return},[L,D]),G=x.useCallback(()=>U([X,A]),[U,X,A]);x.useEffect(()=>{W&&G()},[W,G]);const{onOpenChange:F,triggerPointerDownPosRef:V}=C;x.useEffect(()=>{if(A){let ce={x:0,y:0};const Me=Ce=>{ce={x:Math.abs(Math.round(Ce.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(Ce.pageY)-(V.current?.y??0))}},Ne=Ce=>{ce.x<=10&&ce.y<=10?Ce.preventDefault():A.contains(Ce.target)||F(!1),document.removeEventListener("pointermove",Me),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[A,F,V]),x.useEffect(()=>{const ce=()=>F(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[F]);const[R,_]=jT(ce=>{const Me=L().filter(Ee=>!Ee.disabled),Ne=Me.find(Ee=>Ee.ref.current===document.activeElement),Ce=kT(Me,ce,Ne);Ce&&setTimeout(()=>Ce.ref.current.focus())}),$=x.useCallback((ce,Me,Ne)=>{const Ce=!Z.current&&!Ne;(C.value!==void 0&&C.value===Me||Ce)&&(Y(ce),Ce&&(Z.current=!0))},[C.value]),z=x.useCallback(()=>A?.focus(),[A]),ue=x.useCallback((ce,Me,Ne)=>{const Ce=!Z.current&&!Ne;(C.value!==void 0&&C.value===Me||Ce)&&le(ce)},[C.value]),ve=a==="popper"?Ny:lT,re=ve===Ny?{side:d,sideOffset:f,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:v,collisionPadding:b,sticky:j,hideWhenDetached:k,avoidCollisions:N}:{};return n.jsx(iT,{scope:r,content:A,viewport:D,onViewportChange:T,itemRefCallback:$,selectedItem:X,onItemLeave:z,itemTextRefCallback:ue,focusSelectedItem:G,selectedItemText:K,position:a,isPositioned:W,searchRef:R,children:n.jsx(hd,{as:AW,allowPinchZoom:!0,children:n.jsx(cd,{asChild:!0,trapped:C.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Qe(o,ce=>{C.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:n.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:n.jsx(ve,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ce=>ce.preventDefault(),...S,...re,onPlaced:()=>Q(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Qe(S.onKeyDown,ce=>{const Me=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Me&&ce.key.length===1&&_(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ce=L().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Ee=ce.target,Re=Ce.indexOf(Ee);Ce=Ce.slice(Re+1)}setTimeout(()=>U(Ce)),ce.preventDefault()}})})})})})})});oT.displayName=EW;var TW="SelectItemAlignedPosition",lT=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...o}=e,l=co(Xo,r),c=uo(Xo,r),[d,f]=x.useState(null),[m,g]=x.useState(null),p=Jt(t,B=>g(B)),v=ap(r),b=x.useRef(!1),j=x.useRef(!0),{viewport:k,selectedItem:N,selectedItemText:S,focusSelectedItem:C}=c,A=x.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&k&&N&&S){const B=l.trigger.getBoundingClientRect(),X=m.getBoundingClientRect(),Y=l.valueNode.getBoundingClientRect(),K=S.getBoundingClientRect();if(l.dir!=="rtl"){const Ee=K.left-X.left,Re=Y.left-Ee,Be=B.left-Re,$e=B.width+Be,bt=Math.max($e,X.width),jt=window.innerWidth-Wa,mt=XS(Re,[Wa,Math.max(Wa,jt-bt)]);d.style.minWidth=$e+"px",d.style.left=mt+"px"}else{const Ee=X.right-K.right,Re=window.innerWidth-Y.right-Ee,Be=window.innerWidth-B.right-Re,$e=B.width+Be,bt=Math.max($e,X.width),jt=window.innerWidth-Wa,mt=XS(Re,[Wa,Math.max(Wa,jt-bt)]);d.style.minWidth=$e+"px",d.style.right=mt+"px"}const le=v(),L=window.innerHeight-Wa*2,W=k.scrollHeight,Q=window.getComputedStyle(m),Z=parseInt(Q.borderTopWidth,10),U=parseInt(Q.paddingTop,10),G=parseInt(Q.borderBottomWidth,10),F=parseInt(Q.paddingBottom,10),V=Z+U+W+F+G,R=Math.min(N.offsetHeight*5,V),_=window.getComputedStyle(k),$=parseInt(_.paddingTop,10),z=parseInt(_.paddingBottom,10),ue=B.top+B.height/2-Wa,ve=L-ue,re=N.offsetHeight/2,ce=N.offsetTop+re,Me=Z+U+ce,Ne=V-Me;if(Me<=ue){const Ee=le.length>0&&N===le[le.length-1].ref.current;d.style.bottom="0px";const Re=m.clientHeight-k.offsetTop-k.offsetHeight,Be=Math.max(ve,re+(Ee?z:0)+Re+G),$e=Me+Be;d.style.height=$e+"px"}else{const Ee=le.length>0&&N===le[0].ref.current;d.style.top="0px";const Be=Math.max(ue,Z+k.offsetTop+(Ee?$:0)+re)+Ne;d.style.height=Be+"px",k.scrollTop=Me-ue+k.offsetTop}d.style.margin=`${Wa}px 0`,d.style.minHeight=R+"px",d.style.maxHeight=L+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[v,l.trigger,l.valueNode,d,m,k,N,S,l.dir,a]);nn(()=>A(),[A]);const[I,D]=x.useState();nn(()=>{m&&D(window.getComputedStyle(m).zIndex)},[m]);const T=x.useCallback(B=>{B&&j.current===!0&&(A(),C?.(),j.current=!1)},[A,C]);return n.jsx(_W,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:T,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:n.jsx(ut.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});lT.displayName=TW;var RW="SelectPopperPosition",Ny=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:o=Wa,...l}=e,c=sp(r);return n.jsx(fb,{...c,...l,ref:t,align:a,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ny.displayName=RW;var[_W,cv]=Cc(Xo,{}),Sy="SelectViewport",cT=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...o}=e,l=uo(Sy,r),c=cv(Sy,r),d=Jt(t,l.onViewportChange),f=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(np.Slot,{scope:r,children:n.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Qe(o.onScroll,m=>{const g=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=c;if(v?.current&&p){const b=Math.abs(f.current-g.scrollTop);if(b>0){const j=window.innerHeight-Wa*2,k=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),S=Math.max(k,N);if(S<j){const C=S+b,A=Math.min(j,C),I=C-A;p.style.height=A+"px",p.style.bottom==="0px"&&(g.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});cT.displayName=Sy;var uT="SelectGroup",[DW,MW]=Cc(uT),OW=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,o=jn();return n.jsx(DW,{scope:r,id:o,children:n.jsx(ut.div,{role:"group","aria-labelledby":o,...a,ref:t})})});OW.displayName=uT;var dT="SelectLabel",PW=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,o=MW(dT,r);return n.jsx(ut.div,{id:o.id,...a,ref:t})});PW.displayName=dT;var hm="SelectItem",[LW,fT]=Cc(hm),hT=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:o=!1,textValue:l,...c}=e,d=co(hm,r),f=uo(hm,r),m=d.value===a,[g,p]=x.useState(l??""),[v,b]=x.useState(!1),j=Jt(t,C=>f.itemRefCallback?.(C,a,o)),k=jn(),N=x.useRef("touch"),S=()=>{o||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(LW,{scope:r,value:a,disabled:o,textId:k,isSelected:m,onItemTextChange:x.useCallback(C=>{p(A=>A||(C?.textContent??"").trim())},[]),children:n.jsx(np.ItemSlot,{scope:r,value:a,disabled:o,textValue:g,children:n.jsx(ut.div,{role:"option","aria-labelledby":k,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:j,onFocus:Qe(c.onFocus,()=>b(!0)),onBlur:Qe(c.onBlur,()=>b(!1)),onClick:Qe(c.onClick,()=>{N.current!=="mouse"&&S()}),onPointerUp:Qe(c.onPointerUp,()=>{N.current==="mouse"&&S()}),onPointerDown:Qe(c.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:Qe(c.onPointerMove,C=>{N.current=C.pointerType,o?f.onItemLeave?.():N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(c.onPointerLeave,C=>{C.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Qe(c.onKeyDown,C=>{f.searchRef?.current!==""&&C.key===" "||(vW.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});hT.displayName=hm;var Lu="SelectItemText",mT=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:o,...l}=e,c=co(Lu,r),d=uo(Lu,r),f=fT(Lu,r),m=NW(Lu,r),[g,p]=x.useState(null),v=Jt(t,S=>p(S),f.onItemTextChange,S=>d.itemTextRefCallback?.(S,f.value,f.disabled)),b=g?.textContent,j=x.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:k,onNativeOptionRemove:N}=m;return nn(()=>(k(j),()=>N(j)),[k,N,j]),n.jsxs(n.Fragment,{children:[n.jsx(ut.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?mc.createPortal(l.children,c.valueNode):null]})});mT.displayName=Lu;var pT="SelectItemIndicator",gT=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return fT(pT,r).isSelected?n.jsx(ut.span,{"aria-hidden":!0,...a,ref:t}):null});gT.displayName=pT;var Cy="SelectScrollUpButton",xT=x.forwardRef((e,t)=>{const r=uo(Cy,e.__scopeSelect),a=cv(Cy,e.__scopeSelect),[o,l]=x.useState(!1),c=Jt(t,a.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?n.jsx(bT,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});xT.displayName=Cy;var Ey="SelectScrollDownButton",yT=x.forwardRef((e,t)=>{const r=uo(Ey,e.__scopeSelect),a=cv(Ey,e.__scopeSelect),[o,l]=x.useState(!1),c=Jt(t,a.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;l(g)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?n.jsx(bT,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});yT.displayName=Ey;var bT=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...o}=e,l=uo("SelectScrollButton",r),c=x.useRef(null),d=ap(r),f=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),nn(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(ut.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Qe(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:Qe(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:Qe(o.onPointerLeave,()=>{f()})})}),zW="SelectSeparator",FW=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(ut.div,{"aria-hidden":!0,...a,ref:t})});FW.displayName=zW;var Ay="SelectArrow",IW=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,o=sp(r),l=co(Ay,r),c=uo(Ay,r);return l.open&&c.position==="popper"?n.jsx(hb,{...o,...a,ref:t}):null});IW.displayName=Ay;var BW="SelectBubbleInput",vT=x.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const o=x.useRef(null),l=Jt(a,o),c=gW(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&g){const p=new Event("change",{bubbles:!0});g.call(d,t),d.dispatchEvent(p)}},[c,t]),n.jsx(ut.select,{...r,style:{...Q5,...r.style},ref:l,defaultValue:t})});vT.displayName=BW;function wT(e){return e===""||e===void 0}function jT(e){const t=ts(e),r=x.useRef(""),a=x.useRef(0),o=x.useCallback(c=>{const d=r.current+c;t(d),(function f(m){r.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=x.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,o,l]}function kT(e,t,r){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let c=$W(e,Math.max(l,0));o.length===1&&(c=c.filter(m=>m!==r));const f=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function $W(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var UW=Z5,HW=eT,qW=rT,VW=nT,GW=aT,YW=sT,KW=cT,XW=hT,WW=mT,QW=gT,ZW=xT,JW=yT;function Es({...e}){return n.jsx(UW,{"data-slot":"select",...e})}function As({...e}){return n.jsx(qW,{"data-slot":"select-value",...e})}function Ts({className:e,size:t="default",children:r,...a}){return n.jsxs(HW,{"data-slot":"select-trigger","data-size":t,className:ot("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,n.jsx(VW,{asChild:!0,children:n.jsx(dC,{className:"size-4 opacity-50"})})]})}function Rs({className:e,children:t,position:r="popper",align:a="center",...o}){return n.jsx(GW,{children:n.jsxs(YW,{"data-slot":"select-content",className:ot("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,align:a,...o,children:[n.jsx(eQ,{}),n.jsx(KW,{className:ot("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(tQ,{})]})})}function kr({className:e,children:t,...r}){return n.jsxs(XW,{"data-slot":"select-item",className:ot("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(QW,{children:n.jsx(Zo,{className:"size-4"})})}),n.jsx(WW,{children:t})]})}function eQ({className:e,...t}){return n.jsx(ZW,{"data-slot":"select-scroll-up-button",className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(ZO,{className:"size-4"})})}function tQ({className:e,...t}){return n.jsx(JW,{"data-slot":"select-scroll-down-button",className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(dC,{className:"size-4"})})}function rQ({task:e,onClose:t}){const[r,a]=x.useState(e?.feedback||""),[o,l]=x.useState(null),c="https://fyp-buddy.up.railway.app/",d=localStorage.getItem("accessToken");if(!e)return null;const f=async m=>{l(m);try{const g=e._id,p=m,v=await De.put(`${c}/task/review/${g}`,{status:p,feedback:r},{headers:{Authorization:`Bearer ${d}`},withCredentials:!0});v.data.success&&(ee.success(v.data.message),t(v.data.task))}catch(g){ee.error(g.response?.data?.message||"Failed to submit task")}finally{l(null)}};return n.jsx(_r,{open:!!e,onOpenChange:t,children:n.jsxs(Xr,{className:"max-w-2xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto",children:[n.jsx(an,{className:"pb-3",children:n.jsx(sn,{className:"text-xl font-semibold text-gray-900 dark:text-white text-center",children:e.title||"Task Details"})}),n.jsxs("div",{className:"space-y-5 mt-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(Mx,{className:"w-4 h-4"}),"Student Submission"]}),e.studentSubmission?n.jsx("a",{href:e.studentSubmission,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline text-sm font-medium",children:"View Submitted File"}):n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No submission found."})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4"}),"Submitted at"]}),n.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-gray-50 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300",children:e.submittedAt?new Date(e.submittedAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2",children:[n.jsx(wm,{className:"w-4 h-4"}),"Feedback"]}),n.jsx(tl,{placeholder:"Write your feedback here...",value:r,onChange:m=>a(m.target.value),className:"min-h-[100px] resize-none text-sm"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(Pe,{size:"sm",disabled:o==="Rejected",variant:"destructive",className:"flex-1 cursor-pointer",onClick:()=>f("Rejected"),children:o==="Rejected"?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(tn,{className:"w-4 h-4"}),"Reject"]})}),n.jsx(Pe,{size:"sm",disabled:o==="Accepted",className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white cursor-pointer",onClick:()=>f("Accepted"),children:o==="Accepted"?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(Zo,{className:"w-4 h-4"}),"Accept"]})})]})]})]})})}function nQ(){const{supervised_groups:e}=it(V=>V.supervised_groups),[t,r]=x.useState([]),[a,o]=x.useState(e||[]),[l,c]=x.useState(""),[d,f]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState(null),[b,j]=x.useState(!1),[k,N]=x.useState(!1),[S,C]=x.useState(!1),[A,I]=x.useState(null),[D,T]=x.useState({title:"",description:"",dueDate:"",allowLateSubmission:!1}),[B,X]=x.useState("All"),Y="https://fyp-buddy.up.railway.app/",K=localStorage.getItem("accessToken");x.useEffect(()=>{let V=!0;return(async()=>{if(!d?._id){r([]);return}N(!0),r([]);try{const _=await De.get(`${Y}/task/get-tasks/${d._id}`,{headers:{Authorization:`Bearer ${K}`},withCredentials:!0});_.data.success&&V&&r(_.data.tasks||[])}catch(_){V&&console.log(_)}finally{V&&N(!1)}})(),()=>{V=!1}},[d]);async function le(V){if(!V)return I(null);r(R=>R.map(_=>_._id===V._id?V:_)),I(null)}function L(){if(!d?._id){ee.error("Select a group before creating a task");return}v(null),T({title:"",description:"",dueDate:"",allowLateSubmission:!1}),g(!0)}function W(V){v(V._id),T({title:V.title||"",description:V.description||"",dueDate:V.dueDate?V.dueDate.split("T")[0]:"",allowLateSubmission:V.allowLateSubmission||!1}),g(!0)}async function Q(V){try{const R=await De.delete(`${Y}/task/delete-task/${V}`,{headers:{Authorization:`Bearer ${K}`},withCredentials:!0});R.data.success&&(r(_=>_.filter($=>$._id!==V)),ee.success(R.data.message))}catch(R){const _=R.response?.data?.message||R.response?.data||"Failed to delete task";ee.error(_)}}function Z(V){const{name:R,value:_,type:$,checked:z}=V.target;T(ue=>({...ue,[R]:$==="checkbox"?z:_}))}async function U(V){if(V.preventDefault(),!D.title.trim()||!D.dueDate){ee.error("Please fill all required fields: Title & Due Date");return}if(!d?._id){ee.error("Please select a valid group before creating a task");return}try{if(j(!0),p){const R=await De.put(`${Y}/task/update/${p}`,{...D},{headers:{Authorization:`Bearer ${K}`},withCredentials:!0});R.data.success&&(r(_=>_.map($=>$._id===p?R.data.task:$)),ee.success(R.data.message))}else{const R=await De.post(`${Y}/task/create`,{groupId:d._id,...D},{headers:{Authorization:`Bearer ${K}`},withCredentials:!0});R.data.success&&(r(_=>[R.data.task,..._]),ee.success(R.data.message))}g(!1),v(null),T({title:"",description:"",dueDate:"",allowLateSubmission:!1})}catch(R){console.error("Error saving task:",R),ee.error(R.response?.data?.message||"Failed to save task")}finally{j(!1)}}const F=t.filter(V=>{const R=l.toLowerCase();return V.title.toLowerCase().includes(R)||V.description.toLowerCase().includes(R)}).filter(V=>B==="All"?!0:String(V.status||"").toLowerCase()===B.toLowerCase());return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Manage Tasks | FYP Buddy - Assign & Track Work",description:"Create and manage tasks for your supervised FYP groups. Assign work, set deadlines, review submissions, and track student progress.",keywords:"task management, FYP assignments, student tasks, project tracking"}),n.jsxs("div",{className:"min-h-screen mt-15",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"supervisor"}),n.jsxs("main",{className:"flex-1 flex flex-col gap-5",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 dark:text-white mb-1",children:["Manage"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Group"})," ","Tasks"]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:"Create and manage tasks for your assigned groups."})]}),n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 max-w-5xl mx-auto w-full",children:[n.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto flex-wrap",children:[n.jsxs(Es,{value:d?._id||"none",onValueChange:V=>{if(V==="none")f(null),r([]);else{const R=a.find(_=>_._id===V);f(R||null)}},children:[n.jsx(Ts,{className:"w-48",children:n.jsx(As,{placeholder:"Select Group"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"none",children:"Select Group"}),a.map(V=>n.jsx(kr,{value:V._id,children:V.groupName||`Group ${V._id.slice(-4)}`},V._id))]})]}),n.jsx("div",{className:"relative flex-1 max-w-md",children:n.jsx(st,{placeholder:"Search Task",value:l,onChange:V=>c(V.target.value)})}),n.jsxs(Es,{value:B,onValueChange:V=>X(V),children:[n.jsx(Ts,{className:"w-40",children:n.jsx(As,{placeholder:"Filter Status"})}),n.jsx(Rs,{children:["All","Assigned","Submitted","Rejected","Accepted"].map(V=>n.jsx(kr,{value:V,children:V},V))})]})]}),n.jsxs(Pe,{onClick:L,className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg px-6 py-2 rounded-lg text-sm font-semibold",children:[n.jsx(jm,{className:"w-4 h-4"})," Create Task"]})]})}),k?n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-12 bg-white dark:bg-gray-800 shadow-md rounded-2xl text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading tasks..."})]})}):n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:d?._id?F.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ox,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Tasks Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l?"Try adjusting your search terms":"Create one to get started."})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 items-stretch",children:F.map(V=>{const R=V.status,_=String(R||"").toLowerCase(),$=_==="accepted",z=!!V.studentSubmission,ue=Math.ceil((new Date(V.dueDate)-new Date)/(1e3*60*60*24));return n.jsxs(Te,{className:"group relative overflow-hidden bg-gray-200 dark:bg-gray-900 rounded-xl border border-gray-700 dark:border-gray-200  h-full flex flex-col",children:[n.jsxs("div",{className:"p-4 pt-5 flex flex-col flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1 pr-2",children:[n.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white leading-tight mb-1.5 line-clamp-2",children:V.title}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[n.jsx(On,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:new Date(V.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),n.jsx(Rh,{status:R,isLate:ue<0})]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-2 rounded-md h-24 overflow-y-auto custom-scroll mb-2",children:V.description||"No description provided"}),z&&n.jsxs(n.Fragment,{children:[_==="submitted"&&n.jsxs("button",{onClick:()=>I(V),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 mb-4 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg text-sm font-semibold",children:[n.jsx(qi,{className:"w-4 h-4"}),"Review Submission"]}),(_==="accepted"||_==="rejected")&&n.jsxs("div",{className:"mb-3 flex flex-row items-center justify-between",children:[n.jsxs("a",{href:V.studentSubmission,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm font-medium text-purple-700 hover:text-purple-800 dark:text-purple-300 dark:hover:text-purple-200 hover:underline",children:[n.jsx(qi,{className:"w-4 h-4"}),"View submission"]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx(Fa,{className:"w-3.5 h-3.5"}),n.jsx("p",{children:V.submissionStatus})]})]})]}),n.jsxs("div",{className:"mt-auto",children:[$?n.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100 dark:border-gray-800 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[n.jsx(Ji,{className:"w-4 h-4"}),n.jsx("span",{children:"Task accepted"})]}),V.reviewedAt&&n.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Reviewed ",new Date(V.reviewedAt).toLocaleDateString()]})]}):n.jsxs("div",{className:"flex items-center gap-4 mb-4 pb-4 border-b border-gray-100 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${ue<0?"bg-red-100 dark:bg-red-900/30":ue<=3?"bg-yellow-100 dark:bg-yellow-900/30":"bg-purple-100 dark:bg-purple-900/30"}`,children:n.jsx(Fa,{className:`w-4 h-4 ${ue<0?"text-red-600 dark:text-red-400":ue<=3?"text-yellow-600 dark:text-yellow-400":"text-purple-600 dark:text-purple-400"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium",children:"Time Left"}),n.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:ue<0?`${Math.abs(ue)} days overdue`:ue===0?"Today":`${ue} ${ue===1?"day":"days"}`})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${V.allowLateSubmission?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-800"}`,children:n.jsx(Ji,{className:`w-4 h-4 ${V.allowLateSubmission?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium",children:"Late Work"}),n.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:V.allowLateSubmission?"Accepted":"Not Accepted"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>W(V),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 dark:from-purple-900/20 dark:to-blue-900/20 dark:hover:from-purple-900/30 dark:hover:to-blue-900/30 text-purple-700 dark:text-purple-300 font-semibold transition-all duration-200 text-xs",children:[n.jsx(gC,{className:"w-3.5 h-3.5"}),"Edit"]}),n.jsxs(_r,{children:[n.jsx(Fu,{asChild:!0,children:n.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-gradient-to-r from-red-50 to-orange-50 hover:from-red-100 hover:to-orange-100 dark:from-red-900/20 dark:to-orange-900/20 dark:hover:from-red-900/30 dark:hover:to-orange-900/30 text-red-700 dark:text-red-300 font-semibold transition-all duration-200 text-xs",children:[n.jsx(Ia,{className:"w-3.5 h-3.5"}),"Delete"]})}),n.jsxs(Xr,{className:"max-w-sm bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl",children:[n.jsx(an,{children:n.jsx(sn,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Are you sure you want to delete this task?"})}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This action cannot be undone. This will permanently remove the task for the group."}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx(gA,{asChild:!0,children:n.jsx(Pe,{variant:"outline",className:"border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:"Cancel"})}),n.jsx(Pe,{onClick:()=>Q(V._id),className:"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800",children:"Confirm"})]})]})]})]})]})," "]}),n.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-purple-200 dark:group-hover:border-gray-200 rounded-xl pointer-events-none transition-all duration-300"})]},V._id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ox,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select a group to see their tasks"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a group from the dropdown to manage their tasks."})]})})]})]}),n.jsx(_r,{open:m,onOpenChange:g,children:n.jsxs(Xr,{className:"max-w-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl",children:[n.jsx(an,{children:n.jsx(sn,{className:"text-xl font-semibold text-gray-900 dark:text-white text-center",children:p?n.jsxs(n.Fragment,{children:["Edit ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Task"})]}):n.jsxs(n.Fragment,{children:["Create New ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Task"})]})})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx(Ht,{htmlFor:"title",className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 block",children:"Task Title *"}),n.jsx(st,{id:"title",name:"title",value:D.title,onChange:Z,placeholder:"Enter task title",required:!0,className:"border-gray-200 dark:border-gray-700"})]}),n.jsxs("div",{children:[n.jsx(Ht,{htmlFor:"description",className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 block",children:"Description"}),n.jsx(tl,{id:"description",name:"description",value:D.description,onChange:Z,placeholder:"Provide task details",rows:3,className:"border-gray-200 dark:border-gray-700 resize-none overflow-y-auto overflow-x-hidden max-h-32 min-h-[6rem] rounded-md whitespace-pre-wrap break-words break-all "})]}),n.jsxs("div",{children:[n.jsx(Ht,{htmlFor:"dueDate",className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2 block",children:"Due Date *"}),n.jsx(st,{id:"dueDate",name:"dueDate",type:"date",value:D.dueDate,onChange:Z,required:!0,min:new Date().toISOString().split("T")[0],className:"border-gray-200 dark:border-gray-700"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"allowLateSubmission",name:"allowLateSubmission",checked:D.allowLateSubmission,onChange:Z,className:"w-4 h-4 rounded border-gray-300"}),n.jsx(Ht,{htmlFor:"allowLateSubmission",className:"text-sm font-medium cursor-pointer text-gray-800 dark:text-gray-200",children:"Allow late submissions"})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(Pe,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",disabled:b,children:"Cancel"}),n.jsx(Pe,{type:"button",onClick:U,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg px-6 py-2 rounded-lg text-sm font-semibold",disabled:b,children:b?"Saving...":p?"Update":"Create"})]})]})]})}),A&&n.jsx(rQ,{task:A,onClose:V=>le(V)})]})]})}var ip="Tabs",[aQ]=is(ip,[Mm]),NT=Mm(),[sQ,uv]=aQ(ip),ST=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...m}=e,g=Cm(d),[p,v]=$o({prop:a,onChange:o,defaultProp:l??"",caller:ip});return n.jsx(sQ,{scope:r,baseId:jn(),value:p,onValueChange:v,orientation:c,dir:g,activationMode:f,children:n.jsx(ut.div,{dir:g,"data-orientation":c,...m,ref:t})})});ST.displayName=ip;var CT="TabsList",ET=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...o}=e,l=uv(CT,r),c=NT(r);return n.jsx(oE,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:n.jsx(ut.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});ET.displayName=CT;var AT="TabsTrigger",TT=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:o=!1,...l}=e,c=uv(AT,r),d=NT(r),f=DT(c.baseId,a),m=MT(c.baseId,a),g=a===c.value;return n.jsx(lE,{asChild:!0,...d,focusable:!o,active:g,children:n.jsx(ut.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:Qe(e.onMouseDown,p=>{!o&&p.button===0&&p.ctrlKey===!1?c.onValueChange(a):p.preventDefault()}),onKeyDown:Qe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(a)}),onFocus:Qe(e.onFocus,()=>{const p=c.activationMode!=="manual";!g&&!o&&p&&c.onValueChange(a)})})})});TT.displayName=AT;var RT="TabsContent",_T=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:o,children:l,...c}=e,d=uv(RT,r),f=DT(d.baseId,a),m=MT(d.baseId,a),g=a===d.value,p=x.useRef(g);return x.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),n.jsx(os,{present:o||g,children:({present:v})=>n.jsx(ut.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&l})})});_T.displayName=RT;function DT(e,t){return`${e}-trigger-${t}`}function MT(e,t){return`${e}-content-${t}`}var iQ=ST,oQ=ET,lQ=TT,cQ=_T;function OT({className:e,...t}){return n.jsx(iQ,{"data-slot":"tabs",className:ot("flex flex-col gap-2",e),...t})}function PT({className:e,...t}){return n.jsx(oQ,{"data-slot":"tabs-list",className:ot("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function LT({className:e,...t}){return n.jsx(lQ,{"data-slot":"tabs-trigger",className:ot("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function zT({className:e,...t}){return n.jsx(cQ,{"data-slot":"tabs-content",className:ot("flex-1 outline-none",e),...t})}function uQ(){const e="https://fyp-buddy.up.railway.app/",t=localStorage.getItem("accessToken"),[r,a]=x.useState([]),[o,l]=x.useState(""),[c,d]=x.useState(null),[f,m]=x.useState([]),g=[{label:"Engagement in Weekly Interactions",max:5,description:"Active participation in weekly meetings"},{label:"Task Progress Reporting",max:3,description:"Regular and clear progress updates"},{label:"Understanding",max:3,description:"Understanding of project scope and requirements"},{label:"Explanation",max:3,description:"Ability to explain work and decisions"},{label:"Supporting References",max:3,description:"Use of appropriate references and resources"},{label:"Weekly Entry",max:3,description:"Consistent weekly documentation"}],[p,v]=x.useState({}),[b,j]=x.useState({groups:!1,details:!1,submit:!1}),N=(r.find(L=>L._id===o)||null)?.members||[],S=c?.gradingDeadline,C=S?new Date(S)<new Date:!1,A=c?.phase==="Progress"||c?.phase==="Defence",I=L=>L?new Date(L).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"No deadline set",D=x.useCallback(async()=>{if(!t){ee.error("Please login again");return}try{j(W=>({...W,groups:!0}));const L=await De.get(`${e}/supervisor/my-groups`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});L.data?.success&&Array.isArray(L.data.groups)?a(L.data.groups):(ee.error("Failed to load groups"),a([]))}catch(L){console.error("Error fetching groups:",L),ee.error(L.response?.data?.message||"Failed to load your groups"),a([])}finally{j(L=>({...L,groups:!1}))}},[e,t]);x.useEffect(()=>{D()},[D]);const T=async L=>{if(!(!o||!L)){j(!0);try{const W=await De.get(`${e}/grading/get-group-marks/${o}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(W.data.success){const Z=W.data.data.filter(U=>U.phase===L.phase);Z.length>0?m(Z):(m([]),ee.error("No grades available for the current phase"))}else m([]),ee.error(W.data.message||"Failed to fetch grades")}catch(W){const Q=W.response?.data?.message||"Failed to fetch grades";ee.error(Q),console.error("Error fetching grades:",W)}finally{j(!1)}}};x.useEffect(()=>{if(!o){d(null),v({}),m([]);return}(async()=>{try{j(Q=>({...Q,details:!0})),v({});const W=await De.get(`${e}/milestone/get-my-milestone/${o}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(W.data.success){const Q=W.data.milestone;d(Q),T(Q)}else d(null),ee.error("Failed to fetch milestone details")}catch(W){console.error("Error fetching milestone:",W),ee.error(W.response?.data?.message||"Failed to fetch milestone details"),d(null)}finally{j(W=>({...W,details:!1}))}})()},[o,e,t]);const B=(L,W,Q)=>{if(C||!A)return;const Z=g[W],U=Math.max(0,Math.min(Number(Q)||0,Z.max));Number.isNaN(U)||v(G=>({...G,[L]:G[L]?.map((F,V)=>V===W?U:F)||g.map((F,V)=>V===W?U:0)}))},X=L=>(p[L]||[]).reduce((Q,Z)=>Q+(Number(Z)||0),0),Y=async L=>{if(!o||!c||!A)return;const W=N.find(Z=>Z._id===L);if(!W)return;const Q=X(L);if(Q===0){ee.error("Please enter marks before submitting");return}try{j(G=>({...G,submit:!0}));const Z={studentId:L,groupId:o,phase:c.phase,marks:Q},U=await De.post(`${e}/grading/supervisor`,Z,{headers:{Authorization:`Bearer ${t}`}});U.data?.success?(ee.success(`Marks submitted for ${W.username||W.email}`),T(c),v(G=>({...G,[L]:g.map(()=>0)}))):ee.error(U.data?.message||"Failed to submit marks")}catch(Z){console.error("Error submitting marks:",Z),ee.error(Z.response?.data?.message||"Failed to submit marks")}finally{j(Z=>({...Z,submit:!1}))}},K=({member:L})=>{const W=X(L._id),Z=!!f.find(U=>U.studentId._id===L._id||U.studentId===L._id);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-700 dark:to-gray-600 p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white",children:L.username||L.email}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.email})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Roll Number"}),n.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:L.rollNo||"Not Set"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((U,G)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:[U.label,n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(Max: ",U.max,")"]})]}),n.jsx(st,{type:"number",min:"0",max:U.max,step:"0.5",placeholder:"0",value:p[L._id]?.[G]||"",onChange:F=>B(L._id,G,F.target.value),disabled:C||!A||b.submit,className:"text-center text-lg font-medium bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 rounded-lg h-12"})]},U.label))}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center sm:text-left",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Marks"}),n.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:[W,"/20"]})]}),n.jsx(Pe,{onClick:()=>Y(L._id),disabled:C||!A||b.submit||W===0,className:"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-8 py-3 rounded-lg transition-all duration-200 text-base font-medium",children:b.submit?"Submitting...":n.jsxs(n.Fragment,{children:[n.jsx(ic,{className:"w-5 h-5 mr-2"}),Z?"Edit Marks":"Submit Marks"]})})]})]})},le=({grades:L})=>!L||L.length===0?n.jsx("div",{className:"text-center py-6 text-gray-600 dark:text-gray-400",children:"No recorded grades available."}):n.jsx(Te,{className:"w-full mt-2 p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:n.jsxs(Ds,{className:"w-full",children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{className:"w-[25%]",children:"Student Name"}),n.jsx(Ct,{className:"w-[30%]",children:"Email"}),n.jsx(Ct,{className:"w-[20%]",children:"Roll Number"}),n.jsx(Ct,{className:"w-[25%] text-right",children:"Supervisor Marks"})]})}),n.jsx(Os,{children:L.map(W=>n.jsxs(Wr,{children:[n.jsx(Et,{children:W.studentName||"Unknown Student"}),n.jsx(Et,{className:"text-sm text-gray-600 dark:text-gray-400",children:W.email||"N/A"}),n.jsx(Et,{children:W.rollNo||"Not Set"}),n.jsxs(Et,{className:"text-right font-medium",children:[W.supervisorMarks||0,"/20"]})]},W.studentId))})]})});return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Grading | FYP Buddy - Evaluate Student Work",description:"Grade and evaluate FYP submissions. Assess milestones, tasks, and final projects for your supervised student groups.",keywords:"FYP grading, student evaluation, project assessment, academic grading"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"supervisor"}),n.jsxs("main",{className:"flex-1 flex flex-col gap-5",children:[n.jsxs(Te,{className:"relative w-full max-w-5xl mx-auto text-center py-6 px-4 bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-extrabold text-gray-900 dark:text-white mb-1",children:["Grade"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Groups"})," "]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base",children:"Review and assign grades for your supervised groups' progress and defence phases."})]}),n.jsx(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:n.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between gap-6",children:[n.jsxs(Es,{value:o||"none",onValueChange:L=>l(L==="none"?"":L),disabled:b.groups||b.details,children:[n.jsx(Ts,{className:"w-48 p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:n.jsx(As,{placeholder:b.groups?"Loading groups...":"Choose a group"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"none",children:b.groups?"Loading groups...":"Choose a group"}),r.map(L=>n.jsx(kr,{value:L._id,children:L.groupName||`Group ${L._id.slice(-4)}`},L._id))]})]}),n.jsx("div",{className:"text-center md:text-left font-medium text-gray-700 dark:text-gray-300",children:`Phase: ${c?c.phase:"--"}`}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(On,{className:"w-5 h-5 text-gray-500"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Grading Deadline:"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:I(S)})]})]})]})}),n.jsxs(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:[!o&&!b.details&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select a group to grade their Phases"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a group from the dropdown to begin grading their Progress or Defence phase."})]}),b.details&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600 dark:text-gray-400",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600 mb-3"}),n.jsx("p",{children:"Loading group details..."})]}),!b.details&&o&&!c&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ox,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Milestone Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"There is currently no milestone assigned for this group."})]}),!b.details&&c&&!A&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bo,{className:"w-12 h-12 mx-auto mb-4 text-yellow-500"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-600 mb-2",children:"Grading Unavailable"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Grading is only available during Progress and Defence phases."})]}),!b.details&&C&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center py-4",children:[n.jsx(sc,{className:"w-12 h-12 mx-auto mb-4 text-gray-500"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"Grading Closed"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The grading deadline has passed for this milestone. Contact Coordinator incase of missing grades."})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white text-center",children:"Recorded Grades"}),n.jsx(le,{grades:f.length>0?f.map(L=>{const W=N.find(Q=>Q._id===L.studentId);return{studentId:L.studentId,studentName:W?.username||"Unknown Student",email:W?.email,rollNo:W?.rollNo,supervisorMarks:L.supervisorMarks}}):[]})]})]}),!b.details&&o&&c&&A&&N.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Members Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This group currently has no assigned members."})]}),!b.details&&o&&c&&A&&N.length>0&&!C&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Grade Group Members (",N.length,")"]})}),n.jsxs(OT,{defaultValue:N[0]?._id,className:"w-full",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(PT,{className:"inline-flex w-auto gap-1 bg-transparent border-b-2 border-gray-200 dark:border-gray-700 p-0 rounded-none h-auto",children:N.map(L=>n.jsx(LT,{value:L._id,className:"relative rounded-none border-b-2 border-transparent data-[state=active]:border-purple-600 data-[state=active]:text-purple-600 dark:data-[state=active]:text-purple-400 data-[state=active]:bg-transparent bg-transparent hover:text-purple-500 hover:bg-gray-50 dark:hover:bg-gray-800 px-6 py-3 text-sm font-medium transition-all whitespace-nowrap text-gray-600 dark:text-gray-400",children:L.username||L.email.split("@")[0]},L._id))})}),N.map(L=>n.jsx(zT,{value:L._id,className:"mt-6",children:n.jsx(K,{member:L})},L._id))]})]})]}),!b.details&&o&&c&&A&&N.length>0&&!C&&n.jsxs(Te,{className:"w-full max-w-6xl mx-auto p-5 bg-white dark:bg-gray-800 shadow-md rounded-2xl",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recorded Grades"}),n.jsx(le,{grades:f.length>0?f.map(L=>{const W=N.find(Q=>Q._id===L.studentId._id||Q._id===L.studentId);return{studentId:L.studentId,studentName:W?.username||"Unknown Student",email:W?.email,rollNo:W?.rollNo,supervisorMarks:L.supervisorMarks}}):[]})]})]})]})})]})}const Oo="https://fyp-buddy.up.railway.app/",WS=Oo;function dQ(){const{user:e}=it(ae=>ae.auth),[t,r]=x.useState([]),[a,o]=x.useState({}),[l,c]=x.useState(null),[d,f]=x.useState(!0),[m,g]=x.useState({}),[p,v]=x.useState({}),[b,j]=x.useState(null),[k,N]=x.useState(""),[S,C]=x.useState(!1),[A,I]=x.useState(new Set),[D,T]=x.useState({}),[B,X]=x.useState(!1),[Y,K]=x.useState(!1),[le,L]=x.useState({open:!1,x:0,y:0,messageId:null,imageUrl:null}),[W,Q]=x.useState({}),[Z,U]=x.useState(!0),G=x.useRef(null),F=x.useRef(null),V=x.useRef(null),R=x.useRef(!0),_=x.useRef(null),$=x.useRef(null),z=x.useRef(null),ue=x.useRef(null),ve=x.useRef([]),re=x.useRef(null),[ce,Me]=x.useState(!1),Ne=x.useRef(null),[Ce,Ee]=x.useState(null),Re=x.useRef(null),[Be,$e]=x.useState(null),bt=x.useRef(null),[jt,mt]=x.useState({}),kt=x.useRef({}),Lt=x.useRef({}),Dr=x.useRef(new Set),Vt=x.useRef(new Set),Sr=x.useRef(!1),[Cr,Yt]=x.useState(!1),on=x.useRef(!1),[je,Le]=x.useState(null),[tt,dt]=x.useState([]),[ht,yr]=x.useState(!0),[ir,hr]=x.useState(!0),[rr,nr]=x.useState(!1),[pt,Er]=x.useState(!1),br=x.useMemo(()=>Object.entries(jt)[0]||null,[jt]),Ln=x.useRef(null),[kn,us]=x.useState(null),Vn=x.useRef(!0),Qr=x.useRef(!0),[zn,mn]=x.useState(!1),[Gn,oa]=x.useState(0),Tr=x.useRef(null),se=x.useRef(null),me=x.useRef(null),pe=x.useMemo(()=>t.find(ae=>ae.id===l)||null,[t,l]),Se=Array.isArray(a[l])?a[l]:[];m[l];const Fe=!!l&&!d&&!b,Ye=x.useCallback(ae=>{try{const O=`chat_order_supervisor_${e?._id||"anon"}`,P=localStorage.getItem(O);if(!P)return[...ae].sort((J,oe)=>{const te=J.unreadCount||0,ne=oe.unreadCount||0;return te>0&&ne===0?-1:te===0&&ne>0?1:0});const M=JSON.parse(P);if(!Array.isArray(M)||!M.length)return[...ae].sort((J,oe)=>{const te=J.unreadCount||0,ne=oe.unreadCount||0;return te>0&&ne===0?-1:te===0&&ne>0?1:0});const q=new Map(M.map((J,oe)=>[String(J),oe]));return[...ae].sort((J,oe)=>{const te=J.unreadCount||0,ne=oe.unreadCount||0;if(te>0&&ne>0||te===0&&ne===0){const de=q.has(String(J.id))?q.get(String(J.id)):Number.MAX_SAFE_INTEGER,ye=q.has(String(oe.id))?q.get(String(oe.id)):Number.MAX_SAFE_INTEGER;return de-ye}return te>0&&ne===0?-1:te===0&&ne>0?1:0})}catch{return ae}},[e?._id]),Ge=x.useCallback(ae=>{try{const O=`chat_order_supervisor_${e?._id||"anon"}`;localStorage.setItem(O,JSON.stringify(ae.map(P=>P.id)))}catch{}},[e?._id]);x.useEffect(()=>{if(!ce)return;const ae=()=>{if(!Ne.current)return;const P=Cr?Ce:Be||Ce;if(P)try{Ne.current.srcObject!==P&&(Ne.current.srcObject=P);const M=Ne.current.play();M&&typeof M.then=="function"&&M.catch(q=>{console.error("Error playing video:",q),setTimeout(ae,100)})}catch(M){console.error("Error setting video stream:",M),setTimeout(ae,100)}},O=setTimeout(ae,50);return()=>clearTimeout(O)},[ce,Ce,Be,Cr]),x.useEffect(()=>{if(!ce)return;const ae=br?br[1]:null;if(Ln.current&&ae)try{Ln.current.srcObject!==ae&&(Ln.current.srcObject=ae);const O=Ln.current.play();O&&typeof O.then=="function"&&O.catch(()=>{})}catch{}},[ce,br]),x.useEffect(()=>{if(!ce)return;const ae=Ne.current,O=Cr?Ce:Be||Ce;if(ae&&O)try{ae.srcObject!==O&&(ae.srcObject=O);const P=ae.play();P&&typeof P.then=="function"&&P.catch(()=>{})}catch{}else if(ae&&!O)try{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(P=>{Ee(M=>M||P),Re.current=Re.current||P,$e(M=>M||P),bt.current=bt.current||P;try{ae.srcObject!==P&&(ae.srcObject=P);const M=ae.play();M&&typeof M.then=="function"&&M.catch(()=>{})}catch{}}).catch(()=>{})}catch{}},[ce,Ce,Be,Cr,rr,jt]),x.useEffect(()=>{const ae=Object.keys(jt).length>0;return ce&&ae&&!Tr.current?(console.log("[CALL TIMER] Starting timer - first participant connected"),se.current=Date.now(),oa(0),Tr.current=setInterval(()=>{oa(O=>O+1)},1e3)):!ce&&Tr.current&&(clearInterval(Tr.current),Tr.current=null,se.current=null,oa(0)),()=>{Tr.current&&(clearInterval(Tr.current),Tr.current=null)}},[ce,jt]),x.useEffect(()=>{if(!ce)return;const O=setTimeout(()=>{const P=Ne.current,M=Cr?Ce:Be||Ce;if(P&&M)try{P.srcObject!==M&&(P.srcObject=M);const q=P.play();q&&typeof q.then=="function"&&q.catch(()=>{})}catch{}},150);return()=>clearTimeout(O)},[rr]),x.useEffect(()=>{if(!e?._id||!Oo)return;let ae=!1;return(async()=>{f(!0);try{const P=localStorage.getItem("accessToken");if(!P){f(!1);return}const M=await De.get(`${Oo}/chat/rooms`,{headers:{Authorization:`Bearer ${P}`}});if(ae)return;const q=(M.data?.rooms||[]).filter(ne=>ne.type!=="public"),J=Ye(q);r(J),Ge(J);const oe=new Set,te={};q.forEach(ne=>{te[ne.id]=ne.unreadCount||0,ne.participants?.forEach(de=>{de.isOnline&&oe.add(de.id)})}),T(te),I(oe),o(ne=>{const de={...ne};let ye=!1;return q.forEach(ze=>{de[ze.id]||(de[ze.id]=[],ye=!0)}),Object.keys(de).forEach(ze=>{q.some(rt=>rt.id===ze)||(delete de[ze],ye=!0)}),ye?de:ne});try{const ne=sessionStorage.getItem("openRoomKey");if(ne){const de=J.find(ye=>String(ye.id)===String(ne));de&&c(de.id),sessionStorage.removeItem("openRoomKey")}}catch{}}catch(P){ae||ee.error(P.response?.data?.message||P.message||"Unable to load chats")}finally{ae||f(!1)}})(),()=>{ae=!0}},[e?._id]),x.useEffect(()=>{ve.current=t},[t]),x.useEffect(()=>{re.current=l},[l]),x.useEffect(()=>{Vn.current=ht},[ht]),x.useEffect(()=>{Qr.current=ir},[ir]),x.useEffect(()=>{if(!t.length){c(null);return}l&&t.some(ae=>ae.id===l)},[t,l]),x.useEffect(()=>{if(!e?._id||!WS)return;const ae=localStorage.getItem("accessToken");if(!ae)return;const O=Xl(WS,{auth:{token:ae},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return O.on("connect_error",P=>{console.error("Socket connection error:",P.message),j(`Connection failed: ${P.message}`)}),G.current=O,O.on("connect",()=>{console.log("Socket connected"),j(null)}),O.on("disconnect",P=>{console.log("Socket disconnected:",P),P==="io server disconnect"&&O.connect()}),O.on("reconnect",P=>{console.log("Socket reconnected after",P,"attempts"),j(null)}),O.on("reconnect_attempt",P=>{console.log("Reconnection attempt",P)}),O.on("reconnect_error",P=>{console.error("Reconnection error:",P),j("Reconnecting...")}),O.on("reconnect_failed",()=>{console.error("Reconnection failed"),j("Unable to reconnect. Please refresh the page.")}),O.on("connect_error",P=>{console.error("Connection error:",P),j(P.message||"Unable to connect to chat")}),O.on("chat:new-message",async P=>{try{if(!P||!P.roomKey){console.error("Invalid message received:",P);return}const oe=(ve.current.find(de=>de.id===P.roomKey)?.participants||[]).map(de=>String(de.id||de._id||de)).filter(Boolean);let te;try{te=await ac(P,P.roomKey,e?._id,oe)}catch(de){console.error("Error decrypting message:",de),te=P}o(de=>{const ye=de[te.roomKey]||[];return ye.some(rt=>rt.id===te.id||rt.timestamp===te.timestamp&&rt.sender?.id===te.sender?.id)?de:{...de,[te.roomKey]:[...ye,te]}});const ne=re.current;te.sender.id!==e?._id&&(Ve(te.roomKey,[te.id]),te.roomKey===ne?Xe(te.roomKey,[te.id]):T(de=>({...de,[te.roomKey]:(de[te.roomKey]||0)+1}))),r(de=>{const ye=de.findIndex(nt=>nt.id===te.roomKey);if(ye<=0)return de;const ze=de[ye],rt=[...de.slice(0,ye),...de.slice(ye+1)],yt=[ze,...rt];try{Ge(yt)}catch{}return yt})}catch(M){console.error("Error processing new message:",M),P&&P.roomKey&&(o(q=>{const J=q[P.roomKey]||[];return J.some(te=>te.id===P.id)?q:{...q,[P.roomKey]:[...J,P]}}),r(q=>{const J=q.findIndex(de=>de.id===P.roomKey);if(J<=0)return q;const oe=q[J],te=[...q.slice(0,J),...q.slice(J+1)],ne=[oe,...te];try{Ge(ne)}catch{}return ne}))}}),O.on("chat:rooms",P=>{if(!P||!Array.isArray(P))return;P=P.filter(oe=>oe.type!=="public");const M=Ye(P);r(M),Ge(M),f(!1);const q={},J=new Set;P.forEach(oe=>{q[oe.id]=oe.unreadCount||0,o(te=>te[oe.id]?te:{...te,[oe.id]:[]}),oe.participants?.forEach(te=>{const ne=String(te.id||te._id||te);te.isOnline&&J.add(ne)})}),T(q),I(J);try{const oe=sessionStorage.getItem("openRoomKey");if(oe){const ne=M.find(de=>String(de.id)===String(oe));ne&&c(ne.id),sessionStorage.removeItem("openRoomKey")}const te=sessionStorage.getItem("incomingCall");if(te){const ne=JSON.parse(te);if(ne?.roomKey){const de=M.find(ye=>String(ye.id)===String(ne.roomKey))||null;Le({from:ne.from,roomKey:ne.roomKey,chat:de,peers:ne.peers,isAudioOnly:ne.isAudioOnly})}sessionStorage.removeItem("incomingCall")}}catch{}}),O.on("rtc:ring",P=>{const{from:M,roomKey:q,peers:J,isAudioOnly:oe}=P||{};if(!M||!q)return;if(ce&&String(re.current)===String(q)){console.log(`[RTC:RING] Ignoring incoming call - already in call from same room (${q})`);return}const de=(ve.current||[]).find(ye=>String(ye.id)===String(q))||null;Le({from:M,roomKey:q,chat:de,peers:J,isAudioOnly:oe})}),O.on("rtc:ring:accept",async P=>{const{from:M,roomKey:q,peers:J,isAccepter:oe}=P||{};if(!M||!q||!re.current||String(q)!==String(re.current))return;const te=ce&&Dr.current.has(String(q));if(!oe&&!te){console.log("[RTC:RING:ACCEPT] Ignoring accept event - not accepter and not in call");return}if(oe){Sr.current=!1,console.log(`[RTC:RING:ACCEPT] We are accepting the call from ${M}`);const ne=String(M);if(dt(de=>de.includes(ne)?de:[...de,ne]),Vt.current.add(ne),Array.isArray(J)&&J.length>0&&(console.log(`[RTC:RING:ACCEPT] Adding ${J.length} existing participants to call`),J.forEach(de=>{const ye=String(de);ye!==String(e?._id)&&ye!==ne&&(dt(ze=>ze.includes(ye)?ze:[...ze,ye]),Vt.current.add(ye))})),nr(!0),await $r(ne),Array.isArray(J)&&J.length>0)for(const de of J){const ye=String(de);ye!==String(e?._id)&&ye!==ne&&await $r(ye)}}else if(te){console.log(`[RTC:RING:ACCEPT] New participant ${M} joined our call`);const ne=String(M);ne!==String(e?._id)&&!kt.current[ne]&&(dt(de=>de.includes(ne)?de:[...de,ne]),Vt.current.add(ne),nr(!0),await $r(ne))}}),O.on("rtc:ring:decline",P=>{const{from:M,roomKey:q}=P||{};if(!M||!q||!re.current||String(q)!==String(re.current))return;dt(oe=>oe.filter(te=>te!==M)),ee.error("Call declined"),ln(pt?"audio_call":"video_call",0,"missed")}),O.on("rtc:offer",async P=>{try{const{from:M,roomKey:q,offer:J}=P||{};if(!M||!q||!re.current||String(q)!==String(re.current)||!Dr.current.has(String(q)))return;const oe=String(M);oe!==String(e?._id)&&(Vt.current.has(oe)||(console.log(`[RTC:OFFER] Adding participant ${oe} to accepted list`),Vt.current.add(oe),dt(ye=>ye.includes(oe)?ye:[...ye,oe])));let te=kt.current[M];if(!te){te=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),kt.current[M]=te;let ye=Re.current||bt.current;ye||(console.log("[RTC:OFFER] No local stream available, acquiring media..."),ye=await navigator.mediaDevices.getUserMedia({video:!pt,audio:!0}),Ee(ye),Re.current=ye,$e(ye),bt.current=ye,setTimeout(()=>{if(Ne.current&&ye)try{Ne.current.srcObject=ye;const nt=Ne.current.play();nt&&typeof nt.then=="function"&&nt.catch(lt=>{console.error("Error playing video in offer handler:",lt),setTimeout(()=>{if(Ne.current&&ye)try{Ne.current.srcObject=ye,Ne.current.play().catch(()=>{})}catch{}},200)})}catch(nt){console.error("Error setting video in offer handler:",nt)}},100));const ze=ye.getTracks();if(ze.length===0){console.error("[RTC:OFFER] Stream has no tracks, cannot proceed");return}const rt=ze.find(nt=>nt.kind==="video"),yt=rt&&(rt.label.toLowerCase().includes("screen")||rt.label.toLowerCase().includes("window")||rt.label.toLowerCase().includes("monitor"));console.log(`[RTC:OFFER] Adding ${ze.length} tracks to peer connection for ${M} (isScreenSharing: ${on.current}, detected: ${yt})`),ze.forEach(nt=>{if(te.getSenders().find(lt=>lt.track===nt)){console.log(`[RTC:OFFER] Track ${nt.kind} already added, skipping`);return}nt.kind==="audio"&&(nt.enabled=Vn.current),nt.kind==="video"&&(nt.enabled=Qr.current),console.log(`[RTC:OFFER] Adding ${nt.kind} track (label: ${nt.label})`),te.addTrack(nt,ye)}),te.ontrack=nt=>{const lt=nt.streams?.[0];lt&&(console.log(`[RTC:OFFER] Received remote stream from ${M} with ${lt.getTracks().length} tracks`),Vt.current.has(String(M))&&mt(Bt=>{const Gt={...Bt};return Gt[M]=lt,console.log(`[RTC:OFFER] Updated remoteStreams, now have ${Object.keys(Gt).length} remote streams`),Gt}),nt.streams?.forEach(Bt=>{Bt.getTracks().forEach(Gt=>{Gt.onended=()=>{mt(En=>{const Bn={...En};if(Bn[M]){const $n=new MediaStream(Bn[M].getTracks().filter(Sa=>Sa!==Gt));$n.getTracks().length>0?Bn[M]=$n:delete Bn[M]}return Bn})}})}))},te.oniceconnectionstatechange=()=>{const nt=te.iceConnectionState;console.log(`[RTC:OFFER] ICE connection state for ${M}: ${nt}`),(nt==="connected"||nt==="completed")&&nr(!1)},te.onicecandidate=nt=>{nt.candidate&&G.current?.connected&&G.current.emit("rtc:candidate",{to:M,roomKey:q,candidate:nt.candidate})}}await te.setRemoteDescription(new RTCSessionDescription(J));const ne=Lt.current[M]||[];if(ne.length){console.log(`[RTC:OFFER] Processing ${ne.length} queued ICE candidates for ${M}`);for(const ye of ne)try{await te.addIceCandidate(new RTCIceCandidate(ye))}catch{}Lt.current[M]=[]}const de=await te.createAnswer();await te.setLocalDescription(de),G.current?.connected&&G.current.emit("rtc:answer",{to:M,roomKey:q,answer:de}),Me(!0)}catch(M){console.error("Error handling offer:",M)}}),O.on("rtc:answer",async P=>{try{const{from:M,roomKey:q,answer:J}=P||{};if(!M||!q||!re.current||String(q)!==String(re.current))return;const oe=kt.current[M];if(!oe)return;await oe.setRemoteDescription(new RTCSessionDescription(J));const te=Lt.current[M]||[];if(te.length){for(const ne of te)try{await oe.addIceCandidate(new RTCIceCandidate(ne))}catch{}Lt.current[M]=[]}}catch{}}),O.on("rtc:candidate",async P=>{try{const{from:M,roomKey:q,candidate:J}=P||{};if(!M||!q||!re.current||String(q)!==String(re.current)||!J)return;const oe=kt.current[M];if(oe&&oe.remoteDescription)try{await oe.addIceCandidate(new RTCIceCandidate(J))}catch{}else{const te=Lt.current[M]||[];Lt.current[M]=[...te,J]}}catch{}}),O.on("rtc:end",P=>{const{from:M,roomKey:q}=P||{};if(!M||!q||!re.current||String(q)!==String(re.current))return;const J=kt.current[M];J&&(J.close(),delete kt.current[M]),mt(oe=>{const te={...oe};return delete te[M],te})}),O.on("rtc:screen-share-update",P=>{const{roomKey:M,userId:q,isSharing:J}=P||{};!M||!q||!re.current||String(M)!==String(re.current)||console.log(`[RTC:SCREEN-SHARE-UPDATE] User ${q} ${J?"started":"stopped"} screen sharing`)}),O.on("chat:user-status",P=>{!P||!P.userId||(I(M=>{const q=new Set(M);return P.isOnline?q.add(String(P.userId)):q.delete(String(P.userId)),q}),r(M=>M.map(q=>{if(q.participants){const J=q.participants.map(oe=>String(oe.id||oe._id||oe)===String(P.userId)?{...oe,isOnline:P.isOnline}:oe);return{...q,participants:J}}return q})))}),O.on("chat:messages-read",P=>{o(M=>{const q={...M};return q[P.roomKey]&&(q[P.roomKey]=q[P.roomKey].map(J=>P.messageIds.includes(J.id)&&!J.readBy?.includes(P.userId)?{...J,readBy:[...J.readBy||[],P.userId]}:J)),q})}),O.on("chat:message-delivered",P=>{o(M=>{const q={...M};return q[P.roomKey]&&(q[P.roomKey]=q[P.roomKey].map(J=>{if(P.messageId&&J.id===P.messageId){const oe=[...J.deliveredTo||[]];return P.deliveredTo.forEach(te=>{oe.includes(te)||oe.push(te)}),{...J,deliveredTo:oe}}else if(P.messageIds&&P.messageIds.includes(J.id)){const oe=[...J.deliveredTo||[]];return P.deliveredTo.forEach(te=>{oe.includes(te)||oe.push(te)}),{...J,deliveredTo:oe}}return J})),q})}),O.on("chat:message-deleted",async P=>{o(M=>{const q={...M};return q[P.roomKey]&&(P.deleteForEveryone?q[P.roomKey]=q[P.roomKey].map(J=>J.id===P.messageId?{...J,isDeleted:!0,text:"This message was deleted",attachments:[],contactData:null}:J):q[P.roomKey]=q[P.roomKey].filter(J=>J.id!==P.messageId)),q})}),()=>{O.disconnect()}},[e?._id]);const Ve=x.useCallback((ae,O)=>{!G.current?.connected||!O?.length||G.current.emit("chat:mark-delivered",{roomKey:ae,messageIds:O},P=>{P?.success||console.error("Failed to mark messages as delivered")})},[]),Xe=x.useCallback((ae,O)=>{!G.current?.connected||!O?.length||G.current.emit("chat:mark-read",{roomKey:ae,messageIds:O},P=>{P?.success&&T(M=>{const q=M[ae]||0,J=Math.max(0,q-O.length);return{...M,[ae]:J}})})},[]),Ke=x.useCallback(async ae=>{if(!ae||!Oo||m[ae])return;const O=localStorage.getItem("accessToken");if(O){g(P=>({...P,[ae]:!0}));try{const P=await De.get(`${Oo}/chat/rooms/${ae}/messages`,{headers:{Authorization:`Bearer ${O}`}}),J=(t.find(te=>te.id===ae)?.participants||[]).map(te=>te.id||te._id||te).filter(Boolean),oe=await Promise.all((P.data?.messages||[]).map(te=>ac(te,ae,e?._id,J)));o(te=>({...te,[ae]:oe}))}catch(P){ee.error(P.response?.data?.message||P.message||"Unable to load messages")}finally{g(P=>({...P,[ae]:!1}))}}},[m,t,e?._id]);x.useEffect(()=>{if(l)if(a[l]?.length){const ae=a[l].filter(O=>O.sender.id!==e?._id&&!O.readBy?.includes(e?._id));ae.length>0&&Xe(l,ae.map(O=>O.id))}else Ke(l)},[l,a,Ke,e?._id,Xe]),x.useEffect(()=>(l&&a[l]?.length&&($.current&&clearTimeout($.current),$.current=setTimeout(()=>{const ae=a[l].filter(O=>O.sender.id!==e?._id&&!O.readBy?.includes(e?._id));ae.length>0&&Xe(l,ae.map(O=>O.id))},1e3)),()=>{$.current&&clearTimeout($.current)}),[l,a,e?._id,Xe]);const He=()=>{if(V.current&&l){const{scrollTop:ae,scrollHeight:O,clientHeight:P}=V.current,M=O-ae-P<50;R.current=M;const q={scrollTop:ae,isAtBottom:M,timestamp:Date.now()};localStorage.setItem(`chat_scroll_supervisor_${l}`,JSON.stringify(q))}},qe=()=>{if(V.current&&l){const ae=localStorage.getItem(`chat_scroll_supervisor_${l}`);if(ae)try{const{scrollTop:O,isAtBottom:P}=JSON.parse(ae);P?(gt(),R.current=!0):(V.current.scrollTop=O,R.current=!1)}catch(O){console.error("Error restoring scroll position:",O)}else gt(),R.current=!0}},gt=()=>{F.current&&(F.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),R.current=!0)};x.useEffect(()=>{const ae=()=>{He()};return window.addEventListener("beforeunload",ae),()=>window.removeEventListener("beforeunload",ae)},[l]),x.useEffect(()=>{if(!(!l||!Se.length))if(Z){const ae=setTimeout(()=>{qe(),U(!1)},100);return()=>clearTimeout(ae)}else{const O=Se[Se.length-1]?.sender?.id===e?._id;if(R.current||O){const P=setTimeout(()=>{gt()},100);return()=>clearTimeout(P)}}},[Se.length,l,Z,e?._id]),x.useEffect(()=>{const ae=V.current;if(!ae)return;let O;const P=()=>{if(ae.scrollTop<50&&l&&(a[l]?.length||0)>0&&!p[l]){const oe=l,te=a[oe]||[],ne=te[0]?.createdAt||te[0]?.timestamp,de=localStorage.getItem("accessToken");if(ne&&de){v(ze=>({...ze,[oe]:!0}));const ye=ae.scrollHeight;De.get(`${Oo}/chat/rooms/${oe}/messages`,{params:{before:ne,limit:50},headers:{Authorization:`Bearer ${de}`}}).then(async ze=>{const nt=(t.find(Bt=>Bt.id===oe)?.participants||[]).map(Bt=>Bt.id||Bt._id||Bt).filter(Boolean),lt=await Promise.all((ze.data?.messages||[]).map(Bt=>ac(Bt,oe,e?._id,nt)));o(Bt=>{const Gt=Bt[oe]||[],En=lt.filter(Bn=>!Gt.some($n=>$n.id===Bn.id));return{...Bt,[oe]:[...En,...Gt]}}),setTimeout(()=>{const Bt=ae.scrollHeight;ae.scrollTop+=Bt-ye},0)}).finally(()=>{v(ze=>({...ze,[oe]:!1}))})}}const{scrollTop:M,scrollHeight:q,clientHeight:J}=ae;R.current=q-M-J<50,clearTimeout(O),O=setTimeout(()=>{He()},200)};return ae.addEventListener("scroll",P),()=>{ae.removeEventListener("scroll",P),clearTimeout(O)}},[l]);const Dt=async(ae=[],O="text",P=null)=>{const M=k.trim();if(!(!M&&!ae.length&&!P)&&l){if(!G.current||!G.current.connected){ee.error("Chat connection unavailable");return}try{const q=pe||ve.current.find(de=>de.id===l),oe=(q?.participants||[]).map(de=>de.id||de._id||de).filter(Boolean);oe.length===0&&e?._id&&q?.type!=="public"&&oe.push(e._id);const ne=await q5({text:M,messageType:O,attachments:ae,contactData:P},l,e?._id,oe);G.current.emit("chat:send",{roomKey:l,text:ne.text||"",messageType:O,attachments:ne.attachments||[],contactData:ne.contactData||null,isEncrypted:!0},de=>{de?.success?N(""):ee.error(de?.message||"Failed to send message")})}catch(q){console.error("Error sending message:",q),ee.error("Failed to send message. Please try again.")}}},or=async(ae,O)=>{if(!(!ae||!l)){K(!0);try{const P=localStorage.getItem("accessToken"),M=new FormData;M.append("file",ae);const q=await De.post(`${Oo}/chat/upload`,M,{headers:{Authorization:`Bearer ${P}`,"Content-Type":"multipart/form-data"}});if(q.data?.success){const J=q.data.attachment;Dt([J],O),X(!1)}else ee.error("Failed to upload file")}catch(P){ee.error(P.response?.data?.message||"Failed to upload file")}finally{K(!1)}}},Mr=ae=>{const O=ae.target.files?.[0];O&&(O.type.startsWith("image/")?or(O,"image"):ee.error("Please select an image file")),ae.target.value=""},er=ae=>{const O=ae.target.files?.[0];O&&or(O,"document"),ae.target.value=""},It=()=>{if(!e?._id){ee.error("User information not available");return}const ae={userId:e._id,username:e.username,email:e.email,phone:e.phone||""};Dt([],"contact",ae),X(!1)},Fn=(ae,O=!1)=>{if(!G.current?.connected){ee.error("Chat connection unavailable");return}G.current.emit("chat:delete",{messageId:ae,deleteForEveryone:O},P=>{P?.success||ee.error(P?.message||"Failed to delete message"),Q(M=>({...M,[ae]:!1}))})},Nn=(ae,O)=>{const P=document.createElement("a");P.href=ae,P.download=O||"image.jpg",P.target="_blank",document.body.appendChild(P),P.click(),document.body.removeChild(P)},Zr=ae=>{ae&&window.open(ae,"_blank","noopener,noreferrer")},Br=(ae,O,P)=>{ae.preventDefault(),L({open:!0,x:ae.clientX,y:ae.clientY,messageId:O,imageUrl:P})};x.useEffect(()=>{const ae=()=>{L({open:!1,x:0,y:0,messageId:null,imageUrl:null})};if(le.open)return document.addEventListener("click",ae),()=>document.removeEventListener("click",ae)},[le.open]);const In=ae=>{c(ae),C(!1),T(O=>({...O,[ae]:0}))},Qt=ae=>ae.type==="public"?n.jsx(mC,{className:"w-5 h-5 text-white"}):ae.type==="group"?n.jsx(rn,{className:"w-5 h-5 text-white"}):n.jsx(Rn,{className:"w-5 h-5 text-white"}),ln=async(ae,O=null,P="completed")=>!l||!G.current?.connected?null:new Promise(M=>{const q=pe||ve.current.find(ne=>ne.id===l),oe=(q?.participants||[]).map(ne=>ne.id||ne._id||ne).filter(Boolean);oe.length===0&&e?._id&&q?.type!=="public"&&oe.push(e._id);const te=ae==="video_call"?O?`Video call (${Yn(O)})`:"Video call":O?`Audio call (${Yn(O)})`:"Audio call";G.current.emit("chat:send",{roomKey:l,text:te,messageType:ae,attachments:[],contactData:null,isEncrypted:!1,meta:{callDuration:O,callStatus:P}},ne=>{ne?.success?M(ne.messageId):M(null)})}),Yn=ae=>{const O=Math.floor(ae/3600),P=Math.floor(ae%3600/60),M=ae%60;return O>0?`${O}:${P.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`:`${P}:${M.toString().padStart(2,"0")}`},cn=async()=>{try{if(!pe){ee.error("No chat selected");return}const ae=await un();if($e(ae),bt.current=ae,Ee(ae),Re.current=ae,re.current=l,Dr.current.add(String(l)),Vt.current.add(String(e?._id)),Sr.current=!0,Me(!0),setTimeout(()=>{if(Ne.current&&ae)try{Ne.current.srcObject=ae;const O=Ne.current.play();O&&typeof O.then=="function"&&O.catch(P=>{console.error("Error playing local video:",P),setTimeout(()=>{if(Ne.current&&ae)try{Ne.current.srcObject=ae,Ne.current.play().catch(()=>{})}catch{}},200)})}catch(O){console.error("Error setting local video:",O)}},100),pe.type==="individual"&&pe.participant)console.log(`[VIDEO CALL] Initiating call to ${pe.participant.id}`),G.current.emit("rtc:ring",{to:pe.participant.id,roomKey:l});else if(pe.type==="group"||pe.type==="public"){const P=(pe.participants||[]).map(q=>q.id||q._id).filter(q=>q&&String(q)!==String(e?._id));if(P.length===0){ee.error("No other participants in this chat"),lr();return}console.log(`[VIDEO CALL] Initiating group call to ${P.length} participants`);const M=[];P.forEach(q=>{G.current.emit("rtc:ring",{to:q,roomKey:l,peers:[...M]}),M.push(q)})}else ee.error("Unable to start call for this chat type"),lr()}catch(ae){console.error("Error starting video call:",ae),ee.error("Unable to access camera/microphone")}},xt=async()=>{try{if(!pe){ee.error("No chat selected");return}const ae=await un(!0);if(Ee(ae),Re.current=ae,$e(ae),bt.current=ae,Er(!0),re.current=l,Dr.current.add(String(l)),Vt.current.add(String(e?._id)),Sr.current=!0,Me(!0),pe.type==="individual"&&pe.participant)console.log(`[AUDIO CALL] Initiating call to ${pe.participant.id}`),G.current.emit("rtc:ring",{to:pe.participant.id,roomKey:l,isAudioOnly:!0});else if(pe.type==="group"||pe.type==="public"){const P=(pe.participants||[]).map(M=>M.id||M._id).filter(M=>M&&String(M)!==String(e?._id));if(P.length===0){ee.error("No other participants in this chat"),lr();return}console.log(`[AUDIO CALL] Initiating group call to ${P.length} participants`),P.forEach(M=>{G.current.emit("rtc:ring",{to:M,roomKey:l,isAudioOnly:!0})})}else ee.error("Unable to start call for this chat type"),lr()}catch(ae){console.error("Error starting audio call:",ae),ee.error("Unable to access microphone")}},lr=()=>{try{const ae=Gn,O=Tr.current!==null;Tr.current&&(clearInterval(Tr.current),Tr.current=null),ae>0&&Sr.current&&(ln(pt?"audio_call":"video_call",ae,"completed"),console.log("[CALL NOTIFICATION] Call ended with duration:",ae)),oa(0),se.current=null,me.current=null,Ce&&Ce.getTracks().forEach(P=>P.stop()),Be&&Be!==Ce&&Be.getTracks().forEach(P=>P.stop()),Ee(null),Re.current=null,$e(null),bt.current=null,Yt(!1),Me(!1),Er(!1),mn(!1),Sr.current=!1,Object.values(kt.current).forEach(P=>P.close()),kt.current={},mt({}),G.current?.connected&&tt.length&&tt.forEach(P=>{G.current.emit("rtc:end",{to:P,roomKey:l,from:e?._id})}),dt([]),Vt.current.clear(),Dr.current.delete(String(l)),re.current=null,nr(!1),yr(!0),hr(!0)}catch{}},$r=async ae=>{if(!G.current?.connected||!ae)return;const O=re.current||l;if(!O)return;let P=Re.current||bt.current;if(!P)try{console.log(`[CREATE OFFER] No stream available, acquiring media for ${ae}...`);const ne=await un(pt);$e(ne),bt.current=ne,Ee(ne),Re.current=ne,P=ne}catch{console.error(`[CREATE OFFER] Failed to acquire media for ${ae}`);return}const M=P.getTracks();if(M.length===0){console.error(`[CREATE OFFER] Stream has no tracks for ${ae}, cannot proceed`);return}const q=M.find(ne=>ne.kind==="video"),J=q&&(q.label.toLowerCase().includes("screen")||q.label.toLowerCase().includes("window")||q.label.toLowerCase().includes("monitor"));console.log(`[CREATE OFFER] Creating peer connection for ${ae} with ${M.length} tracks (isScreenSharing: ${on.current}, detected screen share: ${J})`);let oe=kt.current[ae];oe||(oe=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),kt.current[ae]=oe,M.forEach(ne=>{if(oe.getSenders().find(de=>de.track===ne)){console.log(`[CREATE OFFER] Track ${ne.kind} already added to ${ae}, skipping`);return}ne.kind==="audio"&&(ne.enabled=Vn.current),ne.kind==="video"&&(ne.enabled=Qr.current),console.log(`[CREATE OFFER] Adding ${ne.kind} track (label: ${ne.label}) to peer connection for ${ae}`),oe.addTrack(ne,P)}),oe.ontrack=ne=>{const de=ne.streams?.[0];de&&(console.log(`[CREATE OFFER] Received remote stream from ${ae} with ${de.getTracks().length} tracks`),Vt.current.has(String(ae))?mt(ye=>{const ze={...ye};return ze[ae]=de,console.log(`[CREATE OFFER] Updated remoteStreams for ${ae}, now have ${Object.keys(ze).length} remote streams`),ze}):console.log(`[CREATE OFFER] Participant ${ae} not in accepted list, not adding to remoteStreams`),ne.streams?.forEach(ye=>{ye.getTracks().forEach(ze=>{ze.onended=()=>{mt(rt=>{const yt={...rt};if(yt[ae]){const nt=new MediaStream(yt[ae].getTracks().filter(lt=>lt!==ze));nt.getTracks().length>0?yt[ae]=nt:delete yt[ae]}return yt})}})}))},oe.oniceconnectionstatechange=()=>{const ne=oe.iceConnectionState;console.log(`[CREATE OFFER] ICE connection state for ${ae}: ${ne}`),(ne==="connected"||ne==="completed")&&nr(!1)},oe.onicecandidate=ne=>{ne.candidate&&G.current.emit("rtc:candidate",{to:ae,roomKey:O,candidate:ne.candidate})});const te=await oe.createOffer();await oe.setLocalDescription(te),console.log(`[CREATE OFFER] Sending offer to ${ae}`),G.current.emit("rtc:offer",{to:ae,roomKey:O,offer:te,from:e?._id})},Sn=async()=>{if(!(!Ce&&!Be))try{if(Cr){if(Be){const ae=Be.getVideoTracks()[0];ae&&Object.values(kt.current).forEach(async P=>{const M=P.getSenders().find(q=>q.track&&q.track.kind==="video");if(M)try{await M.replaceTrack(ae)}catch(q){console.error("Error replacing track:",q)}}),Ee(Be),Re.current=Be,Yt(!1),on.current=!1;const O=re.current||l;G.current?.connected&&O&&G.current.emit("rtc:screen-share",{roomKey:O,isSharing:!1})}}else{const ae=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),O=ae.getVideoTracks()[0],P=ae.getAudioTracks()[0];if(!O)return;O.enabled=ir,P&&(P.enabled=ht);const M=Be?Be.getAudioTracks():Ce?Ce.getAudioTracks():[],q=new MediaStream([O,...P?[P]:M]);Object.values(kt.current).forEach(async oe=>{const te=oe.getSenders().find(ne=>ne.track&&ne.track.kind==="video");if(te)try{await te.replaceTrack(O)}catch(ne){console.error("Error replacing track:",ne)}}),Ee(q),Re.current=q,Yt(!0),on.current=!0;const J=re.current||l;G.current?.connected&&J&&G.current.emit("rtc:screen-share",{roomKey:J,isSharing:!0}),O.onended=async()=>{if(Be){const oe=Be.getVideoTracks()[0];oe&&Object.values(kt.current).forEach(async ne=>{const de=ne.getSenders().find(ye=>ye.track&&ye.track.kind==="video");if(de)try{await de.replaceTrack(oe)}catch(ye){console.error("Error replacing track:",ye)}}),Ee(Be),Re.current=Be,Yt(!1),on.current=!1;const te=re.current||l;G.current?.connected&&te&&G.current.emit("rtc:screen-share",{roomKey:te,isSharing:!1})}}}}catch{ee.error("Unable to share screen")}},vr=async(ae,O=null)=>{if(!ae)return;Ce||(pt?await xt():await cn()),dt(q=>q.includes(ae)?q:[...q,ae]);const P=Object.keys(kt.current),M=O||l;M?G.current.emit("rtc:ring",{to:ae,roomKey:M,peers:P,isAudioOnly:pt}):console.error("No room key available for calling participant")},la=async(ae,O,P=!1)=>{try{let M=Ce||Be;if(M||(M=await un(P),Ee(M),Re.current=M,$e(M),bt.current=M),Er(P),re.current=O,c(O),Dr.current.add(String(O)),Me(!0),nr(!0),setTimeout(()=>{if(Ne.current&&M)try{Ne.current.srcObject=M;const oe=Ne.current.play();oe&&typeof oe.then=="function"&&oe.catch(te=>{console.error("Error playing video on accept:",te),setTimeout(()=>{if(Ne.current&&M)try{Ne.current.srcObject=M,Ne.current.play().catch(()=>{})}catch{}},200)})}catch(oe){console.error("Error setting video on accept:",oe)}},100),dt(oe=>oe.includes(ae)?oe:[...oe,ae]),Vt.current.add(String(ae)),!kt.current[ae]){const oe=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});kt.current[ae]=oe,M.getTracks().forEach(te=>{oe.getSenders().find(ne=>ne.track===te)||(te.kind==="audio"&&(te.enabled=Vn.current),te.kind==="video"&&(te.enabled=Qr.current),oe.addTrack(te,M))}),oe.ontrack=te=>{const ne=te.streams?.[0];ne&&(Vt.current.has(String(ae))&&mt(de=>{const ye={...de};return ye[ae]=ne,ye}),te.streams?.forEach(de=>{de.getTracks().forEach(ye=>{ye.onended=()=>{mt(ze=>{const rt={...ze};if(rt[ae]){const yt=new MediaStream(rt[ae].getTracks().filter(nt=>nt!==ye));yt.getTracks().length>0?rt[ae]=yt:delete rt[ae]}return rt})}})}))},oe.oniceconnectionstatechange=()=>{const te=oe.iceConnectionState;(te==="connected"||te==="completed")&&nr(!1)},oe.onicecandidate=te=>{te.candidate&&G.current?.connected&&G.current.emit("rtc:candidate",{to:ae,roomKey:O,candidate:te.candidate})}}const q=Array.isArray(je?.peers)?je.peers.map(String):[],J=q.length?q:Object.keys(kt.current);G.current.emit("rtc:ring:accept",{to:ae,roomKey:O,peers:J}),Le(null)}catch(M){console.error("Error accepting ring:",M),ee.error("Unable to start media")}},qa=(ae,O)=>{G.current.emit("rtc:ring:decline",{to:ae,roomKey:O}),Le(null);const P=je?.isAudioOnly?"audio_call":"video_call";ln(P,0,"declined")},un=async(ae=!1)=>{let O=null,P=null;if(ae)try{P=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]}catch{throw new Error("Microphone unavailable")}else try{const M=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0}),q=M.getVideoTracks()[0],J=M.getAudioTracks()[0];q&&(O=q),J&&(P=J)}catch{try{const q=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];q&&(O=q)}catch{}try{const q=(await navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0];q&&(P=q)}catch{}}if(!O&&!P)throw new Error("Media devices unavailable");return new MediaStream([...O?[O]:[],...P?[P]:[]])},Ur=()=>{const ae=Be||Ce,O=ae?ae.getAudioTracks():[],P=!ht;O.forEach(M=>{M.enabled=P}),Object.values(kt.current).forEach(M=>{M.getSenders().forEach(q=>{q.track&&q.track.kind==="audio"&&(q.track.enabled=P)})}),yr(P)},fo=()=>{const ae=Be||Ce,O=ae?ae.getVideoTracks():[],P=!ir;O.forEach(M=>{M.enabled=P}),Object.values(kt.current).forEach(M=>{M.getSenders().forEach(q=>{q.track&&q.track.kind==="video"&&(q.track.enabled=P)})}),hr(P)},ds=ae=>{const O=ae?.avatar||ae?.participant?.profilePic;return O?n.jsx(Rr,{src:O}):null},pn=ae=>ae?ae.type==="public"?"Public Chat":ae.type==="individual"&&ae.participant?.username?ae.participant.username:ae.name||"Chat":"Incoming Call",Va=()=>{const ae={};return pe&&(pe.participants||pe.members||[]).forEach(P=>{const M=String(P.id||P._id||P);ae[M]={id:M,username:P.username||P.name,profilePic:P.profilePic,...P}}),ae},mi=ae=>{if(ae.key==="Enter"&&!ae.shiftKey){if(ae.preventDefault(),!Fe)return;Dt()}},Ac=ae=>{const O=new Date,P=new Date(ae),M=O-P,q=Math.floor(M/6e4),J=Math.floor(M/36e5),oe=Math.floor(M/864e5);return q<1?"Just now":q<60?`${q}m ago`:J<24?`${J}h ago`:oe<7?`${oe}d ago`:P.toLocaleDateString([],{month:"short",day:"numeric"})},Cn=ae=>{const O=new Date(ae),P=new Date,M=new Date(P.getFullYear(),P.getMonth(),P.getDate()),q=new Date(O.getFullYear(),O.getMonth(),O.getDate()),J=Math.floor((M-q)/864e5);return J===0?"Today":J===1?"Yesterday":O.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})},ho=ae=>{if(!Array.isArray(Se)||!Se.length)return!1;if(ae===0)return!0;const O=Se[ae],P=Se[ae-1];return!O||!P?!0:O.sender.id!==P.sender.id||new Date(O.timestamp)-new Date(P.timestamp)>3e5};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Team Chat | FYP Buddy - Communicate with Groups",description:"Chat with your supervised FYP groups. Provide guidance, answer questions, and collaborate with student teams in real-time.",keywords:"supervisor chat, team communication, FYP guidance, student collaboration"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"supervisor"}),n.jsxs("main",{className:"flex-1 flex flex-col max-w-5xl mx-auto w-full",children:[n.jsx(V5,{activeChat:pe,isChatsOpen:S,setIsChatsOpen:C,onlineUsers:A,startAudioCall:xt,startVideoCall:cn,getChatAvatar:ds,getChatTitle:pn,getChatIcon:Qt}),n.jsxs(Te,{className:"flex-1 flex flex-col mb-5 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border-none overflow-hidden",children:[n.jsx("div",{ref:V,className:`flex-1 overflow-y-auto p-6 space-y-4 
    bg-gradient-to-b from-gray-50/50 to-white 
    dark:from-gray-900/50 dark:to-gray-800 
    max-h-[70vh]`,children:d?n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsx(wt,{className:"w-6 h-6 animate-spin text-purple-500"})}):pe?n.jsxs(n.Fragment,{children:[Se.length===0&&n.jsxs("div",{className:"flex flex-col h-full items-center justify-center text-center px-6",children:[n.jsx(ni,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300 mb-2",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Send a message to start the conversation"})]}),Se.map((ae,O)=>{const M=(ae.sender||{}).id===e?._id,q=ho(O),J={...ae,activeChat:pe},oe=new Date(ae.timestamp||ae.createdAt).toDateString(),te=O>0?Se[O-1]:null,ne=te?new Date(te.timestamp||te.createdAt).toDateString():null,de=!ne||oe!==ne;return n.jsxs(pr.Fragment,{children:[de&&n.jsx("div",{className:"flex justify-center my-2",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:Cn(ae.timestamp||ae.createdAt)})}),n.jsx(G5,{message:J,isCurrentUser:M,showAvatar:q,user:e,deleteMenuOpen:W,setDeleteMenuOpen:Q,contextMenu:le,setContextMenu:L,handleDeleteMessage:Fn,handleImageDownload:Nn,handleFilePreview:Zr,handleImageContextMenu:Br,formatTime:Ac})]},ae.id||`${ae.roomKey}-${O}`)}),n.jsx("div",{ref:F})]}):n.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:"Click the chat to open the conversation and start messaging"})}),n.jsx(Y5,{inputValue:k,setInputValue:N,canSendMessage:Fe,uploading:Y,activeChat:pe,imageInputRef:ue,fileInputRef:z,inputRef:_,isAttachmentMenuOpen:B,setIsAttachmentMenuOpen:X,handleImageSelect:Mr,handleDocumentSelect:er,handleContactShare:It,handleSendMessage:Dt,handleKeyPress:mi,connectionError:b,socketRef:G})]})]}),n.jsx(fm,{chats:t,activeChatId:l,roomsLoading:d,chatMessages:a,unreadCounts:D,onlineUsers:A,handleChatSelect:In,getChatAvatar:ds,getChatTitle:pn,getChatIcon:Qt,isChatsOpen:S,setIsChatsOpen:C,isMobile:!0}),n.jsx(fm,{chats:t,activeChatId:l,roomsLoading:d,chatMessages:a,unreadCounts:D,onlineUsers:A,handleChatSelect:In,getChatAvatar:ds,getChatTitle:pn,getChatIcon:Qt,isMobile:!1})]})}),n.jsx(K5,{isVideoCallOpen:ce,endVideoCall:lr,isConnecting:rr,remoteStreams:jt,activeChat:pe,isAudioOnly:pt,user:e,micEnabled:ht,cameraEnabled:ir,toggleMic:Ur,toggleCamera:fo,localVideoRef:Ne,remoteVideoRef:Ln,localStream:Ce,cameraStream:Be,isScreenSharing:Cr,toggleScreenShare:Sn,group:pe,addParticipantToCall:vr,maximizedPeerId:kn,setMaximizedPeerId:us,getChatAvatar:ds,getChatTitle:pn,firstRemoteEntry:br,isCallMinimized:zn,setIsCallMinimized:mn,participantsMap:Va(),callDuration:Gn}),n.jsx(X5,{isVideoCallOpen:ce,isCallMinimized:zn,setIsCallMinimized:mn,endVideoCall:lr,isAudioOnly:pt,activeChat:pe,getChatAvatar:ds,getChatTitle:pn,localVideoRef:Ne,localStream:Ce,cameraStream:Be,isScreenSharing:Cr,micEnabled:ht,toggleMic:Ur,remoteStreams:jt,callDuration:Gn}),n.jsx(W5,{incomingCall:je,setIncomingCall:Le,acceptRing:la,declineRing:qa,getChatAvatar:ds,getChatTitle:pn})]})}const fQ=()=>{const{user:e}=it(b=>b.auth),[t,r]=x.useState([]),[a,o]=x.useState(!1),l="https://fyp-buddy.up.railway.app/",c=localStorage.getItem("accessToken"),d=b=>b?new Date(b).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"No date",f=async()=>{try{o(!0);const b=await De.get(`${l}/milestone/get-all-milestones`,{headers:{Authorization:`Bearer ${c}`},withCredentials:!0});if(b.data.success){const k=(b.data.data||[]).filter(S=>S.department===e?.department),N=k.filter(S=>S.phase!=="Completed");r(N),k.sort((S,C)=>new Date(C.updatedAt)-new Date(S.updatedAt)),r(N)}else r([])}catch(b){console.error(b),ee.error("Failed to load milestones"),r([])}finally{o(!1)}};x.useEffect(()=>{f()},[]);const m=b=>{const j=t.filter(N=>N.phase===b);return new Set(j.map(N=>typeof N.groupId=="object"&&N.groupId._id||N.groupId)).size},g=[{number:m("Proposal"),label:"Proposal Groups",color:"blue",icon:hn},{number:m("Progress"),label:"Progress Groups",color:"green",icon:rn},{number:m("Defence"),label:"Defence Groups",color:"orange",icon:fn}],v=(()=>{const b=[];return t.forEach(j=>{const k=new Date,N=j.submissionDeadline?new Date(j.submissionDeadline):null,S=j.gradingDeadline?new Date(j.gradingDeadline):null;j.isSubmissionActive&&N&&k<N?b.push({icon:"",text:`Student submission portal is active for ${j.phase} phase.`,time:`Till ${d(N)}`,updatedAt:j.updatedAt}):!j.isSubmissionActive&&N&&k>N&&b.push({icon:"",text:`Submission portal closed  deadline met for ${j.phase} phase.`,time:`Closed on ${d(N)}`,updatedAt:j.updatedAt}),S&&k<S?b.push({icon:"",text:`Supervisor grading portal is active for ${j.phase} phase.`,time:`Till ${d(S)}`,updatedAt:j.updatedAt}):S&&k>S&&b.push({icon:"",text:`Grading portal closed  deadline met for ${j.phase} phase.`,time:`Closed on ${d(S)}`,updatedAt:j.updatedAt})}),b.sort((j,k)=>new Date(k.updatedAt)-new Date(j.updatedAt)).slice(0,10)})();return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Coordinator Dashboard | FYP Buddy - Oversee All Projects",description:"Coordinator dashboard for FYP Buddy. Manage milestones, oversee grading, handle document management, create announcements, and coordinate all FYP activities.",keywords:"coordinator dashboard, FYP coordination, project oversight, milestone management, academic coordination, thesis management"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"coordinator"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full",children:[n.jsxs(Te,{className:"w-full mx-auto flex flex-col md:flex-row items-center justify-between gap-8 p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl transition-all duration-300",children:[n.jsxs("div",{className:"flex flex-col text-center md:text-left",children:[n.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-2",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Coordinator"})," ","Dashboard"]}),n.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Welcome back,"," ",n.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e?.username||"Coordinator"})," ",""]})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(tr,{className:"w-32 h-32 md:w-40 md:h-40 border-4 border-gray-300 dark:border-gray-600 shadow-md",children:n.jsx(Rr,{src:e?.profilePic||Ir})}),n.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800 dark:text-gray-300",children:e?.username||"Unknown User"})]})]}),a?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx(wt,{className:"animate-spin w-8 h-8 text-purple-500"})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(b=>{const j=b.icon;return n.jsxs(Te,{className:"flex flex-col items-center p-6 text-center bg-white dark:bg-gray-800 border-none shadow-md transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 ${b.color==="blue"?"bg-blue-100 text-blue-500 dark:bg-blue-900 dark:text-blue-300":b.color==="green"?"bg-green-100 text-green-500 dark:bg-green-900 dark:text-green-300":"bg-orange-100 text-orange-500 dark:bg-orange-900 dark:text-orange-300"}`,children:n.jsx(j,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-1",children:b.number}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:b.label})]},b.label)})}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border border-gray-100 dark:border-gray-700 mt-5",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Your Recent Activities"}),v.length>0?n.jsxs(Ds,{children:[n.jsx(Ms,{children:n.jsxs(Wr,{className:"bg-gray-50 dark:bg-gray-900/50",children:[n.jsx(Ct,{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Activity"}),n.jsx(Ct,{className:"text-right text-gray-600 dark:text-gray-400 font-medium",children:"Timeline"})]})}),n.jsx(Os,{children:v.map((b,j)=>n.jsxs(Wr,{className:"hover:bg-gray-50 dark:hover:bg-gray-900/30 transition",children:[n.jsxs(Et,{className:"text-gray-800 dark:text-gray-200 text-sm",children:[n.jsx("span",{className:"font-medium mr-1",children:b.icon}),b.text,n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Last updated: ",d(b.updatedAt)]})]}),n.jsx(Et,{className:"text-right text-gray-600 dark:text-gray-400 text-sm",children:b.time})]},j))})]}):n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent activities to display."})]})]})]})]})})]})},op=({currentPage:e,totalPages:t,itemsPerPage:r,totalItems:a,onPageChange:o,onItemsPerPageChange:l,itemLabel:c="entries"})=>{const d=a===0?0:(e-1)*r+1,f=Math.min(e*r,a);return n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Show"}),n.jsxs("select",{value:r,onChange:m=>l(Number(m.target.value)),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 text-sm bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"entries"})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:["Showing ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:d})," to"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:f})," of"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:a})," ",c]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Previous"}),n.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:e}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:t||1})]}),n.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>o(Math.min(e+1,t)),disabled:e===t||t===0,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})},hQ=()=>{const e="https://fyp-buddy.up.railway.app/",{user:t}=it(L=>L.auth),[r,a]=x.useState(!1),[o,l]=x.useState([]),[c,d]=x.useState({phase:"Proposal",submissionDeadline:"",gradingDeadline:"",conductionDate:"",autoAllocationDate:""}),[f,m]=x.useState({}),[g,p]=x.useState([]),[v,b]=x.useState("All"),[j,k]=x.useState(""),[N,S]=x.useState(1),[C,A]=x.useState(25),I=localStorage.getItem("accessToken"),D=async()=>{try{a(!0);const L=await De.get(`${e}/milestone/get-all-milestones`,{headers:{Authorization:`Bearer ${I}`},withCredentials:!0});if(L.data.success){const Q=(L.data.data||[]).filter(G=>G.department===t?.department),Z=Q.filter(G=>G.phase!=="Completed");l(Z);const U=[...new Set(Q.filter(G=>G.isSubmissionActive).map(G=>G.phase))];p(U)}else l([]),p([])}catch(L){console.error(L),ee.error("Failed to load milestones"),l([])}finally{a(!1)}};x.useEffect(()=>{D()},[]);const T=async L=>{L.preventDefault();try{a(!0);const W=await De.put(`${e}/milestone/open-submission`,{phase:c.phase,submissionDeadline:c.submissionDeadline,gradingDeadline:c.gradingDeadline,conductionDate:c.conductionDate||void 0,autoAllocationDate:c.autoAllocationDate,department:t?.department},{headers:{Authorization:`Bearer ${I}`},withCredentials:!0});W.data.success&&(ee.success(W.data.message),await D())}catch(W){const Q=W.response?.data?.message||W.response?.data||"Failed to open submission";ee.error(Q)}finally{a(!1)}},B=async L=>{const W=f[L];if(W)try{a(!0);const Q=await De.put(`${e}/milestone/update-milestone/${L}`,{status:W},{headers:{Authorization:`Bearer ${I}`},withCredentials:!0});Q.data.success&&(ee.success(Q.data.message),await D())}catch(Q){const Z=Q.response?.data?.message||Q.response?.data||"Failed to update the status";ee.error(Z)}finally{a(!1)}},X=g.includes(c.phase),Y=x.useMemo(()=>{let L=o;return v!=="All"&&(L=L.filter(W=>W.phase===v)),j&&(L=L.filter(W=>W.groupId?.groupName.toLowerCase().includes(j.toLowerCase()))),L},[o,v,j]),K=x.useMemo(()=>{const L=(N-1)*C,W=L+C;return Y.slice(L,W)},[Y,N,C]),le=Math.ceil(Y.length/C);return x.useEffect(()=>{S(1)},[v,j]),n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Milestones Management | FYP Buddy - Coordinator Panel",description:"Manage FYP milestones across all groups. Create phases, set deadlines, and monitor student progress throughout the project lifecycle.",keywords:"milestone management, FYP phases, project deadlines, coordinator tools"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"coordinator"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto text-center p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:["Milestone "," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Management"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Activate or edit submission windows and manage milestone statuses across groups."})]}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border border-gray-100 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-5",children:"Manage Submission Window"}),n.jsxs("form",{onSubmit:T,className:"flex flex-wrap md:flex-nowrap items-end gap-3",children:[n.jsxs("div",{className:"flex flex-col w-[160px]",children:[n.jsx("label",{className:"text-sm font-medium mb-1",children:"Phase"}),n.jsxs("select",{className:"border border-gray-400 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 rounded-md h-10 px-2",value:c.phase,onChange:L=>d(W=>({...W,phase:L.target.value})),children:[n.jsx("option",{value:"Proposal",children:"Proposal"}),n.jsx("option",{value:"Progress",children:"Progress"}),n.jsx("option",{value:"Defence",children:"Defence"})]})]}),n.jsxs("div",{className:"flex flex-col w-[220px]",children:[n.jsx("label",{className:"text-sm font-medium mb-1",children:"Submission Deadline"}),n.jsx(st,{type:"datetime-local",className:"border border-gray-400 dark:border-gray-700 h-10 rounded-md px-3 dark:bg-gray-900 dark:text-gray-100",value:c.submissionDeadline,onChange:L=>d(W=>({...W,submissionDeadline:L.target.value}))})]}),(c.phase==="Progress"||c.phase==="Defence")&&n.jsxs("div",{className:"flex flex-col w-[220px]",children:[n.jsx("label",{className:"text-sm font-medium mb-1",children:"Grading Deadline"}),n.jsx(st,{type:"datetime-local",className:"border border-gray-400 dark:border-gray-700 h-10 rounded-md px-3 dark:bg-gray-900 dark:text-gray-100",value:c.gradingDeadline,onChange:L=>d(W=>({...W,gradingDeadline:L.target.value}))})]}),n.jsxs("div",{className:"flex flex-col w-[200px]",children:[n.jsx("label",{className:"text-sm font-medium mb-1",children:"Conduction Date (optional)"}),n.jsx(st,{type:"date",className:"border border-gray-400 dark:border-gray-700 h-10 rounded-md px-3 dark:bg-gray-900 dark:text-gray-100",value:c.conductionDate,onChange:L=>d(W=>({...W,conductionDate:L.target.value}))})]}),c.phase==="Proposal"&&n.jsxs("div",{className:"flex flex-col w-[220px]",children:[n.jsx("label",{className:"text-sm font-medium mb-1",children:"Auto Supervisor Allocation Date"}),n.jsx(st,{type:"datetime-local",className:"border border-gray-400 dark:border-gray-700 h-10 rounded-md px-3 dark:bg-gray-900 dark:text-gray-100",value:c.autoAllocationDate,onChange:L=>d(W=>({...W,autoAllocationDate:L.target.value}))})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(Pe,{type:"submit",disabled:r||!c.phase||!c.submissionDeadline,className:"h-10 px-5 rounded-md font-semibold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white ",children:X?"Edit":"Activate"})})]})]}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border border-gray-100 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Active Phase Deadlines"}),r?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),n.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:"Loading..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["Proposal","Progress","Defence"].map((L,W)=>{const Q=o.find(Z=>Z.phase===L&&Z.isSubmissionActive);return n.jsxs(Te,{className:"relative overflow-hidden border-2 transition-all duration-300 hover:shadow-lg border-gray-700 dark:border-gray-200 bg-gray-200 dark:bg-gray-800",children:[n.jsx("div",{className:"p-4 pb-3 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-400 flex items-center justify-center",children:n.jsx(hn,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:L}),n.jsx("div",{className:"flex items-center gap-1 mt-0.5",children:Q?n.jsxs(n.Fragment,{children:[n.jsx(Ji,{className:"w-3.5 h-3.5 text-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Active"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ku,{className:"w-3.5 h-3.5 text-gray-400"}),n.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Inactive"})]})})]})]})}),n.jsx("div",{className:"px-4 pb-4",children:Q?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white/50 dark:bg-gray-700/50 rounded-lg",children:[n.jsx(Fa,{className:"w-4 h-4 mt-0.5 text-gray-600 dark:text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"Submission Deadline"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:Q.submissionDeadline?new Date(Q.submissionDeadline).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""})]})]}),Q.gradingDeadline&&n.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white/50 dark:bg-gray-700/50 rounded-lg",children:[n.jsx(Bo,{className:"w-4 h-4 mt-0.5 text-gray-600 dark:text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"Grading Deadline"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:new Date(Q.gradingDeadline).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),Q.conductionDate&&n.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white/50 dark:bg-gray-700/50 rounded-lg",children:[n.jsx(On,{className:"w-4 h-4 mt-0.5 text-gray-600 dark:text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"Conduction Date"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:new Date(Q.conductionDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),L==="Proposal"&&Q.autoAllocationDate&&n.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white/50 dark:bg-gray-700/50 rounded-lg",children:[n.jsx(Fa,{className:"w-4 h-4 mt-0.5 text-gray-600 dark:text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-0.5",children:"Auto Supervisor Allocation Deadline"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:new Date(Q.autoAllocationDate).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}):n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ku,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No active submission window"})]})})})]},L)})})]}),n.jsxs(Te,{className:"p-4 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"relative flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Groups Management"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:static",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"Filter by Phase:"}),n.jsxs("select",{value:v,onChange:L=>b(L.target.value),className:"border border-gray-400 dark:border-gray-700 rounded-md h-9 px-2 dark:bg-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"All",children:"All"}),n.jsx("option",{value:"Proposal",children:"Proposal"}),n.jsx("option",{value:"Progress",children:"Progress"}),n.jsx("option",{value:"Defence",children:"Defence"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"Search:"}),n.jsx(st,{type:"text",placeholder:"Search by group name...",value:j,onChange:L=>k(L.target.value),className:"border border-gray-400 dark:border-gray-700 rounded-md h-9 px-2 dark:bg-gray-900 dark:text-gray-100 w-full sm:w-auto"})]})]})]}),r?n.jsxs("div",{className:"w-full max-w-6xl mx-auto p-10 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),n.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:"Loading milestones"})]}):Y.length===0?n.jsx("div",{className:"w-full max-w-6xl mx-auto p-10 text-center",children:n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No Groups found within the filters."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ds,{className:"min-w-full",children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{className:"whitespace-nowrap",children:"Group Name"}),n.jsx(Ct,{className:"whitespace-nowrap",children:"Current Phase"}),n.jsx(Ct,{className:"whitespace-nowrap",children:"Status"}),n.jsx(Ct,{className:"whitespace-nowrap",children:"Submission Window"}),n.jsx(Ct,{className:"text-center whitespace-nowrap",children:"Update Status"})]})}),n.jsx(Os,{children:K.map(L=>{const W=typeof L.groupId=="object"?L.groupId.groupName:L.groupId;return n.jsxs(Wr,{className:"hover:bg-gray-50/70 dark:hover:bg-gray-900/40",children:[n.jsx(Et,{children:n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:W})}),n.jsx(Et,{children:n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:L.phase})}),n.jsx(Et,{children:n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium ${L.status==="Completed"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":L.status==="Failed"?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}`,children:L.status})}),n.jsx(Et,{children:n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium ${L.isSubmissionActive?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-300":"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}`,children:L.isSubmissionActive?"Open":"Closed"})}),n.jsx(Et,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:f[L.groupId?._id||L.groupId]||"",onChange:Q=>m(Z=>({...Z,[L.groupId?._id||L.groupId]:Q.target.value})),className:"border border-gray-400 dark:border-gray-700 rounded-md h-9 px-2 text-sm dark:bg-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Failed",children:"Failed"})]}),n.jsx(Pe,{variant:"secondary",size:"sm",onClick:()=>B(L.groupId?._id||L.groupId),disabled:r||!f[L.groupId?._id||L.groupId],className:"whitespace-nowrap bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"Update"})]})})]},L._id)})})]})}),Y.length>0&&n.jsx(op,{currentPage:N,totalPages:le,itemsPerPage:C,totalItems:Y.length,onPageChange:S,onItemsPerPageChange:L=>{A(L),S(1)},itemLabel:"groups"})]})]})]})]})})]})};var QS=1,mQ=.9,pQ=.8,gQ=.17,gx=.1,xx=.999,xQ=.9999,yQ=.99,bQ=/[\\\/_+.#"@\[\(\{&]/,vQ=/[\\\/_+.#"@\[\(\{&]/g,wQ=/[\s-]/,FT=/[\s-]/g;function Ty(e,t,r,a,o,l,c){if(l===t.length)return o===e.length?QS:yQ;var d=`${o},${l}`;if(c[d]!==void 0)return c[d];for(var f=a.charAt(l),m=r.indexOf(f,o),g=0,p,v,b,j;m>=0;)p=Ty(e,t,r,a,m+1,l+1,c),p>g&&(m===o?p*=QS:bQ.test(e.charAt(m-1))?(p*=pQ,b=e.slice(o,m-1).match(vQ),b&&o>0&&(p*=Math.pow(xx,b.length))):wQ.test(e.charAt(m-1))?(p*=mQ,j=e.slice(o,m-1).match(FT),j&&o>0&&(p*=Math.pow(xx,j.length))):(p*=gQ,o>0&&(p*=Math.pow(xx,m-o))),e.charAt(m)!==t.charAt(l)&&(p*=xQ)),(p<gx&&r.charAt(m-1)===a.charAt(l+1)||a.charAt(l+1)===a.charAt(l)&&r.charAt(m-1)!==a.charAt(l))&&(v=Ty(e,t,r,a,m+1,l+2,c),v*gx>p&&(p=v*gx)),p>g&&(g=p),m=r.indexOf(f,m+1);return c[d]=g,g}function ZS(e){return e.toLowerCase().replace(FT," ")}function jQ(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Ty(e,t,ZS(e),ZS(t),0,0,{})}var Ru='[cmdk-group=""]',yx='[cmdk-group-items=""]',kQ='[cmdk-group-heading=""]',IT='[cmdk-item=""]',JS=`${IT}:not([aria-disabled="true"])`,Ry="cmdk-item-select",Hl="data-value",NQ=(e,t,r)=>jQ(e,t,r),BT=x.createContext(void 0),Cd=()=>x.useContext(BT),$T=x.createContext(void 0),dv=()=>x.useContext($T),UT=x.createContext(void 0),HT=x.forwardRef((e,t)=>{let r=ql(()=>{var $,z;return{search:"",value:(z=($=e.value)!=null?$:e.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=ql(()=>new Set),o=ql(()=>new Map),l=ql(()=>new Map),c=ql(()=>new Set),d=qT(e),{label:f,children:m,value:g,onValueChange:p,filter:v,shouldFilter:b,loop:j,disablePointerSelection:k=!1,vimBindings:N=!0,...S}=e,C=jn(),A=jn(),I=jn(),D=x.useRef(null),T=PQ();Wo(()=>{if(g!==void 0){let $=g.trim();r.current.value=$,B.emit()}},[g]),Wo(()=>{T(6,W)},[]);let B=x.useMemo(()=>({subscribe:$=>(c.current.add($),()=>c.current.delete($)),snapshot:()=>r.current,setState:($,z,ue)=>{var ve,re,ce,Me;if(!Object.is(r.current[$],z)){if(r.current[$]=z,$==="search")L(),K(),T(1,le);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Ne=document.getElementById(I);Ne?Ne.focus():(ve=document.getElementById(C))==null||ve.focus()}if(T(7,()=>{var Ne;r.current.selectedItemId=(Ne=Q())==null?void 0:Ne.id,B.emit()}),ue||T(5,W),((re=d.current)==null?void 0:re.value)!==void 0){let Ne=z??"";(Me=(ce=d.current).onValueChange)==null||Me.call(ce,Ne);return}}B.emit()}},emit:()=>{c.current.forEach($=>$())}}),[]),X=x.useMemo(()=>({value:($,z,ue)=>{var ve;z!==((ve=l.current.get($))==null?void 0:ve.value)&&(l.current.set($,{value:z,keywords:ue}),r.current.filtered.items.set($,Y(z,ue)),T(2,()=>{K(),B.emit()}))},item:($,z)=>(a.current.add($),z&&(o.current.has(z)?o.current.get(z).add($):o.current.set(z,new Set([$]))),T(3,()=>{L(),K(),r.current.value||le(),B.emit()}),()=>{l.current.delete($),a.current.delete($),r.current.filtered.items.delete($);let ue=Q();T(4,()=>{L(),ue?.getAttribute("id")===$&&le(),B.emit()})}),group:$=>(o.current.has($)||o.current.set($,new Set),()=>{l.current.delete($),o.current.delete($)}),filter:()=>d.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:C,inputId:I,labelId:A,listInnerRef:D}),[]);function Y($,z){var ue,ve;let re=(ve=(ue=d.current)==null?void 0:ue.filter)!=null?ve:NQ;return $?re($,r.current.search,z):0}function K(){if(!r.current.search||d.current.shouldFilter===!1)return;let $=r.current.filtered.items,z=[];r.current.filtered.groups.forEach(ve=>{let re=o.current.get(ve),ce=0;re.forEach(Me=>{let Ne=$.get(Me);ce=Math.max(Ne,ce)}),z.push([ve,ce])});let ue=D.current;Z().sort((ve,re)=>{var ce,Me;let Ne=ve.getAttribute("id"),Ce=re.getAttribute("id");return((ce=$.get(Ce))!=null?ce:0)-((Me=$.get(Ne))!=null?Me:0)}).forEach(ve=>{let re=ve.closest(yx);re?re.appendChild(ve.parentElement===re?ve:ve.closest(`${yx} > *`)):ue.appendChild(ve.parentElement===ue?ve:ve.closest(`${yx} > *`))}),z.sort((ve,re)=>re[1]-ve[1]).forEach(ve=>{var re;let ce=(re=D.current)==null?void 0:re.querySelector(`${Ru}[${Hl}="${encodeURIComponent(ve[0])}"]`);ce?.parentElement.appendChild(ce)})}function le(){let $=Z().find(ue=>ue.getAttribute("aria-disabled")!=="true"),z=$?.getAttribute(Hl);B.setState("value",z||void 0)}function L(){var $,z,ue,ve;if(!r.current.search||d.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let ce of a.current){let Me=(z=($=l.current.get(ce))==null?void 0:$.value)!=null?z:"",Ne=(ve=(ue=l.current.get(ce))==null?void 0:ue.keywords)!=null?ve:[],Ce=Y(Me,Ne);r.current.filtered.items.set(ce,Ce),Ce>0&&re++}for(let[ce,Me]of o.current)for(let Ne of Me)if(r.current.filtered.items.get(Ne)>0){r.current.filtered.groups.add(ce);break}r.current.filtered.count=re}function W(){var $,z,ue;let ve=Q();ve&&((($=ve.parentElement)==null?void 0:$.firstChild)===ve&&((ue=(z=ve.closest(Ru))==null?void 0:z.querySelector(kQ))==null||ue.scrollIntoView({block:"nearest"})),ve.scrollIntoView({block:"nearest"}))}function Q(){var $;return($=D.current)==null?void 0:$.querySelector(`${IT}[aria-selected="true"]`)}function Z(){var $;return Array.from((($=D.current)==null?void 0:$.querySelectorAll(JS))||[])}function U($){let z=Z()[$];z&&B.setState("value",z.getAttribute(Hl))}function G($){var z;let ue=Q(),ve=Z(),re=ve.findIndex(Me=>Me===ue),ce=ve[re+$];(z=d.current)!=null&&z.loop&&(ce=re+$<0?ve[ve.length-1]:re+$===ve.length?ve[0]:ve[re+$]),ce&&B.setState("value",ce.getAttribute(Hl))}function F($){let z=Q(),ue=z?.closest(Ru),ve;for(;ue&&!ve;)ue=$>0?MQ(ue,Ru):OQ(ue,Ru),ve=ue?.querySelector(JS);ve?B.setState("value",ve.getAttribute(Hl)):G($)}let V=()=>U(Z().length-1),R=$=>{$.preventDefault(),$.metaKey?V():$.altKey?F(1):G(1)},_=$=>{$.preventDefault(),$.metaKey?U(0):$.altKey?F(-1):G(-1)};return x.createElement(ut.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:$=>{var z;(z=S.onKeyDown)==null||z.call(S,$);let ue=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||ue))switch($.key){case"n":case"j":{N&&$.ctrlKey&&R($);break}case"ArrowDown":{R($);break}case"p":case"k":{N&&$.ctrlKey&&_($);break}case"ArrowUp":{_($);break}case"Home":{$.preventDefault(),U(0);break}case"End":{$.preventDefault(),V();break}case"Enter":{$.preventDefault();let ve=Q();if(ve){let re=new Event(Ry);ve.dispatchEvent(re)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:X.inputId,id:X.labelId,style:zQ},f),lp(e,$=>x.createElement($T.Provider,{value:B},x.createElement(BT.Provider,{value:X},$))))}),SQ=x.forwardRef((e,t)=>{var r,a;let o=jn(),l=x.useRef(null),c=x.useContext(UT),d=Cd(),f=qT(e),m=(a=(r=f.current)==null?void 0:r.forceMount)!=null?a:c?.forceMount;Wo(()=>{if(!m)return d.item(o,c?.id)},[m]);let g=VT(o,l,[e.value,e.children,l],e.keywords),p=dv(),v=no(T=>T.value&&T.value===g.current),b=no(T=>m||d.filter()===!1?!0:T.search?T.filtered.items.get(o)>0:!0);x.useEffect(()=>{let T=l.current;if(!(!T||e.disabled))return T.addEventListener(Ry,j),()=>T.removeEventListener(Ry,j)},[b,e.onSelect,e.disabled]);function j(){var T,B;k(),(B=(T=f.current).onSelect)==null||B.call(T,g.current)}function k(){p.setState("value",g.current,!0)}if(!b)return null;let{disabled:N,value:S,onSelect:C,forceMount:A,keywords:I,...D}=e;return x.createElement(ut.div,{ref:si(l,t),...D,id:o,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!v,"data-disabled":!!N,"data-selected":!!v,onPointerMove:N||d.getDisablePointerSelection()?void 0:k,onClick:N?void 0:j},e.children)}),CQ=x.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:o,...l}=e,c=jn(),d=x.useRef(null),f=x.useRef(null),m=jn(),g=Cd(),p=no(b=>o||g.filter()===!1?!0:b.search?b.filtered.groups.has(c):!0);Wo(()=>g.group(c),[]),VT(c,d,[e.value,e.heading,f]);let v=x.useMemo(()=>({id:c,forceMount:o}),[o]);return x.createElement(ut.div,{ref:si(d,t),...l,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&x.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),lp(e,b=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0},x.createElement(UT.Provider,{value:v},b))))}),EQ=x.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,o=x.useRef(null),l=no(c=>!c.search);return!r&&!l?null:x.createElement(ut.div,{ref:si(o,t),...a,"cmdk-separator":"",role:"separator"})}),AQ=x.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,o=e.value!=null,l=dv(),c=no(m=>m.search),d=no(m=>m.selectedItemId),f=Cd();return x.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),x.createElement(ut.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":d,id:f.inputId,type:"text",value:o?e.value:c,onChange:m=>{o||l.setState("search",m.target.value),r?.(m.target.value)}})}),TQ=x.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...o}=e,l=x.useRef(null),c=x.useRef(null),d=no(m=>m.selectedItemId),f=Cd();return x.useEffect(()=>{if(c.current&&l.current){let m=c.current,g=l.current,p,v=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let b=m.offsetHeight;g.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return v.observe(m),()=>{cancelAnimationFrame(p),v.unobserve(m)}}},[]),x.createElement(ut.div,{ref:si(l,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":a,id:f.listId},lp(e,m=>x.createElement("div",{ref:si(c,f.listInnerRef),"cmdk-list-sizer":""},m)))}),RQ=x.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:o,contentClassName:l,container:c,...d}=e;return x.createElement(Nb,{open:r,onOpenChange:a},x.createElement(Sb,{container:c},x.createElement(Cb,{"cmdk-overlay":"",className:o}),x.createElement(Eb,{"aria-label":e.label,"cmdk-dialog":"",className:l},x.createElement(HT,{ref:t,...d}))))}),_Q=x.forwardRef((e,t)=>no(r=>r.filtered.count===0)?x.createElement(ut.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),DQ=x.forwardRef((e,t)=>{let{progress:r,children:a,label:o="Loading...",...l}=e;return x.createElement(ut.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},lp(e,c=>x.createElement("div",{"aria-hidden":!0},c)))}),Ec=Object.assign(HT,{List:TQ,Item:SQ,Input:AQ,Group:CQ,Separator:EQ,Dialog:RQ,Empty:_Q,Loading:DQ});function MQ(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function OQ(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function qT(e){let t=x.useRef(e);return Wo(()=>{t.current=e}),t}var Wo=typeof window>"u"?x.useEffect:x.useLayoutEffect;function ql(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function no(e){let t=dv(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function VT(e,t,r,a=[]){let o=x.useRef(),l=Cd();return Wo(()=>{var c;let d=(()=>{var m;for(let g of r){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(m=g.current.textContent)==null?void 0:m.trim():o.current}})(),f=a.map(m=>m.trim());l.value(e,d,f),(c=t.current)==null||c.setAttribute(Hl,d),o.current=d}),o}var PQ=()=>{let[e,t]=x.useState(),r=ql(()=>new Map);return Wo(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,o)=>{r.current.set(a,o),t({})}};function LQ(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function lp({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(LQ(t),{ref:t.ref},r(t.props.children)):r(t)}var zQ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function FQ({className:e,...t}){return n.jsx(Ec,{"data-slot":"command",className:ot("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function IQ({className:e,...t}){return n.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[n.jsx(Ki,{className:"size-4 shrink-0 opacity-50"}),n.jsx(Ec.Input,{"data-slot":"command-input",className:ot("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function BQ({className:e,...t}){return n.jsx(Ec.List,{"data-slot":"command-list",className:ot("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function $Q({...e}){return n.jsx(Ec.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function UQ({className:e,...t}){return n.jsx(Ec.Group,{"data-slot":"command-group",className:ot("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function HQ({className:e,...t}){return n.jsx(Ec.Item,{"data-slot":"command-item",className:ot("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const qQ=()=>{const e="https://fyp-buddy.up.railway.app/",t=localStorage.getItem("accessToken"),{user:r}=it(re=>re.auth),[a,o]=x.useState("Progress"),[l,c]=x.useState([]),[d,f]=x.useState(void 0),[m,g]=x.useState({}),[p,v]=x.useState(!1),[b,j]=x.useState([]),[k,N]=x.useState(""),[S,C]=x.useState("all"),[A,I]=x.useState(""),[D,T]=x.useState(""),[B,X]=x.useState(1),[Y,K]=x.useState(25),W=a==="Progress"?{presentation:[{label:"Background and Literature Review",max:5},{label:"Technical Approach",max:10},{label:"Problem Solving",max:10},{label:"Critical Thinking",max:10},{label:"Communication Skills",max:5}],report:[{label:"Accountability",max:3},{label:"Abstract",max:2},{label:"Background Study",max:3},{label:"Problem Statement",max:3},{label:"Scope and Objectives",max:3},{label:"Significance",max:3},{label:"Comparison with Existing Systems",max:4},{label:"Methodology",max:4},{label:"Proposed System",max:5},{label:"Milestones",max:2},{label:"References",max:2},{label:"Writing Skills",max:2},{label:"Organization",max:2},{label:"Quality",max:2}]}:{presentation:[{label:"Background and Literature Review",max:5},{label:"Technical Approach",max:10},{label:"Problem Solving",max:10},{label:"Critical Thinking",max:10},{label:"Communication Skills",max:5}],report:[{label:"Accountability",max:3},{label:"Abstract",max:1},{label:"Chapter 1: Background Study",max:2},{label:"Chapter 1: Problem Statement",max:2},{label:"Chapter 1: Scope and Objectives",max:2},{label:"Chapter 2: Background and Existing Work",max:4},{label:"Chapter 3: Proposed System",max:5},{label:"Chapter 4: System Design",max:5},{label:"Chapter 5: Implementation",max:5},{label:"Chapter 6: Testing Results",max:2},{label:"Chapter 7: Conclusion and Future Work",max:2},{label:"References",max:1},{label:"Writing Skills",max:1},{label:"Organization",max:1},{label:"Quality",max:2}]},Q=[...W.presentation,...W.report],Z=async()=>{try{v(!0);const re=await De.get(`${e}/milestone/get-all-milestones`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(re.data.success){const Ne=(re.data.data||[]).filter(Ce=>Ce.department===r?.department).filter(Ce=>Ce.phase!=="Completed");c(Ne)}else c([])}catch{ee.error("Failed to load milestones"),c([])}finally{v(!1)}},U=async()=>{try{v(!0);const re=await De.get(`${e}/grading/get-all-grades`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(re.data.success){const Me=(re.data.data||[]).filter(Ne=>Ne.milestoneId?.department===r?.department);j(Me)}else j([])}catch{ee.error("Failed to load grades"),j([])}finally{v(!1)}};x.useEffect(()=>{Z(),U()},[]);const G=x.useMemo(()=>l.filter(re=>re.phase===a).map(re=>({groupId:typeof re.groupId=="object"?re.groupId._id:re.groupId,groupName:typeof re.groupId=="object"?re.groupId.groupName:re.groupId,members:typeof re.groupId=="object"?re.groupId.members||[]:[]})),[l,a]),F=G.find(re=>re.groupId===d),V=(re,ce,Me)=>{const Ne=Q[ce],Ce=Math.max(0,Math.min(Number(Me)||0,Ne.max));if(Number.isNaN(Ce))return;const Ee=window.scrollY;g(Re=>({...Re,[re]:Re[re]?.map((Be,$e)=>$e===ce?Ce:Be)||Q.map((Be,$e)=>$e===ce?Ce:0)})),requestAnimationFrame(()=>{window.scrollTo(0,Ee)})},R=re=>(m[re]||[]).reduce((Me,Ne)=>Me+(Number(Ne)||0),0),_=async re=>{const ce=R(re);if(ce===0){ee.error("Please enter marks before submitting");return}try{v(!0);const Me=await De.post(`${e}/grading/coordinator`,{groupId:d,phase:a,studentId:re,marks:ce},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});Me.data.success&&(ee.success(Me.data.message),await U(),g(Ne=>({...Ne,[re]:Q.map(()=>0)})))}catch(Me){const Ne=Me.response?.data?.message||Me.response?.data||"Failed to submit marks";ee.error(Ne)}finally{v(!1)}},$=x.useMemo(()=>{const re=k.toLowerCase(),ce=A.toLowerCase(),Me=D.toLowerCase();return b.filter(Ne=>{const Ce=Ne.groupId&&typeof Ne.groupId=="object"?Ne.groupId.groupName.toLowerCase():"",Ee=Ne.studentId&&typeof Ne.studentId=="object"?(Ne.studentId.username||"").toLowerCase():"",Re=Ne.studentId&&typeof Ne.studentId=="object"?(Ne.studentId.rollNo||"").toLowerCase():"",Be=Ne.phase||"",$e=Ce.includes(re),bt=Ee.includes(ce),jt=Re.includes(Me);return $e&&bt&&jt&&(S==="all"?!0:Be===S)})},[b,k,S,A,D]),z=x.useMemo(()=>{const re=(B-1)*Y,ce=re+Y;return $.slice(re,ce)},[$,B,Y]),ue=Math.ceil($.length/Y);x.useEffect(()=>{X(1)},[k,S,A,D]);const ve=({member:re})=>{const ce=R(re._id),Me=b.find(Re=>(Re.studentId._id===re._id||Re.studentId===re._id)&&Re.phase===a),Ne=Me&&Me.coordinatorMarks>0,Ce=W.presentation.reduce((Re,Be,$e)=>Re+(Number(m[re._id]?.[$e])||0),0),Ee=W.report.reduce((Re,Be,$e)=>{const bt=W.presentation.length+$e;return Re+(Number(m[re._id]?.[bt])||0)},0);return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-purple-50 dark:bg-gray-700 p-5 rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-xl text-gray-900 dark:text-white",children:re.username||re.email}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:re.email})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Roll Number"}),n.jsx("p",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:re.rollNo||"Not Set"})]})]})}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b-2 border-purple-600",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:" Presentation Evaluation"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Section Total"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[Ce,"/40"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.presentation.map((Re,Be)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 block",children:[Re.label,n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 font-normal",children:["(Max: ",Re.max,")"]})]}),n.jsx(st,{type:"number",min:"0",max:Re.max,step:"0.5",placeholder:"0",value:m[re._id]?.[Be]||"",onChange:$e=>V(re._id,Be,$e.target.value),disabled:p,className:"text-center text-lg font-medium bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 rounded-lg h-12"})]},Re.label))})]}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b-2 border-blue-600",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[" ",a==="Progress"?"Progress Report":"Project Report"," Evaluation"]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Section Total"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[Ee,"/40"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.report.map((Re,Be)=>{const $e=W.presentation.length+Be;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ht,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 block",children:[Re.label,n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1 font-normal",children:["(Max: ",Re.max,")"]})]}),n.jsx(st,{type:"number",min:"0",max:Re.max,step:"0.5",placeholder:"0",value:m[re._id]?.[$e]||"",onChange:bt=>V(re._id,$e,bt.target.value),disabled:p,className:"text-center text-lg font-medium bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 rounded-lg h-12"})]},Re.label)})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t-2 border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center sm:text-left",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Grand Total"}),n.jsxs("p",{className:"text-5xl font-extrabold text-purple-600 dark:text-purple-400",children:[ce,"/80"]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Presentation: ",Ce,"/40  Report: ",Ee,"/40"]})]}),n.jsx(Pe,{onClick:()=>_(re._id),disabled:p||ce===0,className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white px-10 py-4 rounded-lg transition-all duration-200 text-lg font-bold",children:p?"Submitting...":n.jsxs(n.Fragment,{children:[n.jsx(ic,{className:"w-6 h-6 mr-2"}),Ne?"Edit Marks":"Submit Marks"]})})]})]})};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Grading Overview | FYP Buddy - Coordinator Panel",description:"View and manage all FYP grades. Monitor student evaluations, review rubrics, and oversee the grading process across all groups.",keywords:"FYP grading, evaluation overview, rubric management, academic assessment"}),n.jsx("div",{className:"min-h-screen mt-16",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"coordinator"}),n.jsxs("main",{className:"flex flex-col gap-6 w-full",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto text-center p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight",children:["Coordinator"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Grading"})]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Select a phase and group to record coordinator marks and review grades."})]}),n.jsx(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm block mb-1 ",children:"Phase"}),n.jsxs(Es,{value:a,onValueChange:o,children:[n.jsx(Ts,{className:"border border-gray-400 dark:border-gray-700",children:n.jsx(As,{placeholder:"Select phase"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"Progress",children:"Progress"}),n.jsx(kr,{value:"Defence",children:"Defence"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm block mb-1",children:"Group"}),n.jsxs(Uu,{children:[n.jsx(Hu,{asChild:!0,children:n.jsxs(Pe,{variant:"outline",role:"combobox",className:"w-full justify-between border border-gray-400 dark:border-gray-700",children:[d?G.find(re=>re.groupId===d)?.groupName:"Select group...",n.jsx(eP,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(qu,{className:"w-[300px] p-0",children:n.jsxs(FQ,{children:[n.jsx(IQ,{placeholder:"Search group..."}),n.jsxs(BQ,{children:[n.jsx($Q,{children:"No group found."}),n.jsx(UQ,{children:G.map(re=>n.jsxs(HQ,{value:re.groupId,onSelect:()=>f(re.groupId),children:[n.jsx(Zo,{className:ot("mr-2 h-4 w-4",d===re.groupId?"opacity-100":"opacity-0")}),re.groupName]},re.groupId))})]})]})})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(Pe,{onClick:U,disabled:p,className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:[n.jsx(yC,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh Grades"]})})]})}),n.jsx(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl space-y-4",children:F?F?.members?.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No members found in this group."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Grade Group Members (",F.members.filter(re=>re&&re._id).length,")"]})}),n.jsxs(OT,{defaultValue:F.members.filter(re=>re&&re._id)[0]?._id,className:"w-full",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(PT,{className:"inline-flex w-auto gap-1 bg-transparent border-b-2 border-gray-200 dark:border-gray-700 p-0 rounded-none h-auto",children:F.members.filter(re=>re&&re._id).map(re=>n.jsx(LT,{value:re._id,className:"relative rounded-none border-b-2 border-transparent data-[state=active]:border-purple-600 data-[state=active]:text-purple-600 dark:data-[state=active]:text-purple-400 data-[state=active]:bg-transparent bg-transparent hover:text-purple-500 hover:bg-gray-50 dark:hover:bg-gray-800 px-6 py-3 text-sm font-medium transition-all whitespace-nowrap text-gray-600 dark:text-gray-400",children:re.username||re.email.split("@")[0]},re._id))})}),F.members.filter(re=>re&&re._id).map(re=>n.jsx(zT,{value:re._id,className:"mt-6",children:n.jsx(ve,{member:re})},re._id))]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select a group to grade"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Choose a group from the dropdown to begin grading their ",a," phase."]})]})}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Recorded Grades"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(st,{placeholder:"Search group name...",value:k,onChange:re=>N(re.target.value),className:"pl-10 border border-gray-400 dark:border-gray-700"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(st,{placeholder:"Search member name...",value:A,onChange:re=>I(re.target.value),className:"pl-10 border border-gray-400 dark:border-gray-700"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(st,{placeholder:"Search roll number...",value:D,onChange:re=>T(re.target.value),className:"pl-10 border border-gray-400 dark:border-gray-700"})]}),n.jsx("div",{children:n.jsxs(Es,{value:S,onValueChange:C,children:[n.jsx(Ts,{className:"border border-gray-400 dark:border-gray-700",children:n.jsx(As,{placeholder:"Filter by phase"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"all",children:"All Phases"}),n.jsx(kr,{value:"Progress",children:"Progress"}),n.jsx(kr,{value:"Defence",children:"Defence"})]})]})})]}),n.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:n.jsxs(Ds,{className:"min-w-full text-sm",children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"Group"}),n.jsx(Ct,{children:"Member"}),n.jsx(Ct,{children:"Roll No"}),n.jsx(Ct,{children:"Phase"}),n.jsx(Ct,{children:"Supervisor"}),n.jsx(Ct,{children:"Coordinator"}),n.jsx(Ct,{children:"Total"})]})}),n.jsx(Os,{children:z.map(re=>{const ce=typeof re.groupId=="object"?re.groupId.groupName:re.groupId,Me=typeof re.studentId=="object"?re.studentId:null,Ne=Me?.username||"Unknown",Ce=Me?.rollNo||"Not Set";return n.jsxs(Wr,{children:[n.jsx(Et,{children:ce}),n.jsx(Et,{children:Ne}),n.jsx(Et,{children:Ce}),n.jsx(Et,{children:re.phase}),n.jsx(Et,{children:re.supervisorMarks??0}),n.jsx(Et,{children:re.coordinatorMarks??0}),n.jsx(Et,{className:"font-medium",children:(re.supervisorMarks||0)+(re.coordinatorMarks||0)})]},re._id)})})]})}),$.length>0&&n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Show"}),n.jsxs("select",{value:Y,onChange:re=>{K(Number(re.target.value)),X(1)},className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1.5 text-sm bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"entries"})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:["Showing ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:(B-1)*Y+1})," to"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:Math.min(B*Y,$.length)})," of"," ",n.jsx("span",{className:"text-gray-800 dark:text-white",children:$.length})," grades"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>X(re=>Math.max(re-1,1)),disabled:B===1,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Previous"}),n.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:B}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"/"}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:ue||1})]}),n.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>X(re=>Math.min(re+1,ue)),disabled:B===ue||ue===0,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})]})]})]})})]})},VQ=()=>{const{user:e}=it(L=>L.auth),[t,r]=x.useState([]),[a,o]=x.useState(!1),[l,c]=x.useState("All"),[d,f]=x.useState(""),[m,g]=x.useState("submissionDate"),[p,v]=x.useState(1),[b,j]=x.useState(25),k="https://fyp-buddy.up.railway.app/",N=localStorage.getItem("accessToken"),S=async()=>{try{o(!0);const L=await De.get(`${k}/milestone/get-all-milestones`,{headers:{Authorization:`Bearer ${N}`},withCredentials:!0});if(L.data.success){const Z=(L.data.data||[]).filter(U=>U.department===e?.department).filter(U=>U.phase!=="Completed");r(Z)}else r([])}catch(L){console.error("Error fetching milestones:",L),Wt.error("Failed to load milestones"),r([])}finally{o(!1)}};x.useEffect(()=>{S()},[]);const C=(L,W)=>{const Q=W?.toLowerCase();return!Q||!L.studentSubmission||!L.studentSubmission[Q]?null:L.studentSubmission[Q]||null},A=x.useMemo(()=>{let L=t.map(W=>{const Q=[];let Z=W.phase;if(Z==="Completed"&&(Z=null),["Proposal","Progress","Defence"].includes(Z)){const G=C(W,Z);G&&G.file&&Q.push({...W,documentPhase:Z,documentData:G,groupName:W.groupId?.groupName||"Unknown Group",groupId:W.groupId?._id||W.groupId,members:W.groupId?.members||[]})}return Q}).flat();if(l!=="All"&&(L=L.filter(W=>W.documentPhase===l)),d){const W=d.toLowerCase();L=L.filter(Q=>Q.groupName.toLowerCase().includes(W))}return L.sort((W,Q)=>{switch(m){case"submissionDate":new Date(W.documentData.submissionDate||0),new Date(Q.documentData.submissionDate||0);break;case"groupName":W.groupName.toLowerCase(),Q.groupName.toLowerCase();break;case"phase":W.documentPhase,Q.documentPhase;break;default:return 0}}),L},[t,l,d,m]),I=x.useMemo(()=>{const L=(p-1)*b,W=L+b;return A.slice(L,W)},[A,p,b]),D=Math.ceil(A.length/b);x.useEffect(()=>{v(1)},[l,d,m]);const T=L=>{window.open(L,"_blank")},[B,X]=x.useState(new Set),Y=async L=>{const W=L.groupId+"-"+L.documentPhase;try{X(Z=>new Set(Z).add(W)),Wt.loading("Pushing file to GitHub...",{id:W});const Q=await De.post(`${k}/thesis/push-to-github`,{cloudUrl:L.documentData.file,groupName:L.groupName,phase:L.documentPhase},{headers:{Authorization:`Bearer ${N}`}});Q.data.success?Wt.success(Q.data.message,{id:W}):Wt.error(Q.data.message,{id:W})}catch(Q){Wt.dismiss(W);const Z=Q.response?.data?.message||"An error occurred";Wt.error(Z,{id:W})}finally{X(Q=>{const Z=new Set(Q);return Z.delete(W),Z})}},K=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",le=L=>{switch(L){case"Proposal":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Progress":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"Defence":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Document Management | FYP Buddy - Coordinator Panel",description:"Manage all FYP thesis documents. Review submissions, track document status, and oversee the thesis submission process.",keywords:"document management, thesis submissions, FYP documents, coordinator oversight"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"coordinator"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto text-center p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:["Document"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Management"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"View and manage all submitted milestone documents from student groups."})]}),n.jsx(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 justify-center",children:[n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{className:"text-sm font-medium mb-2 block text-gray-700 dark:text-gray-300",children:"Filter by Phase"}),n.jsxs(Es,{value:l,onValueChange:c,children:[n.jsx(Ts,{className:"border border-gray-400 dark:border-gray-700",children:n.jsx(As,{placeholder:"Select phase"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"All",children:"All Phases"}),n.jsx(kr,{value:"Proposal",children:"Proposal"}),n.jsx(kr,{value:"Progress",children:"Progress"}),n.jsx(kr,{value:"Defence",children:"Defence"})]})]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{className:"text-sm font-medium mb-2 block text-gray-700 dark:text-gray-300",children:"Search Groups"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(st,{type:"text",placeholder:"Search by group name...",value:d,onChange:L=>f(L.target.value),className:"pl-10 border border-gray-400 dark:border-gray-700"})]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{className:"text-sm font-medium mb-2 block text-gray-700 dark:text-gray-300",children:"Sort By"}),n.jsxs(Es,{value:m,onValueChange:g,children:[n.jsx(Ts,{className:"border border-gray-400 dark:border-gray-700",children:n.jsx(As,{placeholder:"Sort by"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"submissionDate",children:"Submission Date"}),n.jsx(kr,{value:"groupName",children:"Group Name"}),n.jsx(kr,{value:"phase",children:"Phase"})]})]})]})]})}),n.jsx(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:a?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx(wt,{className:"animate-spin w-8 h-8 text-purple-500"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Submitted Documents"}),n.jsxs(Mn,{variant:"outline",className:"text-sm",children:[A.length," documents found"]})]}),A.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(hn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No documents found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l==="All"?"No documents have been submitted yet.":`No documents found for ${l} phase.`})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ds,{children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"Group Name"}),n.jsx(Ct,{children:"Phase"}),n.jsx(Ct,{children:"Submission Date"}),n.jsx(Ct,{children:"Actions"})]})}),n.jsx(Os,{children:I.map((L,W)=>n.jsxs(Wr,{children:[n.jsx(Et,{className:"font-medium",children:L.groupName}),n.jsx(Et,{children:n.jsx(Mn,{className:le(L.documentPhase),children:L.documentPhase})}),n.jsx(Et,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm",children:K(L.documentData.submissionDate)})]})}),n.jsx(Et,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pe,{size:"sm",variant:"outline",onClick:()=>T(L.documentData.file),className:"flex items-center gap-1 cursor-pointer",children:"View"}),L.documentPhase==="Defence"&&n.jsxs(Pe,{size:"sm",onClick:()=>Y(L),className:"flex items-center gap-1",disabled:B.has(L.groupId+"-"+L.documentPhase),children:[B.has(L.groupId+"-"+L.documentPhase)?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsx(bP,{className:"w-4 h-4"}),"Push"]})]})})]},W))})]})}),A.length>0&&n.jsx(op,{currentPage:p,totalPages:D,itemsPerPage:b,totalItems:A.length,onPageChange:v,onItemsPerPageChange:L=>{j(L),v(1)},itemLabel:"documents"})]})]})})]})]})})]})},GQ=()=>{const{user:e}=it(V=>V.auth),t="https://fyp-buddy.up.railway.app/",r=localStorage.getItem("accessToken"),[a,o]=x.useState(""),[l,c]=x.useState(null),[d,f]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(!1),[b,j]=x.useState([]),[k,N]=x.useState(""),[S,C]=x.useState(!1),[A,I]=x.useState(null),[D,T]=x.useState(1),[B,X]=x.useState(25),Y=async()=>{try{v(!0);const V=await De.get(`${t}/sample-documents`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});if(V.data.success){const R=(V.data.data||[]).filter(_=>_.department===e?.department);j(R)}else j([])}catch(V){V.response?.status!==404&&ee.error("Failed to load sample documents"),j([])}finally{v(!1)}};x.useEffect(()=>{Y()},[]);const K=V=>{const R=V.target.files[0];if(!R)return;const _=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"],$=[".pdf",".doc",".docx",".ppt",".pptx"];if(!(_.includes(R.type)||$.some(ve=>R.name.toLowerCase().endsWith(ve)))){ee.error("Select only PDF, Word, or PowerPoint files"),V.target.value="";return}const ue=6*1024*1024;if(R.size>ue){ee.error("File size exceeds 6MB limit. Please upload a smaller file."),V.target.value="";return}c(R)},le=async()=>{if(!a||!l||!d.trim()){ee.error("All fields are required");return}try{g(!0);const V=new FormData;V.append("file",l),V.append("phase",a),V.append("description",d.trim()),V.append("department",e?.department),(await De.post(`${t}/sample-documents/upload`,V,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"},withCredentials:!0})).data.success&&(ee.success("Document uploaded successfully"),c(null),f(""),o(""),document.getElementById("file-input").value="",Y())}catch{ee.error("Upload failed")}finally{g(!1)}},L=async V=>{try{v(!0),(await De.delete(`${t}/sample-documents/${V}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0})).data.success&&(ee.success("Document deleted"),Y())}catch{ee.error("Failed to delete document")}finally{v(!1)}},W=x.useMemo(()=>b.filter(V=>[V.description,V.phase,V.fileName].join(" ").toLowerCase().includes(k.toLowerCase())),[b,k]),Q=x.useMemo(()=>{const V=(D-1)*B,R=V+B;return W.slice(V,R)},[W,D,B]),Z=Math.ceil(W.length/B);x.useEffect(()=>{T(1)},[k]);const U=V=>({Proposal:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",Progress:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",Defence:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"})[V]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",G=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=async V=>{try{const R=V.file,_=V.fileName||"document",$=_.split(".").pop().toLowerCase(),z=`${R}?fl_attachment=${encodeURIComponent(_)}`,ue=await fetch(z);if(!ue.ok)throw new Error("File not found");const ve=await ue.blob(),re=URL.createObjectURL(ve),ce=document.createElement("a");ce.href=re,ce.download=_,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),setTimeout(()=>URL.revokeObjectURL(re),1e3)}catch(R){console.error("Error opening document:",R),ee.error("Error opening document")}};return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Sample Documents | FYP Buddy - Coordinator Panel",description:"Manage sample FYP documents and templates. Upload reference materials to guide students in their thesis writing.",keywords:"sample documents, FYP templates, reference materials, thesis examples"}),n.jsx("div",{className:"min-h-screen mt-16",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"coordinator"}),n.jsxs("main",{className:"w-full flex flex-col gap-6",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto text-center p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight",children:["Sample"," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Documents"})]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Share sample documents for each phase to guide students."})]}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Upload Sample Document"}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Phase"}),n.jsxs(Es,{value:a,onValueChange:o,children:[n.jsx(Ts,{className:"border-gray-700 dark:border-gray-400 w-full",children:n.jsx(As,{placeholder:"Select phase"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"Proposal",children:"Proposal"}),n.jsx(kr,{value:"Progress",children:"Progress"}),n.jsx(kr,{value:"Defence",children:"Defence"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"File (PDF, Word, PowerPoint)"}),n.jsx(st,{className:"border-gray-700 dark:border-gray-400",id:"file-input",type:"file",accept:".pdf,.doc,.docx,.ppt,.pptx",onChange:K})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Description"}),n.jsx(tl,{placeholder:"Enter a short description...",value:d,onChange:V=>f(V.target.value),className:"min-h-[100px] border-gray-700 dark:border-gray-400"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Pe,{onClick:le,disabled:m,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white flex items-center gap-2",children:m?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ic,{className:"w-4 h-4"}),"Upload"]})})})]}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"All Shared Documents"}),n.jsxs("div",{className:"relative w-full md:w-72",children:[n.jsx(Ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(st,{placeholder:"Search...",value:k,onChange:V=>N(V.target.value),className:"pl-10"})]})]}),p?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx(wt,{className:"w-6 h-6 animate-spin text-purple-500"})}):W.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-400",children:[n.jsx(hn,{className:"w-12 h-12 mx-auto mb-2"}),n.jsx("p",{children:"No sample documents found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:n.jsxs(Ds,{children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"Phase"}),n.jsx(Ct,{children:"File"}),n.jsx(Ct,{children:"Uploaded"}),n.jsx(Ct,{children:"Actions"})]})}),n.jsx(Os,{children:Q.map(V=>n.jsxs(Wr,{children:[n.jsx(Et,{children:n.jsx(Mn,{className:U(V.phase),children:V.phase})}),n.jsx(Et,{children:V.fileName||"N/A"}),n.jsx(Et,{children:G(V.uploadedAt||V.createdAt)}),n.jsx(Et,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Pe,{className:"border-gray-700 dark:border-gray-400 cursor-pointer",size:"sm",variant:"outline",onClick:()=>F(V),children:[n.jsx(ba,{className:"w-4 h-4 mr-1"})," View"]}),n.jsxs(Pe,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 border-red-600 dark:border-red-700 cursor-pointer",onClick:()=>{I(V._id),C(!0)},children:[n.jsx(Ia,{className:"w-4 h-4 mr-1"})," Delete"]})]})})]},V._id))})]})}),W.length>0&&n.jsx(op,{currentPage:D,totalPages:Z,itemsPerPage:B,totalItems:W.length,onPageChange:T,onItemsPerPageChange:V=>{X(V),T(1)},itemLabel:"documents"})]})]})]}),n.jsx(_r,{open:S,onOpenChange:C,children:n.jsxs(Xr,{className:"sm:max-w-[400px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-lg",children:[n.jsxs(an,{children:[n.jsx(sn,{children:"Confirm Deletion"}),n.jsx(Ha,{children:"Are you sure you want to delete this sample document?"})]}),n.jsxs(WF,{children:[n.jsx(Pe,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),n.jsx(Pe,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:async()=>{await L(A),C(!1)},children:p?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})})]})},YQ=()=>{const{user:e}=it(F=>F.auth),[t,r]=x.useState(!1),[a,o]=x.useState(""),[l,c]=x.useState(""),[d,f]=x.useState(""),[m,g]=x.useState(""),[p,v]=x.useState([]),[b,j]=x.useState([]),[k,N]=x.useState(!1),[S,C]=x.useState(null),[A,I]=x.useState(1),[D,T]=x.useState(25),B="https://fyp-buddy.up.railway.app/",X=localStorage.getItem("accessToken"),Y=F=>{const V=Array.from(F.target.files),R=6*1024*1024,_=V.filter($=>$.size>R);if(_.length>0){ee.error(`${_.length} file(s) exceed 6MB limit. Please select smaller files.`),F.target.value="";return}v($=>[...$,...V])},K=F=>{v(V=>V.filter((R,_)=>_!==F))},le=async F=>{if(F.preventDefault(),!a){ee.error("Please select an entity");return}if(a==="student"&&!l){ee.error("Please select a phase for students");return}if(!d.trim()){ee.error("Please enter a title");return}if(!m.trim()){ee.error("Please enter a description");return}try{r(!0);const V=new FormData;V.append("entity",a),a==="student"&&V.append("phase",l),V.append("title",d),V.append("description",m),p.forEach(_=>{V.append("files",_)}),(await De.post(`${B}/announcements/create`,V,{headers:{Authorization:`Bearer ${X}`,"Content-Type":"multipart/form-data"},withCredentials:!0})).data.success&&(ee.success("Announcement created successfully!"),o(""),c(""),f(""),g(""),v([]),W())}catch(V){console.error("Error creating announcement:",V);const R=V.response?.data?.message||"Failed to create announcement";ee.error(R)}finally{r(!1)}},L=()=>{o(""),c(""),f(""),g(""),v([])},W=async()=>{try{N(!0);const F=await De.get(`${B}/announcements/get-all`,{headers:{Authorization:`Bearer ${X}`},withCredentials:!0});if(F.data.success){const R=(F.data.data||[]).filter(_=>_.department===e?.department);R.sort((_,$)=>new Date($.createdAt)-new Date(_.createdAt)),j(R)}else j([])}catch(F){console.error("Error fetching announcements:",F),ee.error("Failed to load announcements"),j([])}finally{N(!1)}},Q=async F=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{C(F),(await De.delete(`${B}/announcements/delete/${F}`,{headers:{Authorization:`Bearer ${X}`},withCredentials:!0})).data.success&&(ee.success("Announcement deleted successfully!"),W())}catch(V){console.error("Error deleting announcement:",V);const R=V.response?.data?.message||"Failed to delete announcement";ee.error(R)}finally{C(null)}},Z=F=>F?new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";x.useEffect(()=>{W()},[]);const U=x.useMemo(()=>{const F=(A-1)*D,V=F+D;return b.slice(F,V)},[b,A,D]),G=Math.ceil(b.length/D);return n.jsxs(n.Fragment,{children:[n.jsx(fr,{title:"Announcements | FYP Buddy - Coordinator Panel",description:"Create and manage FYP announcements. Communicate important updates, deadlines, and information to all students and supervisors.",keywords:"FYP announcements, system notifications, coordinator communications, project updates"}),n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:"coordinator"}),n.jsxs("main",{className:"flex flex-col gap-5 w-full",children:[n.jsxs(Te,{className:"w-full max-w-5xl mx-auto text-center p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:["Manage "," ",n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Announcements"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Make announcements for students and supervisors in your department."})]}),n.jsx(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:n.jsxs("form",{onSubmit:le,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"entity",className:"text-sm font-medium",children:"Select Audience"}),n.jsxs(Es,{value:a,onValueChange:o,children:[n.jsx(Ts,{id:"entity",className:"border border-gray-400 dark:border-gray-700 w-full",children:n.jsx(As,{placeholder:"Student or Supervisor"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"student",children:"Students"}),n.jsx(kr,{value:"supervisor",children:"Supervisors"})]})]})]}),a==="student"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"phase",className:"text-sm font-medium",children:"Select Phase"}),n.jsxs(Es,{value:l,onValueChange:c,children:[n.jsx(Ts,{id:"phase",className:"border border-gray-400 dark:border-gray-700 w-full",children:n.jsx(As,{placeholder:"Select phase"})}),n.jsxs(Rs,{children:[n.jsx(kr,{value:"Proposal",children:"Proposal"}),n.jsx(kr,{value:"Progress",children:"Progress"}),n.jsx(kr,{value:"Defence",children:"Defence"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),n.jsx(st,{id:"title",type:"text",placeholder:"Enter announcement title",value:d,onChange:F=>f(F.target.value),className:"border border-gray-400 dark:border-gray-700"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),n.jsx(tl,{id:"description",placeholder:"Enter announcement description",value:m,onChange:F=>g(F.target.value),rows:6,className:"border border-gray-400 dark:border-gray-700 resize-none"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ht,{htmlFor:"files",className:"text-sm font-medium",children:"Attachments (Optional)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Pe,{type:"button",variant:"outline",onClick:()=>document.getElementById("file-input").click(),className:"flex items-center gap-2",children:[n.jsx(ic,{className:"w-4 h-4"}),"Upload Files"]}),n.jsx("input",{id:"file-input",type:"file",multiple:!0,onChange:Y,className:"hidden"}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.length>0?`${p.length} file(s) selected`:"No files selected"})]}),p.length>0&&n.jsx("div",{className:"mt-3 space-y-2",children:p.map((F,V)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[n.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:F.name}),n.jsx(Pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>K(V),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:n.jsx(tn,{className:"w-4 h-4"})})]},V))})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(Pe,{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:t?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(eo,{className:"w-4 h-4 mr-2"}),"Create Announcement"]})}),n.jsx(Pe,{type:"button",variant:"outline",onClick:L,disabled:t,className:"px-8",children:"Reset"})]})]})}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-lg rounded-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Your Announcements"}),n.jsxs(Pe,{onClick:W,disabled:k,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(yC,{className:`w-4 h-4 ${k?"animate-spin":""}`}),"Refresh"]})]}),k?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsx(wt,{className:"animate-spin w-8 h-8 text-purple-500"})}):b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No announcements yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create your first announcement using the form above."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:n.jsxs(Ds,{children:[n.jsx(Ms,{children:n.jsxs(Wr,{children:[n.jsx(Ct,{children:"Title"}),n.jsx(Ct,{children:"Audience"}),n.jsx(Ct,{children:"Phase"}),n.jsx(Ct,{children:"Created At"}),n.jsx(Ct,{className:"text-center",children:"Actions"})]})}),n.jsx(Os,{children:U.map(F=>n.jsxs(Wr,{children:[n.jsx(Et,{className:"font-medium",children:F.title}),n.jsx(Et,{children:n.jsx(Mn,{className:F.entity==="student"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:F.entity==="student"?"Students":"Supervisors"})}),n.jsx(Et,{children:F.phase?n.jsx(Mn,{className:F.phase==="Proposal"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":F.phase==="Progress"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",children:F.phase}):n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"N/A"})}),n.jsx(Et,{className:"text-sm text-gray-600 dark:text-gray-400",children:Z(F.createdAt)}),n.jsx(Et,{className:"text-center",children:n.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>Q(F._id),disabled:S===F._id,className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:S===F._id?n.jsx(wt,{className:"w-4 h-4 animate-spin"}):n.jsx(Ia,{className:"w-4 h-4"})})})]},F._id))})]})}),b.length>0&&n.jsx(op,{currentPage:A,totalPages:G,itemsPerPage:D,totalItems:b.length,onPageChange:I,onItemsPerPageChange:F=>{T(F),I(1)},itemLabel:"announcements"})]})]})]})]})})]})};function KQ({open:e,setOpen:t,userId:r}){const{theme:a}=it(b=>b.theme),[o,l]=x.useState(!1),[c,d]=x.useState({current:!1,new:!1,confirm:!1}),[f,m]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),g=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@]).{8,}$/,p=b=>{m({...f,[b.target.id]:b.target.value})},v=async b=>{if(b.preventDefault(),f.newPassword!==f.confirmPassword){ee.error("New password and confirmation do not match.");return}if(!g.test(f.newPassword)){ee.error("Password must contain at least 8 characters, one uppercase, one lowercase, one digit, and '@'.");return}const j="https://fyp-buddy.up.railway.app/",k=localStorage.getItem("accessToken");l(!0),ee.loading("Updating password...");try{const N=await De.put(`${j}/user/change-password/${r}`,f,{headers:{Authorization:`Bearer ${k}`}});ee.dismiss(),N.data.success&&(ee.success(N.data.message||"Password changed successfully!"),t(!1),m({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(N){ee.dismiss();const S=N.response?.data?.message||"Server error. Try again later.";ee.error(S)}finally{l(!1)}};return n.jsx(_r,{open:e,onOpenChange:t,children:n.jsx(Xr,{className:`sm:max-w-md rounded-2xl backdrop-blur-md bg-white dark:bg-gray-900 shadow-xl p-0 overflow-hidden transition-colors duration-300 ${a==="dark"?"dark":""}`,children:n.jsx(Te,{className:"border-none shadow-md rounded-xl bg-white dark:bg-gray-800 transition-colors duration-300",children:n.jsxs(Dn,{className:"flex flex-col justify-between p-6",children:[n.jsxs(an,{className:"text-center mb-4",children:[n.jsxs(sn,{className:"text-2xl font-semibold text-purple-600 dark:text-gray-100 flex items-center justify-center gap-2",children:[n.jsx(sc,{className:"w-5 h-5"})," Change Password"]}),n.jsx(Ha,{className:"text-gray-500 dark:text-gray-300 text-sm text-center",children:"Update your account password securely"})]}),n.jsxs("form",{className:"space-y-4 mt-4",onSubmit:v,children:[n.jsxs("div",{className:"space-y-2 relative",children:[n.jsx(Ht,{htmlFor:"currentPassword",className:"dark:text-gray-100",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"currentPassword",type:c.current?"text":"password",placeholder:"Enter current password",required:!0,value:f.currentPassword,onChange:p,className:"focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 pr-10 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),n.jsx("button",{type:"button",onClick:()=>d(b=>({...b,current:!b.current})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600",children:c.current?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(ba,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"space-y-2 relative",children:[n.jsx(Ht,{htmlFor:"newPassword",className:"dark:text-gray-100",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"newPassword",type:c.new?"text":"password",placeholder:"Enter new password",required:!0,value:f.newPassword,onChange:p,className:"focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 pr-10 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),n.jsx("button",{type:"button",onClick:()=>d(b=>({...b,new:!b.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600",children:c.new?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(ba,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"space-y-2 relative",children:[n.jsx(Ht,{htmlFor:"confirmPassword",className:"dark:text-gray-100",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(st,{id:"confirmPassword",type:c.confirm?"text":"password",placeholder:"Confirm new password",required:!0,value:f.confirmPassword,onChange:p,className:"focus-visible:ring-purple-500 dark:focus-visible:ring-gray-100 pr-10 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"}),n.jsx("button",{type:"button",onClick:()=>d(b=>({...b,confirm:!b.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-purple-600",children:c.confirm?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(ba,{className:"h-5 w-5"})})]})]}),n.jsx(Pe,{type:"submit",disabled:o,className:"w-full mt-6 bg-purple-600  cursor-pointer hover:bg-purple-700 dark:bg-gray-100 dark:text-gray-900 font-semibold flex items-center justify-center py-5 rounded-xl shadow-md transition-all duration-300",children:o?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-5 w-5 mr-2"}),"Updating..."]}):"Save Password"})]})]})})})})}const oh=()=>{const{theme:e}=it(Ee=>Ee.theme),{user:t}=it(Ee=>Ee.auth),r=sa(),a="https://fyp-buddy.up.railway.app/",o=localStorage.getItem("accessToken"),l=t?.role?.toLowerCase()||"student",[c,d]=x.useState(!1),[f,m]=x.useState(!1),[g,p]=x.useState(""),[v,b]=x.useState(null),[j,k]=x.useState(null),[N,S]=x.useState(t?.email||""),[C,A]=x.useState(!1),[I,D]=x.useState(t?.email||""),[T,B]=x.useState(!1),[X,Y]=x.useState(!1),[K,le]=x.useState(!1),[L,W]=x.useState({fullName:t?.username||"",fatherName:t?.fatherName||"",specialization:t?.specialization||"",cnicPassport:t?.cnic||"",registrationNo:t?.registrationNo||"",dateOfBirth:t?.dateOfBirth||"",rollNo:t?.rollNo||"",gender:t?.gender||"",department:t?.department||"",shift:t?.shift||"",semester:t?.semester||"",section:t?.section||"",phone:t?.phone||""}),[Q]=x.useState(t?.email||""),[Z]=x.useState(t?.cnic||""),U=Ee=>{const{name:Re,value:Be}=Ee.target;let $e=Be;Be==null||Be.trim()===""?Y(!0):Y(!1),Re==="fullName"||Re==="fatherName"?$e=Be.replace(/[^a-zA-Z\s]/g,""):Re==="cnicPassport"?$e=Be.replace(/\D/g,"").slice(0,13):Re==="email"?$e=Be.toLowerCase():Re==="phone"?$e=Be.replace(/\D/g,"").slice(0,11):$e=Be,W(bt=>({...bt,[Re]:$e}))},G=Ee=>{const Re=Ee.target.value.trim();if(S(Re),Re===""){A(!1),Y(!0);return}Re===I||Re===Q?(A(!1),Y(!1)):(A(!0),Y(!1))},F=()=>d(Ee=>!Ee),V=Ee=>{const Re=Ee.target.files[0];Re&&(b(Re),k(URL.createObjectURL(Re)))},R=()=>{W({fullName:t?.username||"",fatherName:t?.fatherName||"",specialization:t?.specialization||"",cnicPassport:t?.cnic||"",registrationNo:t?.registrationNo||"",dateOfBirth:t?.dateOfBirth||"",rollNo:t?.rollNo||"",gender:t?.gender||"",department:t?.department||"",shift:t?.shift||"",semester:t?.semester||"",section:t?.section||"",phone:t?.phone||""}),S(t?.email||""),k(null),b(null),m(!1),A(!1),Y(!1),d(!1)},_=async()=>{const Ee=/^\d{13}$/,Re=/^\d{11}$/,Be=String(L.cnicPassport),$e=String(L.phone);if(L.cnicPassport!==Z&&!Ee.test(Be)){ee.error("CNIC must be exactly 13 digits without dashes.");return}if(L.fullName.replace(/\s/g,"").length<3){ee.error("Full Name must have at least 3 letters");return}if(L.fullName.replace(/\s/g,"").length<3){ee.error("Father's Name must have at least 3 letters");return}if(!Re.test($e)){ee.error("Contact Number must conatin 11 digits");return}try{le(!0);const mt=new FormData;mt.append("username",L.fullName),mt.append("fatherName",L.fatherName),mt.append("specialization",L.specialization),mt.append("registrationNo",L.registrationNo),mt.append("dateOfBirth",L.dateOfBirth),mt.append("rollNo",L.rollNo),mt.append("gender",L.gender),mt.append("department",L.department),mt.append("shift",L.shift),mt.append("semester",L.semester),mt.append("section",L.section),mt.append("phone",L.phone),v&&mt.append("file",v),N!==Q&&mt.append("email",N),L.cnicPassport!==Z&&mt.append("cnic",L.cnicPassport);const kt=await De.put(`${a}/user/update-profile/${t._id}`,mt,{headers:{Authorization:`Bearer ${o}`},withCredentials:!0});kt.data.success&&(ee.success(kt.data.message),d(!1),r(Xm(kt.data.user)))}catch(mt){const kt=mt?.response?.data?.message||mt?.response?.data||"Failed to update profile";ee.error(kt)}finally{le(!1)}},$=async()=>{if(!C)return;if(!/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/.test(N)){ee.error("Invalid email address");return}try{le(!0);const Re=await De.post(`${a}/user/email-change/${t._id}`,{newEmail:N},{headers:{Authorization:`Bearer ${o}`},withCredentials:!0});Re.data.success&&(m(!0),ee.success(Re.data.message))}catch(Re){const Be=Re?.response?.data?.message||Re?.response?.data||"Unable to verify your new email";ee.error(Be)}finally{le(!1)}},z=async()=>{if(g.length!==6){ee.error("Please enter complete 6-digit OTP");return}try{le(!0);const Ee=await De.post(`${a}/user/verify-email/${t._id}`,{otp:g,newEmail:N},{headers:{Authorization:`Bearer ${o}`},withCredentials:!0});Ee.data.success&&(m(!1),D(N),A(!1),ee.success(Ee.data.message))}catch(Ee){const Re=Ee?.response?.data?.message||Ee?.response?.data||"Unable to verify your new email";ee.error(Re)}finally{le(!1)}},ue=l==="student",ve=l==="supervisor",re=l==="admin",ce=[{key:"fullName",label:"Full Name",icon:Rn},...ue?[{key:"fatherName",label:"Father Name",icon:Rn}]:[],{key:"cnicPassport",label:"CNIC / Passport",icon:km},...ue?[{key:"dateOfBirth",label:"Date of Birth",type:"date",icon:On}]:[],{key:"gender",label:"Gender",type:"select",options:["Male","Female","Other"],icon:Rn}],Me=[{key:"email",label:"Email",icon:Ba},{key:"phone",label:"Contact",icon:ii}],Ne=[...ve?[{key:"specialization",label:"Specialization",type:"select",options:["Computer Science","Database Engineer","Machine Learning","Artificial Intelligence","Software Engineering"],icon:fn}]:[],{key:"department",label:"Department",type:"select",options:["Software Engineering","Computer Science","Electrical Engineering","Information Technology","Artificial Intelligence","Cyber Security","Data Science"],icon:fn},...ue?[{key:"rollNo",label:"Roll No",icon:fn},{key:"semester",label:"Semester",type:"select",options:["6","7","8"],icon:fn},{key:"section",label:"Section",type:"select",options:["A","B","No Section"],icon:fn},{key:"shift",label:"Shift",type:"select",options:["Morning","Evening"],icon:fn}]:[],...ue?[{key:"registrationNo",label:"Registration No",icon:fn}]:[]],Ce=({key:Ee,label:Re,type:Be,options:$e,icon:bt})=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[bt&&n.jsx(bt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),Re]}),c?Be==="select"?Ee==="department"&&!re?n.jsxs("div",{className:"px-4 py-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 opacity-60 cursor-not-allowed",children:[n.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:L[Ee]||""}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Contact admin to change department"})]}):n.jsxs("select",{name:Ee,value:L[Ee]||"",onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 focus:border-transparent transition-all",children:[n.jsxs("option",{value:"",children:["Select ",Re]}),$e.map(jt=>n.jsx("option",{value:jt,children:jt},jt))]}):Ee==="email"?n.jsx(st,{type:"email",name:Ee,value:N,onChange:G,className:"dark:bg-gray-700 border-gray-300 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400"}):Ee==="dateOfBirth"?n.jsx(st,{type:"date",name:"dateOfBirth",value:L.dateOfBirth?new Date(L.dateOfBirth).toISOString().split("T")[0]:"",className:"dark:bg-gray-700 border-gray-300 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400",onChange:U}):n.jsx(st,{type:Be||"text",name:Ee,value:L[Ee]||"",onChange:U,className:"dark:bg-gray-700 border-gray-300 focus-visible:ring-purple-500 dark:focus-visible:ring-purple-400"}):n.jsx("div",{className:"px-4 py-2.5 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:Ee==="email"?N||"":Ee==="dateOfBirth"&&L[Ee]?new Date(L[Ee]).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):L[Ee]||""})})]});return n.jsx("div",{className:"min-h-screen mt-15",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 p-5",children:[n.jsx(Nr,{portalType:l}),n.jsxs("main",{className:"flex-1 flex flex-col gap-6",children:[n.jsx(Te,{className:"p-6 md:p-8 bg-white dark:bg-gray-800 shadow-lg rounded-2xl border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:items-start gap-6",children:[n.jsx("div",{className:"relative flex-shrink-0",children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"w-32 h-32 rounded-2xl overflow-hidden border-4 border-purple-200 dark:border-gray-700 shadow-lg",children:n.jsx("img",{src:j||t?.profilePic||Ir,alt:"Profile",className:"w-full h-full object-cover"})}),c&&n.jsx("label",{htmlFor:"profileImage",className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 rounded-2xl flex items-center justify-center cursor-pointer transition-opacity",children:n.jsx(uC,{className:"w-8 h-8 text-white"})}),n.jsx("input",{type:"file",id:"profileImage",accept:"image/*",className:"hidden",onChange:V})]})}),n.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:L.fullName||"User"}),n.jsx("div",{className:"flex items-center justify-center lg:justify-start gap-2 mt-2",children:n.jsx(Mn,{className:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300 capitalize",children:l})})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your personal information and account settings"})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:c?C?n.jsxs(n.Fragment,{children:[n.jsx(Pe,{onClick:$,disabled:K,className:"bg-purple-600 hover:bg-purple-700 text-white dark:bg-purple-500 dark:hover:bg-purple-600 cursor-pointer",children:K?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-4 w-4 mr-2"}),"Sending..."]}):"Verify Email"}),n.jsxs(Pe,{onClick:()=>{d(!1),m(!1),A(!1),S(Q)},variant:"outline",className:"cursor-pointer",children:[n.jsx(tn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pe,{onClick:_,disabled:K||X,className:"bg-purple-600 hover:bg-purple-700 text-white dark:bg-purple-500 dark:hover:bg-purple-600 cursor-pointer",children:K?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-4 w-4 mr-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rL,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),n.jsxs(Pe,{onClick:R,variant:"outline",className:"cursor-pointer",children:[n.jsx(tn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(Pe,{onClick:F,className:"bg-purple-600 hover:bg-purple-700 text-white dark:bg-purple-500 dark:hover:bg-purple-600 cursor-pointer",children:[n.jsx(hL,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),n.jsxs(Pe,{onClick:()=>B(!0),variant:"outline",className:"cursor-pointer",children:[n.jsx(sc,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})})]})}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-md rounded-2xl border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:n.jsx(Rn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Personal"})," Information"]})]}),n.jsx("div",{className:"space-y-4",children:ce.map(Ee=>Ce(Ee))})]}),n.jsxs(Te,{className:"p-6 bg-white dark:bg-gray-800 shadow-md rounded-2xl border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:n.jsx(Ba,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Contact"})," Information"]})]}),n.jsx("div",{className:"space-y-4",children:Me.map(Ee=>Ce(Ee))})]}),n.jsxs(Te,{className:`p-6 bg-white dark:bg-gray-800 shadow-md rounded-2xl border border-gray-200 dark:border-gray-700 ${Ne.length>0?"lg:col-span-2":""}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:n.jsx(fn,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[n.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Academic"})," Information"]})]}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:Ne.map(Ee=>Ce(Ee))})]})]}),f&&n.jsx(_r,{open:f,onOpenChange:m,children:n.jsx(Xr,{className:"sm:max-w-md rounded-2xl bg-white dark:bg-gray-900 shadow-xl",children:n.jsx(Te,{className:"border-none shadow-none bg-transparent",children:n.jsxs("div",{className:"p-2",children:[n.jsxs(an,{className:"text-center mb-6",children:[n.jsx(sn,{className:"text-2xl font-semibold text-purple-600 dark:text-purple-400",children:"Verify New Email"}),n.jsxs(Ha,{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Enter the OTP sent to"," ",n.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:N})]})]}),n.jsx("div",{className:"flex justify-center gap-2 mb-6",children:Array.from({length:6}).map((Ee,Re)=>n.jsx(st,{type:"text",inputMode:"numeric",maxLength:1,value:g[Re]||"",onChange:Be=>{const $e=Be.target.value.replace(/[^0-9]/g,""),bt=g.substring(0,Re)+$e+g.substring(Re+1);if(p(bt),$e&&Re<5){const jt=document.getElementById(`otp-${Re+1}`);jt&&jt.focus()}},onKeyDown:Be=>{if(Be.key==="Backspace"&&!g[Re]&&Re>0){const $e=document.getElementById(`otp-${Re-1}`);$e&&$e.focus()}},id:`otp-${Re}`,className:"w-12 h-14 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400"},Re))}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[n.jsx(Pe,{type:"button",variant:"outline",onClick:()=>m(!1),className:"cursor-pointer",children:"Cancel"}),n.jsx(Pe,{onClick:z,disabled:K||g.length!==6,className:"bg-purple-600 hover:bg-purple-700 text-white dark:bg-purple-500 dark:hover:bg-purple-600 cursor-pointer",children:K?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"animate-spin h-4 w-4 mr-2"}),"Verifying..."]}):"Verify"})]})]})})})}),n.jsx(KQ,{open:T,setOpen:B,userId:t?._id})]})]})})},lh=({rolesAllowed:e,children:t})=>{const{user:r}=it(a=>a.auth)||{};return r?e.includes(r.role)?t?n.jsx(n.Fragment,{children:t}):n.jsx(Du,{}):n.jsx(yk,{to:"/unauthorized",replace:!0}):n.jsx(yk,{to:"/",replace:!0})},XQ=()=>n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:n.jsxs("div",{className:"relative p-8 text-center bg-white rounded-lg shadow-xl dark:bg-gray-800 max-w-md mx-auto",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(oL,{className:"w-24 h-24 text-red-500"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),n.jsx("h2",{className:"mt-2 text-xl font-semibold text-red-600 dark:text-red-400",children:"403 Forbidden"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"You do not have the necessary permissions to access this page."}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"We saw what were you trying to do there! "}),n.jsx("div",{className:"mt-8",children:n.jsx(Wi,{to:"/",className:"inline-block px-6 py-3 font-medium text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors",children:"Go Back Home"})})]})}),xs=({children:e})=>n.jsxs(n.Fragment,{children:[n.jsx(w7,{}),e]}),WQ=nD([{path:"/",element:n.jsx(xs,{children:n.jsx(xU,{})})},{path:"/about-us",element:n.jsxs(xs,{children:[n.jsx(ti,{}),n.jsx(wU,{}),n.jsx(ri,{})]})},{path:"/contact-us",element:n.jsxs(xs,{children:[n.jsx(ti,{}),n.jsx(jU,{}),n.jsx(ri,{})]})},{path:"/privacy-policy",element:n.jsxs(xs,{children:[n.jsx(ti,{}),n.jsx(kU,{}),n.jsx(ri,{})]})},{path:"/terms-and-conditions",element:n.jsxs(xs,{children:[n.jsx(ti,{}),n.jsx(NU,{}),n.jsx(ri,{})]})},{path:"/admin",element:n.jsx(xs,{children:n.jsxs(lh,{rolesAllowed:["admin"],children:[n.jsx(ti,{}),n.jsx(Du,{}),n.jsx(ri,{})]})}),children:[{path:"dashboard",element:n.jsx(SU,{})},{path:"users",element:n.jsx(TU,{})},{path:"profile",element:n.jsx(oh,{})}]},{path:"/student",element:n.jsx(xs,{children:n.jsxs(lh,{rolesAllowed:["student"],children:[n.jsx(ti,{}),n.jsx(Du,{}),n.jsx(ri,{})]})}),children:[{path:"dashboard",element:n.jsx(cH,{})},{path:"dashboard/supervisors",element:n.jsx(gH,{})},{path:"profile",element:n.jsx(oh,{})},{path:"fyp-group",element:n.jsx(pH,{})},{path:"chatbot",element:n.jsx(VX,{})},{path:"assigned-tasks",element:n.jsx(lW,{})},{path:"milestones",element:n.jsx(dW,{})},{path:"my-grades",element:n.jsx(cW,{})},{path:"team-chat",element:n.jsx(oW,{})},{path:"thesis",element:n.jsx(fW,{})}]},{path:"/supervisor",element:n.jsx(xs,{children:n.jsxs(lh,{rolesAllowed:["supervisor"],children:[n.jsx(ti,{}),n.jsx(Du,{}),n.jsx(ri,{})]})}),children:[{path:"dashboard",element:n.jsx(hW,{})},{path:"dashboard/supervision-requests",element:n.jsx(mW,{})},{path:"my-groups",element:n.jsx(pW,{})},{path:"manage-tasks",element:n.jsx(nQ,{})},{path:"grading",element:n.jsx(uQ,{})},{path:"team-chat",element:n.jsx(dQ,{})},{path:"profile",element:n.jsx(oh,{})}]},{path:"/coordinator",element:n.jsx(xs,{children:n.jsxs(lh,{rolesAllowed:["coordinator"],children:[n.jsx(ti,{}),n.jsx(Du,{}),n.jsx(ri,{})]})}),children:[{path:"dashboard",element:n.jsx(fQ,{})},{path:"milestones",element:n.jsx(hQ,{})},{path:"grading",element:n.jsx(qQ,{})},{path:"sample-documents",element:n.jsx(GQ,{})},{path:"documents",element:n.jsx(VQ,{})},{path:"announcements",element:n.jsx(YQ,{})},{path:"profile",element:n.jsx(oh,{})}]},{path:"/unauthorized",element:n.jsx(xs,{children:n.jsx(XQ,{})})}]),QQ=()=>n.jsx(_M,{children:n.jsx(pD,{router:WQ})});function _h(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_h=function(r){return typeof r}:_h=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_h(e)}function ZQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JQ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function eZ(e,t,r){return t&&JQ(e.prototype,t),e}function tZ(e,t){return t&&(_h(t)==="object"||typeof t=="function")?t:Dh(e)}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function Dh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dy(e,t)}function Dy(e,t){return Dy=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},Dy(e,t)}function Mh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GT=(function(e){rZ(t,e);function t(){var r,a;ZQ(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return a=tZ(this,(r=_y(t)).call.apply(r,[this].concat(l))),Mh(Dh(a),"state",{bootstrapped:!1}),Mh(Dh(a),"_unsubscribe",void 0),Mh(Dh(a),"handlePersistorState",function(){var d=a.props.persistor,f=d.getState(),m=f.bootstrapped;m&&(a.props.onBeforeLift?Promise.resolve(a.props.onBeforeLift()).finally(function(){return a.setState({bootstrapped:!0})}):a.setState({bootstrapped:!0}),a._unsubscribe&&a._unsubscribe())}),a}return eZ(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t})(x.PureComponent);Mh(GT,"defaultProps",{children:null,loading:null});const nZ=({children:e})=>{const{theme:t}=it(r=>r.theme);return n.jsx("div",{className:t,children:n.jsx("div",{className:"bg-gray-200 text-gray-800 dark:text-gray-200 dark:bg-gray-900",children:e})})},aZ=JU(E4);aR.createRoot(document.getElementById("root")).render(n.jsx(x.StrictMode,{children:n.jsx(j4,{children:n.jsx(SM,{store:E4,children:n.jsx(GT,{loading:null,persistor:aZ,children:n.jsxs(nZ,{children:[n.jsx(QQ,{}),n.jsx(v7,{position:"bottom-right",reverseOrder:!1})]})})})})}));
